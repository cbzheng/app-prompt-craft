(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();function Wf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var af={exports:{}},ys={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function QE(){if(fg)return ys;fg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(l,a,u){var c=null;if(u!==void 0&&(c=""+u),a.key!==void 0&&(c=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:e,type:l,key:c,ref:a!==void 0?a:null,props:u}}return ys.Fragment=t,ys.jsx=o,ys.jsxs=o,ys}var dg;function WE(){return dg||(dg=1,af.exports=QE()),af.exports}var b=WE(),rf={exports:{}},Ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function jE(){if(pg)return Ee;pg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,D={};function R(x,k,te){this.props=x,this.context=k,this.refs=D,this.updater=te||w}R.prototype.isReactComponent={},R.prototype.setState=function(x,k){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,k,"setState")},R.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function L(){}L.prototype=R.prototype;function z(x,k,te){this.props=x,this.context=k,this.refs=D,this.updater=te||w}var U=z.prototype=new L;U.constructor=z,N(U,R.prototype),U.isPureReactComponent=!0;var O=Array.isArray;function Y(){}var F={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function H(x,k,te){var le=te.ref;return{$$typeof:e,type:x,key:k,ref:le!==void 0?le:null,props:te}}function K(x,k){return H(x.type,k,x.props)}function W(x){return typeof x=="object"&&x!==null&&x.$$typeof===e}function oe(x){var k={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(te){return k[te]})}var ne=/\/+/g;function M(x,k){return typeof x=="object"&&x!==null&&x.key!=null?oe(""+x.key):k.toString(36)}function Z(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Y,Y):(x.status="pending",x.then(function(k){x.status==="pending"&&(x.status="fulfilled",x.value=k)},function(k){x.status==="pending"&&(x.status="rejected",x.reason=k)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function A(x,k,te,le,ce){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var he=!1;if(x===null)he=!0;else switch(de){case"bigint":case"string":case"number":he=!0;break;case"object":switch(x.$$typeof){case e:case t:he=!0;break;case y:return he=x._init,A(he(x._payload),k,te,le,ce)}}if(he)return ce=ce(x),he=le===""?"."+M(x,0):le,O(ce)?(te="",he!=null&&(te=he.replace(ne,"$&/")+"/"),A(ce,k,te,"",function(ze){return ze})):ce!=null&&(W(ce)&&(ce=K(ce,te+(ce.key==null||x&&x.key===ce.key?"":(""+ce.key).replace(ne,"$&/")+"/")+he)),k.push(ce)),1;he=0;var Te=le===""?".":le+":";if(O(x))for(var Se=0;Se<x.length;Se++)le=x[Se],de=Te+M(le,Se),he+=A(le,k,te,de,ce);else if(Se=T(x),typeof Se=="function")for(x=Se.call(x),Se=0;!(le=x.next()).done;)le=le.value,de=Te+M(le,Se++),he+=A(le,k,te,de,ce);else if(de==="object"){if(typeof x.then=="function")return A(Z(x),k,te,le,ce);throw k=String(x),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return he}function V(x,k,te){if(x==null)return x;var le=[],ce=0;return A(x,le,"","",function(de){return k.call(te,de,ce++)}),le}function B(x){if(x._status===-1){var k=x._result;k=k(),k.then(function(te){(x._status===0||x._status===-1)&&(x._status=1,x._result=te)},function(te){(x._status===0||x._status===-1)&&(x._status=2,x._result=te)}),x._status===-1&&(x._status=0,x._result=k)}if(x._status===1)return x._result.default;throw x._result}var q=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},j={map:V,forEach:function(x,k,te){V(x,function(){k.apply(this,arguments)},te)},count:function(x){var k=0;return V(x,function(){k++}),k},toArray:function(x){return V(x,function(k){return k})||[]},only:function(x){if(!W(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ee.Activity=_,Ee.Children=j,Ee.Component=R,Ee.Fragment=o,Ee.Profiler=a,Ee.PureComponent=z,Ee.StrictMode=l,Ee.Suspense=g,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(x){return F.H.useMemoCache(x)}},Ee.cache=function(x){return function(){return x.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(x,k,te){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var le=N({},x.props),ce=x.key;if(k!=null)for(de in k.key!==void 0&&(ce=""+k.key),k)!ie.call(k,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&k.ref===void 0||(le[de]=k[de]);var de=arguments.length-2;if(de===1)le.children=te;else if(1<de){for(var he=Array(de),Te=0;Te<de;Te++)he[Te]=arguments[Te+2];le.children=he}return H(x.type,ce,le)},Ee.createContext=function(x){return x={$$typeof:c,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ee.createElement=function(x,k,te){var le,ce={},de=null;if(k!=null)for(le in k.key!==void 0&&(de=""+k.key),k)ie.call(k,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=k[le]);var he=arguments.length-2;if(he===1)ce.children=te;else if(1<he){for(var Te=Array(he),Se=0;Se<he;Se++)Te[Se]=arguments[Se+2];ce.children=Te}if(x&&x.defaultProps)for(le in he=x.defaultProps,he)ce[le]===void 0&&(ce[le]=he[le]);return H(x,de,ce)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(x){return{$$typeof:p,render:x}},Ee.isValidElement=W,Ee.lazy=function(x){return{$$typeof:y,_payload:{_status:-1,_result:x},_init:B}},Ee.memo=function(x,k){return{$$typeof:h,type:x,compare:k===void 0?null:k}},Ee.startTransition=function(x){var k=F.T,te={};F.T=te;try{var le=x(),ce=F.S;ce!==null&&ce(te,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Y,q)}catch(de){q(de)}finally{k!==null&&te.types!==null&&(k.types=te.types),F.T=k}},Ee.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ee.use=function(x){return F.H.use(x)},Ee.useActionState=function(x,k,te){return F.H.useActionState(x,k,te)},Ee.useCallback=function(x,k){return F.H.useCallback(x,k)},Ee.useContext=function(x){return F.H.useContext(x)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(x,k){return F.H.useDeferredValue(x,k)},Ee.useEffect=function(x,k){return F.H.useEffect(x,k)},Ee.useEffectEvent=function(x){return F.H.useEffectEvent(x)},Ee.useId=function(){return F.H.useId()},Ee.useImperativeHandle=function(x,k,te){return F.H.useImperativeHandle(x,k,te)},Ee.useInsertionEffect=function(x,k){return F.H.useInsertionEffect(x,k)},Ee.useLayoutEffect=function(x,k){return F.H.useLayoutEffect(x,k)},Ee.useMemo=function(x,k){return F.H.useMemo(x,k)},Ee.useOptimistic=function(x,k){return F.H.useOptimistic(x,k)},Ee.useReducer=function(x,k,te){return F.H.useReducer(x,k,te)},Ee.useRef=function(x){return F.H.useRef(x)},Ee.useState=function(x){return F.H.useState(x)},Ee.useSyncExternalStore=function(x,k,te){return F.H.useSyncExternalStore(x,k,te)},Ee.useTransition=function(){return F.H.useTransition()},Ee.version="19.2.0",Ee}var hg;function ks(){return hg||(hg=1,rf.exports=jE()),rf.exports}var X=ks();const ae=Wf(X);var uf={exports:{}},vs={},cf={exports:{}},ff={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function eT(){return mg||(mg=1,(function(e){function t(A,V){var B=A.length;A.push(V);e:for(;0<B;){var q=B-1>>>1,j=A[q];if(0<a(j,V))A[q]=V,A[B]=j,B=q;else break e}}function o(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var V=A[0],B=A.pop();if(B!==V){A[0]=B;e:for(var q=0,j=A.length,x=j>>>1;q<x;){var k=2*(q+1)-1,te=A[k],le=k+1,ce=A[le];if(0>a(te,B))le<j&&0>a(ce,te)?(A[q]=ce,A[le]=B,q=le):(A[q]=te,A[k]=B,q=k);else if(le<j&&0>a(ce,B))A[q]=ce,A[le]=B,q=le;else break e}}return V}function a(A,V){var B=A.sortIndex-V.sortIndex;return B!==0?B:A.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,p=c.now();e.unstable_now=function(){return c.now()-p}}var g=[],h=[],y=1,_=null,S=3,T=!1,w=!1,N=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function U(A){for(var V=o(h);V!==null;){if(V.callback===null)l(h);else if(V.startTime<=A)l(h),V.sortIndex=V.expirationTime,t(g,V);else break;V=o(h)}}function O(A){if(N=!1,U(A),!w)if(o(g)!==null)w=!0,Y||(Y=!0,oe());else{var V=o(h);V!==null&&Z(O,V.startTime-A)}}var Y=!1,F=-1,ie=5,H=-1;function K(){return D?!0:!(e.unstable_now()-H<ie)}function W(){if(D=!1,Y){var A=e.unstable_now();H=A;var V=!0;try{e:{w=!1,N&&(N=!1,L(F),F=-1),T=!0;var B=S;try{t:{for(U(A),_=o(g);_!==null&&!(_.expirationTime>A&&K());){var q=_.callback;if(typeof q=="function"){_.callback=null,S=_.priorityLevel;var j=q(_.expirationTime<=A);if(A=e.unstable_now(),typeof j=="function"){_.callback=j,U(A),V=!0;break t}_===o(g)&&l(g),U(A)}else l(g);_=o(g)}if(_!==null)V=!0;else{var x=o(h);x!==null&&Z(O,x.startTime-A),V=!1}}break e}finally{_=null,S=B,T=!1}V=void 0}}finally{V?oe():Y=!1}}}var oe;if(typeof z=="function")oe=function(){z(W)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,M=ne.port2;ne.port1.onmessage=W,oe=function(){M.postMessage(null)}}else oe=function(){R(W,0)};function Z(A,V){F=R(function(){A(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(A){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var B=S;S=V;try{return A()}finally{S=B}},e.unstable_requestPaint=function(){D=!0},e.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var B=S;S=A;try{return V()}finally{S=B}},e.unstable_scheduleCallback=function(A,V,B){var q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?q+B:q):B=q,A){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=B+j,A={id:y++,callback:V,priorityLevel:A,startTime:B,expirationTime:j,sortIndex:-1},B>q?(A.sortIndex=B,t(h,A),o(g)===null&&A===o(h)&&(N?(L(F),F=-1):N=!0,Z(O,B-q))):(A.sortIndex=j,t(g,A),w||T||(w=!0,Y||(Y=!0,oe()))),A},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(A){var V=S;return function(){var B=S;S=V;try{return A.apply(this,arguments)}finally{S=B}}}})(ff)),ff}var gg;function tT(){return gg||(gg=1,cf.exports=eT()),cf.exports}var df={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function nT(){if(yg)return At;yg=1;var e=ks();function t(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(g,h,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:g,containerInfo:h,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,At.createPortal=function(g,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return u(g,h,null,y)},At.flushSync=function(g){var h=c.T,y=l.p;try{if(c.T=null,l.p=2,g)return g()}finally{c.T=h,l.p=y,l.d.f()}},At.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,l.d.C(g,h))},At.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},At.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var y=h.as,_=p(y,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,T=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?l.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:T}):y==="script"&&l.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:T,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},At.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=p(h.as,h.crossOrigin);l.d.M(g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&l.d.M(g)},At.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,_=p(y,h.crossOrigin);l.d.L(g,y,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},At.preloadModule=function(g,h){if(typeof g=="string")if(h){var y=p(h.as,h.crossOrigin);l.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else l.d.m(g)},At.requestFormReset=function(g){l.d.r(g)},At.unstable_batchedUpdates=function(g,h){return g(h)},At.useFormState=function(g,h,y){return c.H.useFormState(g,h,y)},At.useFormStatus=function(){return c.H.useHostTransitionStatus()},At.version="19.2.0",At}var vg;function F0(){if(vg)return df.exports;vg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),df.exports=nT(),df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function iT(){if(_g)return vs;_g=1;var e=tT(),t=ks(),o=F0();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(l(188))}function h(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(l(188));return i!==n?null:n}for(var s=n,r=i;;){var m=s.return;if(m===null)break;var v=m.alternate;if(v===null){if(r=m.return,r!==null){s=r;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===s)return g(m),n;if(v===r)return g(m),i;v=v.sibling}throw Error(l(188))}if(s.return!==r.return)s=m,r=v;else{for(var E=!1,C=m.child;C;){if(C===s){E=!0,s=m,r=v;break}if(C===r){E=!0,r=m,s=v;break}C=C.sibling}if(!E){for(C=v.child;C;){if(C===s){E=!0,s=v,r=m;break}if(C===r){E=!0,r=v,s=m;break}C=C.sibling}if(!E)throw Error(l(189))}}if(s.alternate!==r)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function oe(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var ne=Symbol.for("react.client.reference");function M(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ne?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case R:return"Profiler";case D:return"StrictMode";case O:return"Suspense";case Y:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case z:return n.displayName||"Context";case L:return(n._context.displayName||"Context")+".Consumer";case U:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return i=n.displayName||null,i!==null?i:M(n.type)||"Memo";case ie:i=n._payload,n=n._init;try{return M(n(i))}catch{}}return null}var Z=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},q=[],j=-1;function x(n){return{current:n}}function k(n){0>j||(n.current=q[j],q[j]=null,j--)}function te(n,i){j++,q[j]=n.current,n.current=i}var le=x(null),ce=x(null),de=x(null),he=x(null);function Te(n,i){switch(te(de,i),te(ce,n),te(le,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?zm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=zm(i),n=Lm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}k(le),te(le,n)}function Se(){k(le),k(ce),k(de)}function ze(n){n.memoizedState!==null&&te(he,n);var i=le.current,s=Lm(i,n.type);i!==s&&(te(ce,n),te(le,s))}function Tt(n){ce.current===n&&(k(le),k(ce)),he.current===n&&(k(he),ps._currentValue=B)}var Ct,It;function lt(n){if(Ct===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ct=i&&i[1]||"",It=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ct+n+It}var Ke=!1;function Dt(n,i){if(!n||Ke)return"";Ke=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ee){var Q=ee}Reflect.construct(n,[],ue)}else{try{ue.call()}catch(ee){Q=ee}n.call(ue.prototype)}}else{try{throw Error()}catch(ee){Q=ee}(ue=n())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ee){if(ee&&Q&&typeof ee.stack=="string")return[ee.stack,Q.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=r.DetermineComponentFrameRoot(),E=v[0],C=v[1];if(E&&C){var I=E.split(`
`),$=C.split(`
`);for(m=r=0;r<I.length&&!I[r].includes("DetermineComponentFrameRoot");)r++;for(;m<$.length&&!$[m].includes("DetermineComponentFrameRoot");)m++;if(r===I.length||m===$.length)for(r=I.length-1,m=$.length-1;1<=r&&0<=m&&I[r]!==$[m];)m--;for(;1<=r&&0<=m;r--,m--)if(I[r]!==$[m]){if(r!==1||m!==1)do if(r--,m--,0>m||I[r]!==$[m]){var se=`
`+I[r].replace(" at new "," at ");return n.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",n.displayName)),se}while(1<=r&&0<=m);break}}}finally{Ke=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?lt(s):""}function Be(n,i){switch(n.tag){case 26:case 27:case 5:return lt(n.type);case 16:return lt("Lazy");case 13:return n.child!==i&&i!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return Dt(n.type,!1);case 11:return Dt(n.type.render,!1);case 1:return Dt(n.type,!0);case 31:return lt("Activity");default:return""}}function ye(n){try{var i="",s=null;do i+=Be(n,s),s=n,n=n.return;while(n);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var gt=Object.prototype.hasOwnProperty,fn=e.unstable_scheduleCallback,Dn=e.unstable_cancelCallback,ai=e.unstable_shouldYield,ri=e.unstable_requestPaint,Ze=e.unstable_now,ui=e.unstable_getCurrentPriorityLevel,En=e.unstable_ImmediatePriority,Tn=e.unstable_UserBlockingPriority,dn=e.unstable_NormalPriority,ci=e.unstable_LowPriority,fi=e.unstable_IdlePriority,pt=e.log,Vt=e.unstable_setDisableYieldValue,Pt=null,nt=null;function xt(n){if(typeof pt=="function"&&Vt(n),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Pt,n)}catch{}}var Qe=Math.clz32?Math.clz32:Cl,Zt=Math.log,Ji=Math.LN2;function Cl(n){return n>>>=0,n===0?32:31-(Zt(n)/Ji|0)|0}var Cn=256,di=262144,Xi=4194304;function Mt(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function To(n,i,s){var r=n.pendingLanes;if(r===0)return 0;var m=0,v=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var C=r&134217727;return C!==0?(r=C&~v,r!==0?m=Mt(r):(E&=C,E!==0?m=Mt(E):s||(s=C&~n,s!==0&&(m=Mt(s))))):(C=r&~v,C!==0?m=Mt(C):E!==0?m=Mt(E):s||(s=r&~n,s!==0&&(m=Mt(s)))),m===0?0:i!==0&&i!==m&&(i&v)===0&&(v=m&-m,s=i&-i,v>=s||v===32&&(s&4194048)!==0)?i:m}function $i(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function $r(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(){var n=Xi;return Xi<<=1,(Xi&62914560)===0&&(Xi=4194304),n}function xl(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Ki(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Kr(n,i,s,r,m,v){var E=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var C=n.entanglements,I=n.expirationTimes,$=n.hiddenUpdates;for(s=E&~s;0<s;){var se=31-Qe(s),ue=1<<se;C[se]=0,I[se]=-1;var Q=$[se];if(Q!==null)for($[se]=null,se=0;se<Q.length;se++){var ee=Q[se];ee!==null&&(ee.lane&=-536870913)}s&=~ue}r!==0&&Bs(n,r,0),v!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=v&~(E&~i))}function Bs(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var r=31-Qe(i);n.entangledLanes|=i,n.entanglements[r]=n.entanglements[r]|1073741824|s&261930}function Fs(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var r=31-Qe(s),m=1<<r;m&i|n[r]&i&&(n[r]|=i),s&=~m}}function Os(n,i){var s=i&-i;return s=(s&42)!==0?1:Al(s),(s&(n.suspendedLanes|i))!==0?0:s}function Al(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Nl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ys(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:og(n.type))}function Js(n,i){var s=V.p;try{return V.p=n,i()}finally{V.p=s}}var xn=Math.random().toString(36).slice(2),ft="__reactFiber$"+xn,yt="__reactProps$"+xn,pi="__reactContainer$"+xn,wl="__reactEvents$"+xn,Zr="__reactListeners$"+xn,Qr="__reactHandles$"+xn,Xs="__reactResources$"+xn,Zi="__reactMarker$"+xn;function Ml(n){delete n[ft],delete n[yt],delete n[wl],delete n[Zr],delete n[Qr]}function hi(n){var i=n[ft];if(i)return i;for(var s=n.parentNode;s;){if(i=s[pi]||s[ft]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=Bm(n);n!==null;){if(s=n[ft])return s;n=Bm(n)}return i}n=s,s=n.parentNode}return null}function Un(n){if(n=n[ft]||n[pi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function Qi(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function mi(n){var i=n[Xs];return i||(i=n[Xs]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function st(n){n[Zi]=!0}var $s=new Set,Ks={};function zn(n,i){Ln(n,i),Ln(n+"Capture",i)}function Ln(n,i){for(Ks[n]=i,n=0;n<i.length;n++)$s.add(i[n])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zs={},Qs={};function Rl(n){return gt.call(Qs,n)?!0:gt.call(Zs,n)?!1:Wr.test(n)?Qs[n]=!0:(Zs[n]=!0,!1)}function Ws(n,i,s){if(Rl(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function js(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function Hn(n,i,s,r){if(r===null)n.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+r)}}function Qt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Nd(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function O_(n,i,s){var r=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var m=r.get,v=r.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(E){s=""+E,v.call(this,E)}}),Object.defineProperty(n,i,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(E){s=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function jr(n){if(!n._valueTracker){var i=Nd(n)?"checked":"value";n._valueTracker=O_(n,i,""+n[i])}}function wd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),r="";return n&&(r=Nd(n)?n.checked?"true":"false":n.value),n=r,n!==s?(i.setValue(n),!0):!1}function ea(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Y_=/[\n"\\]/g;function Wt(n){return n.replace(Y_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function eu(n,i,s,r,m,v,E,C){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Qt(i)):n.value!==""+Qt(i)&&(n.value=""+Qt(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?tu(n,E,Qt(i)):s!=null?tu(n,E,Qt(s)):r!=null&&n.removeAttribute("value"),m==null&&v!=null&&(n.defaultChecked=!!v),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+Qt(C):n.removeAttribute("name")}function Md(n,i,s,r,m,v,E,C){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.type=v),i!=null||s!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){jr(n);return}s=s!=null?""+Qt(s):"",i=i!=null?""+Qt(i):s,C||i===n.value||(n.value=i),n.defaultValue=i}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=C?n.checked:!!r,n.defaultChecked=!!r,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),jr(n)}function tu(n,i,s){i==="number"&&ea(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Co(n,i,s,r){if(n=n.options,i){i={};for(var m=0;m<s.length;m++)i["$"+s[m]]=!0;for(s=0;s<n.length;s++)m=i.hasOwnProperty("$"+n[s].value),n[s].selected!==m&&(n[s].selected=m),m&&r&&(n[s].defaultSelected=!0)}else{for(s=""+Qt(s),i=null,m=0;m<n.length;m++){if(n[m].value===s){n[m].selected=!0,r&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function Rd(n,i,s){if(i!=null&&(i=""+Qt(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Qt(s):""}function bd(n,i,s,r){if(i==null){if(r!=null){if(s!=null)throw Error(l(92));if(Z(r)){if(1<r.length)throw Error(l(93));r=r[0]}s=r}s==null&&(s=""),i=s}s=Qt(i),n.defaultValue=s,r=n.textContent,r===s&&r!==""&&r!==null&&(n.value=r),jr(n)}function xo(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var J_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Id(n,i,s){var r=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":r?n.setProperty(i,s):typeof s!="number"||s===0||J_.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Dd(n,i,s){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var m in i)r=i[m],i.hasOwnProperty(m)&&s[m]!==r&&Id(n,m,r)}else for(var v in i)i.hasOwnProperty(v)&&Id(n,v,i[v])}function nu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(n){return $_.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function kn(){}var iu=null;function ou(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ao=null,No=null;function Ud(n){var i=Un(n);if(i&&(n=i.stateNode)){var s=n[yt]||null;e:switch(n=i.stateNode,i.type){case"input":if(eu(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Wt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var r=s[i];if(r!==n&&r.form===n.form){var m=r[yt]||null;if(!m)throw Error(l(90));eu(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<s.length;i++)r=s[i],r.form===n.form&&wd(r)}break e;case"textarea":Rd(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Co(n,!!s.multiple,i,!1)}}}var lu=!1;function zd(n,i,s){if(lu)return n(i,s);lu=!0;try{var r=n(i);return r}finally{if(lu=!1,(Ao!==null||No!==null)&&(Ba(),Ao&&(i=Ao,n=No,No=Ao=null,Ud(i),n)))for(i=0;i<n.length;i++)Ud(n[i])}}function bl(n,i){var s=n.stateNode;if(s===null)return null;var r=s[yt]||null;if(r===null)return null;s=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(l(231,i,typeof s));return s}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),su=!1;if(qn)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){su=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{su=!1}var gi=null,au=null,na=null;function Ld(){if(na)return na;var n,i=au,s=i.length,r,m="value"in gi?gi.value:gi.textContent,v=m.length;for(n=0;n<s&&i[n]===m[n];n++);var E=s-n;for(r=1;r<=E&&i[s-r]===m[v-r];r++);return na=m.slice(n,1<r?1-r:void 0)}function ia(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function oa(){return!0}function Hd(){return!1}function Ut(n){function i(s,r,m,v,E){this._reactName=s,this._targetInst=m,this.type=r,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(s=n[C],this[C]=s?s(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?oa:Hd,this.isPropagationStopped=Hd,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Ut(Wi),Dl=_({},Wi,{view:0,detail:0}),K_=Ut(Dl),ru,uu,Ul,sa=_({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ul&&(Ul&&n.type==="mousemove"?(ru=n.screenX-Ul.screenX,uu=n.screenY-Ul.screenY):uu=ru=0,Ul=n),ru)},movementY:function(n){return"movementY"in n?n.movementY:uu}}),kd=Ut(sa),Z_=_({},sa,{dataTransfer:0}),Q_=Ut(Z_),W_=_({},Dl,{relatedTarget:0}),cu=Ut(W_),j_=_({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=Ut(j_),tS=_({},Wi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nS=Ut(tS),iS=_({},Wi,{data:0}),qd=Ut(iS),oS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=sS[n])?!!i[n]:!1}function fu(){return aS}var rS=_({},Dl,{key:function(n){if(n.key){var i=oS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ia(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(n){return n.type==="keypress"?ia(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ia(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),uS=Ut(rS),cS=_({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=Ut(cS),fS=_({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),dS=Ut(fS),pS=_({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),hS=Ut(pS),mS=_({},sa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=Ut(mS),yS=_({},Wi,{newState:0,oldState:0}),vS=Ut(yS),_S=[9,13,27,32],du=qn&&"CompositionEvent"in window,zl=null;qn&&"documentMode"in document&&(zl=document.documentMode);var SS=qn&&"TextEvent"in window&&!zl,Vd=qn&&(!du||zl&&8<zl&&11>=zl),Pd=" ",Bd=!1;function Fd(n,i){switch(n){case"keyup":return _S.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function ES(n,i){switch(n){case"compositionend":return Od(i);case"keypress":return i.which!==32?null:(Bd=!0,Pd);case"textInput":return n=i.data,n===Pd&&Bd?null:n;default:return null}}function TS(n,i){if(wo)return n==="compositionend"||!du&&Fd(n,i)?(n=Ld(),na=au=gi=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vd&&i.locale!=="ko"?null:i.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!CS[n.type]:i==="textarea"}function Jd(n,i,s,r){Ao?No?No.push(r):No=[r]:Ao=r,i=Ka(i,"onChange"),0<i.length&&(s=new la("onChange","change",null,s,r),n.push({event:s,listeners:i}))}var Ll=null,Hl=null;function xS(n){Mm(n,0)}function aa(n){var i=Qi(n);if(wd(i))return n}function Xd(n,i){if(n==="change")return i}var $d=!1;if(qn){var pu;if(qn){var hu="oninput"in document;if(!hu){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),hu=typeof Kd.oninput=="function"}pu=hu}else pu=!1;$d=pu&&(!document.documentMode||9<document.documentMode)}function Zd(){Ll&&(Ll.detachEvent("onpropertychange",Qd),Hl=Ll=null)}function Qd(n){if(n.propertyName==="value"&&aa(Hl)){var i=[];Jd(i,Hl,n,ou(n)),zd(xS,i)}}function AS(n,i,s){n==="focusin"?(Zd(),Ll=i,Hl=s,Ll.attachEvent("onpropertychange",Qd)):n==="focusout"&&Zd()}function NS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return aa(Hl)}function wS(n,i){if(n==="click")return aa(i)}function MS(n,i){if(n==="input"||n==="change")return aa(i)}function RS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Bt=typeof Object.is=="function"?Object.is:RS;function kl(n,i){if(Bt(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),r=Object.keys(i);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var m=s[r];if(!gt.call(i,m)||!Bt(n[m],i[m]))return!1}return!0}function Wd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jd(n,i){var s=Wd(n);n=0;for(var r;s;){if(s.nodeType===3){if(r=n+s.textContent.length,n<=i&&r>=i)return{node:s,offset:i-n};n=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Wd(s)}}function ep(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?ep(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function tp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=ea(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=ea(n.document)}return i}function mu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var bS=qn&&"documentMode"in document&&11>=document.documentMode,Mo=null,gu=null,ql=null,yu=!1;function np(n,i,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yu||Mo==null||Mo!==ea(r)||(r=Mo,"selectionStart"in r&&mu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ql&&kl(ql,r)||(ql=r,r=Ka(gu,"onSelect"),0<r.length&&(i=new la("onSelect","select",null,i,s),n.push({event:i,listeners:r}),i.target=Mo)))}function ji(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var Ro={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionrun:ji("Transition","TransitionRun"),transitionstart:ji("Transition","TransitionStart"),transitioncancel:ji("Transition","TransitionCancel"),transitionend:ji("Transition","TransitionEnd")},vu={},ip={};qn&&(ip=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function eo(n){if(vu[n])return vu[n];if(!Ro[n])return n;var i=Ro[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in ip)return vu[n]=i[s];return n}var op=eo("animationend"),lp=eo("animationiteration"),sp=eo("animationstart"),IS=eo("transitionrun"),DS=eo("transitionstart"),US=eo("transitioncancel"),ap=eo("transitionend"),rp=new Map,_u="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_u.push("scrollEnd");function pn(n,i){rp.set(n,i),zn(i,[n])}var ra=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},jt=[],bo=0,Su=0;function ua(){for(var n=bo,i=Su=bo=0;i<n;){var s=jt[i];jt[i++]=null;var r=jt[i];jt[i++]=null;var m=jt[i];jt[i++]=null;var v=jt[i];if(jt[i++]=null,r!==null&&m!==null){var E=r.pending;E===null?m.next=m:(m.next=E.next,E.next=m),r.pending=m}v!==0&&up(s,m,v)}}function ca(n,i,s,r){jt[bo++]=n,jt[bo++]=i,jt[bo++]=s,jt[bo++]=r,Su|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function Eu(n,i,s,r){return ca(n,i,s,r),fa(n)}function to(n,i){return ca(n,null,null,i),fa(n)}function up(n,i,s){n.lanes|=s;var r=n.alternate;r!==null&&(r.lanes|=s);for(var m=!1,v=n.return;v!==null;)v.childLanes|=s,r=v.alternate,r!==null&&(r.childLanes|=s),v.tag===22&&(n=v.stateNode,n===null||n._visibility&1||(m=!0)),n=v,v=v.return;return n.tag===3?(v=n.stateNode,m&&i!==null&&(m=31-Qe(s),n=v.hiddenUpdates,r=n[m],r===null?n[m]=[i]:r.push(i),i.lane=s|536870912),v):null}function fa(n){if(50<ss)throw ss=0,bc=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Io={};function zS(n,i,s,r){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(n,i,s,r){return new zS(n,i,s,r)}function Tu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Gn(n,i){var s=n.alternate;return s===null?(s=Ft(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function cp(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function da(n,i,s,r,m,v){var E=0;if(r=n,typeof n=="function")Tu(n)&&(E=1);else if(typeof n=="string")E=GE(n,s,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=Ft(31,s,i,m),n.elementType=H,n.lanes=v,n;case N:return no(s.children,m,v,i);case D:E=8,m|=24;break;case R:return n=Ft(12,s,i,m|2),n.elementType=R,n.lanes=v,n;case O:return n=Ft(13,s,i,m),n.elementType=O,n.lanes=v,n;case Y:return n=Ft(19,s,i,m),n.elementType=Y,n.lanes=v,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:E=10;break e;case L:E=9;break e;case U:E=11;break e;case F:E=14;break e;case ie:E=16,r=null;break e}E=29,s=Error(l(130,n===null?"null":typeof n,"")),r=null}return i=Ft(E,s,i,m),i.elementType=n,i.type=r,i.lanes=v,i}function no(n,i,s,r){return n=Ft(7,n,r,i),n.lanes=s,n}function Cu(n,i,s){return n=Ft(6,n,null,i),n.lanes=s,n}function fp(n){var i=Ft(18,null,null,0);return i.stateNode=n,i}function xu(n,i,s){return i=Ft(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var dp=new WeakMap;function en(n,i){if(typeof n=="object"&&n!==null){var s=dp.get(n);return s!==void 0?s:(i={value:n,source:i,stack:ye(i)},dp.set(n,i),i)}return{value:n,source:i,stack:ye(i)}}var Do=[],Uo=0,pa=null,Gl=0,tn=[],nn=0,yi=null,An=1,Nn="";function Vn(n,i){Do[Uo++]=Gl,Do[Uo++]=pa,pa=n,Gl=i}function pp(n,i,s){tn[nn++]=An,tn[nn++]=Nn,tn[nn++]=yi,yi=n;var r=An;n=Nn;var m=32-Qe(r)-1;r&=~(1<<m),s+=1;var v=32-Qe(i)+m;if(30<v){var E=m-m%5;v=(r&(1<<E)-1).toString(32),r>>=E,m-=E,An=1<<32-Qe(i)+m|s<<m|r,Nn=v+n}else An=1<<v|s<<m|r,Nn=n}function Au(n){n.return!==null&&(Vn(n,1),pp(n,1,0))}function Nu(n){for(;n===pa;)pa=Do[--Uo],Do[Uo]=null,Gl=Do[--Uo],Do[Uo]=null;for(;n===yi;)yi=tn[--nn],tn[nn]=null,Nn=tn[--nn],tn[nn]=null,An=tn[--nn],tn[nn]=null}function hp(n,i){tn[nn++]=An,tn[nn++]=Nn,tn[nn++]=yi,An=i.id,Nn=i.overflow,yi=n}var vt=null,Ye=null,be=!1,vi=null,on=!1,wu=Error(l(519));function _i(n){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(en(i,n)),wu}function mp(n){var i=n.stateNode,s=n.type,r=n.memoizedProps;switch(i[ft]=n,i[yt]=r,s){case"dialog":we("cancel",i),we("close",i);break;case"iframe":case"object":case"embed":we("load",i);break;case"video":case"audio":for(s=0;s<rs.length;s++)we(rs[s],i);break;case"source":we("error",i);break;case"img":case"image":case"link":we("error",i),we("load",i);break;case"details":we("toggle",i);break;case"input":we("invalid",i),Md(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":we("invalid",i);break;case"textarea":we("invalid",i),bd(i,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||r.suppressHydrationWarning===!0||Dm(i.textContent,s)?(r.popover!=null&&(we("beforetoggle",i),we("toggle",i)),r.onScroll!=null&&we("scroll",i),r.onScrollEnd!=null&&we("scrollend",i),r.onClick!=null&&(i.onclick=kn),i=!0):i=!1,i||_i(n,!0)}function gp(n){for(vt=n.return;vt;)switch(vt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:vt=vt.return}}function zo(n){if(n!==vt)return!1;if(!be)return gp(n),be=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Yc(n.type,n.memoizedProps)),s=!s),s&&Ye&&_i(n),gp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Ye=Pm(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Ye=Pm(n)}else i===27?(i=Ye,Ui(n.type)?(n=Zc,Zc=null,Ye=n):Ye=i):Ye=vt?sn(n.stateNode.nextSibling):null;return!0}function io(){Ye=vt=null,be=!1}function Mu(){var n=vi;return n!==null&&(kt===null?kt=n:kt.push.apply(kt,n),vi=null),n}function Vl(n){vi===null?vi=[n]:vi.push(n)}var Ru=x(null),oo=null,Pn=null;function Si(n,i,s){te(Ru,i._currentValue),i._currentValue=s}function Bn(n){n._currentValue=Ru.current,k(Ru)}function bu(n,i,s){for(;n!==null;){var r=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),n===s)break;n=n.return}}function Iu(n,i,s,r){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var v=m.dependencies;if(v!==null){var E=m.child;v=v.firstContext;e:for(;v!==null;){var C=v;v=m;for(var I=0;I<i.length;I++)if(C.context===i[I]){v.lanes|=s,C=v.alternate,C!==null&&(C.lanes|=s),bu(v.return,s,n),r||(E=null);break e}v=C.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(l(341));E.lanes|=s,v=E.alternate,v!==null&&(v.lanes|=s),bu(E,s,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Lo(n,i,s,r){n=null;for(var m=i,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(l(387));if(E=E.memoizedProps,E!==null){var C=m.type;Bt(m.pendingProps.value,E.value)||(n!==null?n.push(C):n=[C])}}else if(m===he.current){if(E=m.alternate,E===null)throw Error(l(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(ps):n=[ps])}m=m.return}n!==null&&Iu(i,n,s,r),i.flags|=262144}function ha(n){for(n=n.firstContext;n!==null;){if(!Bt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function lo(n){oo=n,Pn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function _t(n){return yp(oo,n)}function ma(n,i){return oo===null&&lo(n),yp(n,i)}function yp(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Pn===null){if(n===null)throw Error(l(308));Pn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Pn=Pn.next=i;return s}var LS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,r){n.push(r)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},HS=e.unstable_scheduleCallback,kS=e.unstable_NormalPriority,at={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Du(){return{controller:new LS,data:new Map,refCount:0}}function Pl(n){n.refCount--,n.refCount===0&&HS(kS,function(){n.controller.abort()})}var Bl=null,Uu=0,Ho=0,ko=null;function qS(n,i){if(Bl===null){var s=Bl=[];Uu=0,Ho=Hc(),ko={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Uu++,i.then(vp,vp),i}function vp(){if(--Uu===0&&Bl!==null){ko!==null&&(ko.status="fulfilled");var n=Bl;Bl=null,Ho=0,ko=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function GS(n,i){var s=[],r={status:"pending",value:null,reason:null,then:function(m){s.push(m)}};return n.then(function(){r.status="fulfilled",r.value=i;for(var m=0;m<s.length;m++)(0,s[m])(i)},function(m){for(r.status="rejected",r.reason=m,m=0;m<s.length;m++)(0,s[m])(void 0)}),r}var _p=A.S;A.S=function(n,i){nm=Ze(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&qS(n,i),_p!==null&&_p(n,i)};var so=x(null);function zu(){var n=so.current;return n!==null?n:Fe.pooledCache}function ga(n,i){i===null?te(so,so.current):te(so,i.pool)}function Sp(){var n=zu();return n===null?null:{parent:at._currentValue,pool:n}}var qo=Error(l(460)),Lu=Error(l(474)),ya=Error(l(542)),va={then:function(){}};function Ep(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Tp(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(kn,kn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xp(n),n;default:if(typeof i.status=="string")i.then(kn,kn);else{if(n=Fe,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(r){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=r}},function(r){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,xp(n),n}throw ro=i,qo}}function ao(n){try{var i=n._init;return i(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ro=s,qo):s}}var ro=null;function Cp(){if(ro===null)throw Error(l(459));var n=ro;return ro=null,n}function xp(n){if(n===qo||n===ya)throw Error(l(483))}var Go=null,Fl=0;function _a(n){var i=Fl;return Fl+=1,Go===null&&(Go=[]),Tp(Go,n,i)}function Ol(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Sa(n,i){throw i.$$typeof===S?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Ap(n){function i(P,G){if(n){var J=P.deletions;J===null?(P.deletions=[G],P.flags|=16):J.push(G)}}function s(P,G){if(!n)return null;for(;G!==null;)i(P,G),G=G.sibling;return null}function r(P){for(var G=new Map;P!==null;)P.key!==null?G.set(P.key,P):G.set(P.index,P),P=P.sibling;return G}function m(P,G){return P=Gn(P,G),P.index=0,P.sibling=null,P}function v(P,G,J){return P.index=J,n?(J=P.alternate,J!==null?(J=J.index,J<G?(P.flags|=67108866,G):J):(P.flags|=67108866,G)):(P.flags|=1048576,G)}function E(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function C(P,G,J,re){return G===null||G.tag!==6?(G=Cu(J,P.mode,re),G.return=P,G):(G=m(G,J),G.return=P,G)}function I(P,G,J,re){var ve=J.type;return ve===N?se(P,G,J.props.children,re,J.key):G!==null&&(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ie&&ao(ve)===G.type)?(G=m(G,J.props),Ol(G,J),G.return=P,G):(G=da(J.type,J.key,J.props,null,P.mode,re),Ol(G,J),G.return=P,G)}function $(P,G,J,re){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=xu(J,P.mode,re),G.return=P,G):(G=m(G,J.children||[]),G.return=P,G)}function se(P,G,J,re,ve){return G===null||G.tag!==7?(G=no(J,P.mode,re,ve),G.return=P,G):(G=m(G,J),G.return=P,G)}function ue(P,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Cu(""+G,P.mode,J),G.return=P,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return J=da(G.type,G.key,G.props,null,P.mode,J),Ol(J,G),J.return=P,J;case w:return G=xu(G,P.mode,J),G.return=P,G;case ie:return G=ao(G),ue(P,G,J)}if(Z(G)||oe(G))return G=no(G,P.mode,J,null),G.return=P,G;if(typeof G.then=="function")return ue(P,_a(G),J);if(G.$$typeof===z)return ue(P,ma(P,G),J);Sa(P,G)}return null}function Q(P,G,J,re){var ve=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return ve!==null?null:C(P,G,""+J,re);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case T:return J.key===ve?I(P,G,J,re):null;case w:return J.key===ve?$(P,G,J,re):null;case ie:return J=ao(J),Q(P,G,J,re)}if(Z(J)||oe(J))return ve!==null?null:se(P,G,J,re,null);if(typeof J.then=="function")return Q(P,G,_a(J),re);if(J.$$typeof===z)return Q(P,G,ma(P,J),re);Sa(P,J)}return null}function ee(P,G,J,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return P=P.get(J)||null,C(G,P,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case T:return P=P.get(re.key===null?J:re.key)||null,I(G,P,re,ve);case w:return P=P.get(re.key===null?J:re.key)||null,$(G,P,re,ve);case ie:return re=ao(re),ee(P,G,J,re,ve)}if(Z(re)||oe(re))return P=P.get(J)||null,se(G,P,re,ve,null);if(typeof re.then=="function")return ee(P,G,J,_a(re),ve);if(re.$$typeof===z)return ee(P,G,J,ma(G,re),ve);Sa(G,re)}return null}function pe(P,G,J,re){for(var ve=null,Ie=null,me=G,xe=G=0,Re=null;me!==null&&xe<J.length;xe++){me.index>xe?(Re=me,me=null):Re=me.sibling;var De=Q(P,me,J[xe],re);if(De===null){me===null&&(me=Re);break}n&&me&&De.alternate===null&&i(P,me),G=v(De,G,xe),Ie===null?ve=De:Ie.sibling=De,Ie=De,me=Re}if(xe===J.length)return s(P,me),be&&Vn(P,xe),ve;if(me===null){for(;xe<J.length;xe++)me=ue(P,J[xe],re),me!==null&&(G=v(me,G,xe),Ie===null?ve=me:Ie.sibling=me,Ie=me);return be&&Vn(P,xe),ve}for(me=r(me);xe<J.length;xe++)Re=ee(me,P,xe,J[xe],re),Re!==null&&(n&&Re.alternate!==null&&me.delete(Re.key===null?xe:Re.key),G=v(Re,G,xe),Ie===null?ve=Re:Ie.sibling=Re,Ie=Re);return n&&me.forEach(function(qi){return i(P,qi)}),be&&Vn(P,xe),ve}function _e(P,G,J,re){if(J==null)throw Error(l(151));for(var ve=null,Ie=null,me=G,xe=G=0,Re=null,De=J.next();me!==null&&!De.done;xe++,De=J.next()){me.index>xe?(Re=me,me=null):Re=me.sibling;var qi=Q(P,me,De.value,re);if(qi===null){me===null&&(me=Re);break}n&&me&&qi.alternate===null&&i(P,me),G=v(qi,G,xe),Ie===null?ve=qi:Ie.sibling=qi,Ie=qi,me=Re}if(De.done)return s(P,me),be&&Vn(P,xe),ve;if(me===null){for(;!De.done;xe++,De=J.next())De=ue(P,De.value,re),De!==null&&(G=v(De,G,xe),Ie===null?ve=De:Ie.sibling=De,Ie=De);return be&&Vn(P,xe),ve}for(me=r(me);!De.done;xe++,De=J.next())De=ee(me,P,xe,De.value,re),De!==null&&(n&&De.alternate!==null&&me.delete(De.key===null?xe:De.key),G=v(De,G,xe),Ie===null?ve=De:Ie.sibling=De,Ie=De);return n&&me.forEach(function(ZE){return i(P,ZE)}),be&&Vn(P,xe),ve}function Pe(P,G,J,re){if(typeof J=="object"&&J!==null&&J.type===N&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case T:e:{for(var ve=J.key;G!==null;){if(G.key===ve){if(ve=J.type,ve===N){if(G.tag===7){s(P,G.sibling),re=m(G,J.props.children),re.return=P,P=re;break e}}else if(G.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ie&&ao(ve)===G.type){s(P,G.sibling),re=m(G,J.props),Ol(re,J),re.return=P,P=re;break e}s(P,G);break}else i(P,G);G=G.sibling}J.type===N?(re=no(J.props.children,P.mode,re,J.key),re.return=P,P=re):(re=da(J.type,J.key,J.props,null,P.mode,re),Ol(re,J),re.return=P,P=re)}return E(P);case w:e:{for(ve=J.key;G!==null;){if(G.key===ve)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){s(P,G.sibling),re=m(G,J.children||[]),re.return=P,P=re;break e}else{s(P,G);break}else i(P,G);G=G.sibling}re=xu(J,P.mode,re),re.return=P,P=re}return E(P);case ie:return J=ao(J),Pe(P,G,J,re)}if(Z(J))return pe(P,G,J,re);if(oe(J)){if(ve=oe(J),typeof ve!="function")throw Error(l(150));return J=ve.call(J),_e(P,G,J,re)}if(typeof J.then=="function")return Pe(P,G,_a(J),re);if(J.$$typeof===z)return Pe(P,G,ma(P,J),re);Sa(P,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(s(P,G.sibling),re=m(G,J),re.return=P,P=re):(s(P,G),re=Cu(J,P.mode,re),re.return=P,P=re),E(P)):s(P,G)}return function(P,G,J,re){try{Fl=0;var ve=Pe(P,G,J,re);return Go=null,ve}catch(me){if(me===qo||me===ya)throw me;var Ie=Ft(29,me,null,P.mode);return Ie.lanes=re,Ie.return=P,Ie}finally{}}}var uo=Ap(!0),Np=Ap(!1),Ei=!1;function Hu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ku(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ti(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ci(n,i,s){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(Le&2)!==0){var m=r.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),r.pending=i,i=fa(n),up(n,null,s),i}return ca(n,r,i,s),fa(n)}function Yl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var r=i.lanes;r&=n.pendingLanes,s|=r,i.lanes=s,Fs(n,s)}}function qu(n,i){var s=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var m=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};v===null?m=v=E:v=v.next=E,s=s.next}while(s!==null);v===null?m=v=i:v=v.next=i}else m=v=i;s={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:r.shared,callbacks:r.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Gu=!1;function Jl(){if(Gu){var n=ko;if(n!==null)throw n}}function Xl(n,i,s,r){Gu=!1;var m=n.updateQueue;Ei=!1;var v=m.firstBaseUpdate,E=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var I=C,$=I.next;I.next=null,E===null?v=$:E.next=$,E=I;var se=n.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==E&&(C===null?se.firstBaseUpdate=$:C.next=$,se.lastBaseUpdate=I))}if(v!==null){var ue=m.baseState;E=0,se=$=I=null,C=v;do{var Q=C.lane&-536870913,ee=Q!==C.lane;if(ee?(Me&Q)===Q:(r&Q)===Q){Q!==0&&Q===Ho&&(Gu=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var pe=n,_e=C;Q=i;var Pe=s;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){ue=pe.call(Pe,ue,Q);break e}ue=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,Q=typeof pe=="function"?pe.call(Pe,ue,Q):pe,Q==null)break e;ue=_({},ue,Q);break e;case 2:Ei=!0}}Q=C.callback,Q!==null&&(n.flags|=64,ee&&(n.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[Q]:ee.push(Q))}else ee={lane:Q,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?($=se=ee,I=ue):se=se.next=ee,E|=Q;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);se===null&&(I=ue),m.baseState=I,m.firstBaseUpdate=$,m.lastBaseUpdate=se,v===null&&(m.shared.lanes=0),Mi|=E,n.lanes=E,n.memoizedState=ue}}function wp(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function Mp(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)wp(s[n],i)}var Vo=x(null),Ea=x(0);function Rp(n,i){n=Qn,te(Ea,n),te(Vo,i),Qn=n|i.baseLanes}function Vu(){te(Ea,Qn),te(Vo,Vo.current)}function Pu(){Qn=Ea.current,k(Vo),k(Ea)}var Ot=x(null),ln=null;function xi(n){var i=n.alternate;te(it,it.current&1),te(Ot,n),ln===null&&(i===null||Vo.current!==null||i.memoizedState!==null)&&(ln=n)}function Bu(n){te(it,it.current),te(Ot,n),ln===null&&(ln=n)}function bp(n){n.tag===22?(te(it,it.current),te(Ot,n),ln===null&&(ln=n)):Ai()}function Ai(){te(it,it.current),te(Ot,Ot.current)}function Yt(n){k(Ot),ln===n&&(ln=null),k(it)}var it=x(0);function Ta(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||$c(s)||Kc(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Fn=0,Ce=null,Ge=null,rt=null,Ca=!1,Po=!1,co=!1,xa=0,$l=0,Bo=null,VS=0;function je(){throw Error(l(321))}function Fu(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Bt(n[s],i[s]))return!1;return!0}function Ou(n,i,s,r,m,v){return Fn=v,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=n===null||n.memoizedState===null?ph:lc,co=!1,v=s(r,m),co=!1,Po&&(v=Dp(i,s,r,m)),Ip(n),v}function Ip(n){A.H=Ql;var i=Ge!==null&&Ge.next!==null;if(Fn=0,rt=Ge=Ce=null,Ca=!1,$l=0,Bo=null,i)throw Error(l(300));n===null||ut||(n=n.dependencies,n!==null&&ha(n)&&(ut=!0))}function Dp(n,i,s,r){Ce=n;var m=0;do{if(Po&&(Bo=null),$l=0,Po=!1,25<=m)throw Error(l(301));if(m+=1,rt=Ge=null,n.updateQueue!=null){var v=n.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}A.H=hh,v=i(s,r)}while(Po);return v}function PS(){var n=A.H,i=n.useState()[0];return i=typeof i.then=="function"?Kl(i):i,n=n.useState()[0],(Ge!==null?Ge.memoizedState:null)!==n&&(Ce.flags|=1024),i}function Yu(){var n=xa!==0;return xa=0,n}function Ju(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Xu(n){if(Ca){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ca=!1}Fn=0,rt=Ge=Ce=null,Po=!1,$l=xa=0,Bo=null}function Rt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ce.memoizedState=rt=n:rt=rt.next=n,rt}function ot(){if(Ge===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ge.next;var i=rt===null?Ce.memoizedState:rt.next;if(i!==null)rt=i,Ge=n;else{if(n===null)throw Ce.alternate===null?Error(l(467)):Error(l(310));Ge=n,n={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},rt===null?Ce.memoizedState=rt=n:rt=rt.next=n}return rt}function Aa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(n){var i=$l;return $l+=1,Bo===null&&(Bo=[]),n=Tp(Bo,n,i),i=Ce,(rt===null?i.memoizedState:rt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?ph:lc),n}function Na(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Kl(n);if(n.$$typeof===z)return _t(n)}throw Error(l(438,String(n)))}function $u(n){var i=null,s=Ce.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var r=Ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Aa(),Ce.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),r=0;r<n;r++)s[r]=K;return i.index++,s}function On(n,i){return typeof i=="function"?i(n):i}function wa(n){var i=ot();return Ku(i,Ge,n)}function Ku(n,i,s){var r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=s;var m=n.baseQueue,v=r.pending;if(v!==null){if(m!==null){var E=m.next;m.next=v.next,v.next=E}i.baseQueue=m=v,r.pending=null}if(v=n.baseState,m===null)n.memoizedState=v;else{i=m.next;var C=E=null,I=null,$=i,se=!1;do{var ue=$.lane&-536870913;if(ue!==$.lane?(Me&ue)===ue:(Fn&ue)===ue){var Q=$.revertLane;if(Q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ue===Ho&&(se=!0);else if((Fn&Q)===Q){$=$.next,Q===Ho&&(se=!0);continue}else ue={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(C=I=ue,E=v):I=I.next=ue,Ce.lanes|=Q,Mi|=Q;ue=$.action,co&&s(v,ue),v=$.hasEagerState?$.eagerState:s(v,ue)}else Q={lane:ue,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},I===null?(C=I=Q,E=v):I=I.next=Q,Ce.lanes|=ue,Mi|=ue;$=$.next}while($!==null&&$!==i);if(I===null?E=v:I.next=C,!Bt(v,n.memoizedState)&&(ut=!0,se&&(s=ko,s!==null)))throw s;n.memoizedState=v,n.baseState=E,n.baseQueue=I,r.lastRenderedState=v}return m===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function Zu(n){var i=ot(),s=i.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=n;var r=s.dispatch,m=s.pending,v=i.memoizedState;if(m!==null){s.pending=null;var E=m=m.next;do v=n(v,E.action),E=E.next;while(E!==m);Bt(v,i.memoizedState)||(ut=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),s.lastRenderedState=v}return[v,r]}function Up(n,i,s){var r=Ce,m=ot(),v=be;if(v){if(s===void 0)throw Error(l(407));s=s()}else s=i();var E=!Bt((Ge||m).memoizedState,s);if(E&&(m.memoizedState=s,ut=!0),m=m.queue,ju(Hp.bind(null,r,m,n),[n]),m.getSnapshot!==i||E||rt!==null&&rt.memoizedState.tag&1){if(r.flags|=2048,Fo(9,{destroy:void 0},Lp.bind(null,r,m,s,i),null),Fe===null)throw Error(l(349));v||(Fn&127)!==0||zp(r,i,s)}return s}function zp(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ce.updateQueue,i===null?(i=Aa(),Ce.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function Lp(n,i,s,r){i.value=s,i.getSnapshot=r,kp(i)&&qp(n)}function Hp(n,i,s){return s(function(){kp(i)&&qp(n)})}function kp(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Bt(n,s)}catch{return!0}}function qp(n){var i=to(n,2);i!==null&&qt(i,n,2)}function Qu(n){var i=Rt();if(typeof n=="function"){var s=n;if(n=s(),co){xt(!0);try{s()}finally{xt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:n},i}function Gp(n,i,s,r){return n.baseState=s,Ku(n,Ge,typeof r=="function"?r:On)}function BS(n,i,s,r,m){if(ba(n))throw Error(l(485));if(n=i.action,n!==null){var v={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){v.listeners.push(E)}};A.T!==null?s(!0):v.isTransition=!1,r(v),s=i.pending,s===null?(v.next=i.pending=v,Vp(i,v)):(v.next=s.next,i.pending=s.next=v)}}function Vp(n,i){var s=i.action,r=i.payload,m=n.state;if(i.isTransition){var v=A.T,E={};A.T=E;try{var C=s(m,r),I=A.S;I!==null&&I(E,C),Pp(n,i,C)}catch($){Wu(n,i,$)}finally{v!==null&&E.types!==null&&(v.types=E.types),A.T=v}}else try{v=s(m,r),Pp(n,i,v)}catch($){Wu(n,i,$)}}function Pp(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){Bp(n,i,r)},function(r){return Wu(n,i,r)}):Bp(n,i,s)}function Bp(n,i,s){i.status="fulfilled",i.value=s,Fp(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Vp(n,s)))}function Wu(n,i,s){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=s,Fp(i),i=i.next;while(i!==r)}n.action=null}function Fp(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Op(n,i){return i}function Yp(n,i){if(be){var s=Fe.formState;if(s!==null){e:{var r=Ce;if(be){if(Ye){t:{for(var m=Ye,v=on;m.nodeType!==8;){if(!v){m=null;break t}if(m=sn(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Ye=sn(m.nextSibling),r=m.data==="F!";break e}}_i(r)}r=!1}r&&(i=s[0])}}return s=Rt(),s.memoizedState=s.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:i},s.queue=r,s=ch.bind(null,Ce,r),r.dispatch=s,r=Qu(!1),v=oc.bind(null,Ce,!1,r.queue),r=Rt(),m={state:i,dispatch:null,action:n,pending:null},r.queue=m,s=BS.bind(null,Ce,m,v,s),m.dispatch=s,r.memoizedState=n,[i,s,!1]}function Jp(n){var i=ot();return Xp(i,Ge,n)}function Xp(n,i,s){if(i=Ku(n,i,Op)[0],n=wa(On)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Kl(i)}catch(E){throw E===qo?ya:E}else r=i;i=ot();var m=i.queue,v=m.dispatch;return s!==i.memoizedState&&(Ce.flags|=2048,Fo(9,{destroy:void 0},FS.bind(null,m,s),null)),[r,v,n]}function FS(n,i){n.action=i}function $p(n){var i=ot(),s=Ge;if(s!==null)return Xp(i,s,n);ot(),i=i.memoizedState,s=ot();var r=s.queue.dispatch;return s.memoizedState=n,[i,r,!1]}function Fo(n,i,s,r){return n={tag:n,create:s,deps:r,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Aa(),Ce.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(r=s.next,s.next=n,n.next=r,i.lastEffect=n),n}function Kp(){return ot().memoizedState}function Ma(n,i,s,r){var m=Rt();Ce.flags|=n,m.memoizedState=Fo(1|i,{destroy:void 0},s,r===void 0?null:r)}function Ra(n,i,s,r){var m=ot();r=r===void 0?null:r;var v=m.memoizedState.inst;Ge!==null&&r!==null&&Fu(r,Ge.memoizedState.deps)?m.memoizedState=Fo(i,v,s,r):(Ce.flags|=n,m.memoizedState=Fo(1|i,v,s,r))}function Zp(n,i){Ma(8390656,8,n,i)}function ju(n,i){Ra(2048,8,n,i)}function OS(n){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=Aa(),Ce.updateQueue=i,i.events=[n];else{var s=i.events;s===null?i.events=[n]:s.push(n)}}function Qp(n){var i=ot().memoizedState;return OS({ref:i,nextImpl:n}),function(){if((Le&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function Wp(n,i){return Ra(4,2,n,i)}function jp(n,i){return Ra(4,4,n,i)}function eh(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function th(n,i,s){s=s!=null?s.concat([n]):null,Ra(4,4,eh.bind(null,i,n),s)}function ec(){}function nh(n,i){var s=ot();i=i===void 0?null:i;var r=s.memoizedState;return i!==null&&Fu(i,r[1])?r[0]:(s.memoizedState=[n,i],n)}function ih(n,i){var s=ot();i=i===void 0?null:i;var r=s.memoizedState;if(i!==null&&Fu(i,r[1]))return r[0];if(r=n(),co){xt(!0);try{n()}finally{xt(!1)}}return s.memoizedState=[r,i],r}function tc(n,i,s){return s===void 0||(Fn&1073741824)!==0&&(Me&261930)===0?n.memoizedState=i:(n.memoizedState=s,n=om(),Ce.lanes|=n,Mi|=n,s)}function oh(n,i,s,r){return Bt(s,i)?s:Vo.current!==null?(n=tc(n,s,r),Bt(n,i)||(ut=!0),n):(Fn&42)===0||(Fn&1073741824)!==0&&(Me&261930)===0?(ut=!0,n.memoizedState=s):(n=om(),Ce.lanes|=n,Mi|=n,i)}function lh(n,i,s,r,m){var v=V.p;V.p=v!==0&&8>v?v:8;var E=A.T,C={};A.T=C,oc(n,!1,i,s);try{var I=m(),$=A.S;if($!==null&&$(C,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var se=GS(I,r);Zl(n,i,se,$t(n))}else Zl(n,i,r,$t(n))}catch(ue){Zl(n,i,{then:function(){},status:"rejected",reason:ue},$t())}finally{V.p=v,E!==null&&C.types!==null&&(E.types=C.types),A.T=E}}function YS(){}function nc(n,i,s,r){if(n.tag!==5)throw Error(l(476));var m=sh(n).queue;lh(n,m,i,B,s===null?YS:function(){return ah(n),s(r)})}function sh(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:B},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function ah(n){var i=sh(n);i.next===null&&(i=n.alternate.memoizedState),Zl(n,i.next.queue,{},$t())}function ic(){return _t(ps)}function rh(){return ot().memoizedState}function uh(){return ot().memoizedState}function JS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=$t();n=Ti(s);var r=Ci(i,n,s);r!==null&&(qt(r,i,s),Yl(r,i,s)),i={cache:Du()},n.payload=i;return}i=i.return}}function XS(n,i,s){var r=$t();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ba(n)?fh(i,s):(s=Eu(n,i,s,r),s!==null&&(qt(s,n,r),dh(s,i,r)))}function ch(n,i,s){var r=$t();Zl(n,i,s,r)}function Zl(n,i,s,r){var m={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ba(n))fh(i,m);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var E=i.lastRenderedState,C=v(E,s);if(m.hasEagerState=!0,m.eagerState=C,Bt(C,E))return ca(n,i,m,0),Fe===null&&ua(),!1}catch{}finally{}if(s=Eu(n,i,m,r),s!==null)return qt(s,n,r),dh(s,i,r),!0}return!1}function oc(n,i,s,r){if(r={lane:2,revertLane:Hc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ba(n)){if(i)throw Error(l(479))}else i=Eu(n,s,r,2),i!==null&&qt(i,n,2)}function ba(n){var i=n.alternate;return n===Ce||i!==null&&i===Ce}function fh(n,i){Po=Ca=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function dh(n,i,s){if((s&4194048)!==0){var r=i.lanes;r&=n.pendingLanes,s|=r,i.lanes=s,Fs(n,s)}}var Ql={readContext:_t,use:Na,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je};Ql.useEffectEvent=je;var ph={readContext:_t,use:Na,useCallback:function(n,i){return Rt().memoizedState=[n,i===void 0?null:i],n},useContext:_t,useEffect:Zp,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,Ma(4194308,4,eh.bind(null,i,n),s)},useLayoutEffect:function(n,i){return Ma(4194308,4,n,i)},useInsertionEffect:function(n,i){Ma(4,2,n,i)},useMemo:function(n,i){var s=Rt();i=i===void 0?null:i;var r=n();if(co){xt(!0);try{n()}finally{xt(!1)}}return s.memoizedState=[r,i],r},useReducer:function(n,i,s){var r=Rt();if(s!==void 0){var m=s(i);if(co){xt(!0);try{s(i)}finally{xt(!1)}}}else m=i;return r.memoizedState=r.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},r.queue=n,n=n.dispatch=XS.bind(null,Ce,n),[r.memoizedState,n]},useRef:function(n){var i=Rt();return n={current:n},i.memoizedState=n},useState:function(n){n=Qu(n);var i=n.queue,s=ch.bind(null,Ce,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:ec,useDeferredValue:function(n,i){var s=Rt();return tc(s,n,i)},useTransition:function(){var n=Qu(!1);return n=lh.bind(null,Ce,n.queue,!0,!1),Rt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var r=Ce,m=Rt();if(be){if(s===void 0)throw Error(l(407));s=s()}else{if(s=i(),Fe===null)throw Error(l(349));(Me&127)!==0||zp(r,i,s)}m.memoizedState=s;var v={value:s,getSnapshot:i};return m.queue=v,Zp(Hp.bind(null,r,v,n),[n]),r.flags|=2048,Fo(9,{destroy:void 0},Lp.bind(null,r,v,s,i),null),s},useId:function(){var n=Rt(),i=Fe.identifierPrefix;if(be){var s=Nn,r=An;s=(r&~(1<<32-Qe(r)-1)).toString(32)+s,i="_"+i+"R_"+s,s=xa++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=VS++,i="_"+i+"r_"+s.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:ic,useFormState:Yp,useActionState:Yp,useOptimistic:function(n){var i=Rt();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=oc.bind(null,Ce,!0,s),s.dispatch=i,[n,i]},useMemoCache:$u,useCacheRefresh:function(){return Rt().memoizedState=JS.bind(null,Ce)},useEffectEvent:function(n){var i=Rt(),s={impl:n};return i.memoizedState=s,function(){if((Le&2)!==0)throw Error(l(440));return s.impl.apply(void 0,arguments)}}},lc={readContext:_t,use:Na,useCallback:nh,useContext:_t,useEffect:ju,useImperativeHandle:th,useInsertionEffect:Wp,useLayoutEffect:jp,useMemo:ih,useReducer:wa,useRef:Kp,useState:function(){return wa(On)},useDebugValue:ec,useDeferredValue:function(n,i){var s=ot();return oh(s,Ge.memoizedState,n,i)},useTransition:function(){var n=wa(On)[0],i=ot().memoizedState;return[typeof n=="boolean"?n:Kl(n),i]},useSyncExternalStore:Up,useId:rh,useHostTransitionStatus:ic,useFormState:Jp,useActionState:Jp,useOptimistic:function(n,i){var s=ot();return Gp(s,Ge,n,i)},useMemoCache:$u,useCacheRefresh:uh};lc.useEffectEvent=Qp;var hh={readContext:_t,use:Na,useCallback:nh,useContext:_t,useEffect:ju,useImperativeHandle:th,useInsertionEffect:Wp,useLayoutEffect:jp,useMemo:ih,useReducer:Zu,useRef:Kp,useState:function(){return Zu(On)},useDebugValue:ec,useDeferredValue:function(n,i){var s=ot();return Ge===null?tc(s,n,i):oh(s,Ge.memoizedState,n,i)},useTransition:function(){var n=Zu(On)[0],i=ot().memoizedState;return[typeof n=="boolean"?n:Kl(n),i]},useSyncExternalStore:Up,useId:rh,useHostTransitionStatus:ic,useFormState:$p,useActionState:$p,useOptimistic:function(n,i){var s=ot();return Ge!==null?Gp(s,Ge,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:$u,useCacheRefresh:uh};hh.useEffectEvent=Qp;function sc(n,i,s,r){i=n.memoizedState,s=s(r,i),s=s==null?i:_({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var ac={enqueueSetState:function(n,i,s){n=n._reactInternals;var r=$t(),m=Ti(r);m.payload=i,s!=null&&(m.callback=s),i=Ci(n,m,r),i!==null&&(qt(i,n,r),Yl(i,n,r))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var r=$t(),m=Ti(r);m.tag=1,m.payload=i,s!=null&&(m.callback=s),i=Ci(n,m,r),i!==null&&(qt(i,n,r),Yl(i,n,r))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=$t(),r=Ti(s);r.tag=2,i!=null&&(r.callback=i),i=Ci(n,r,s),i!==null&&(qt(i,n,s),Yl(i,n,s))}};function mh(n,i,s,r,m,v,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,v,E):i.prototype&&i.prototype.isPureReactComponent?!kl(s,r)||!kl(m,v):!0}function gh(n,i,s,r){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,r),i.state!==n&&ac.enqueueReplaceState(i,i.state,null)}function fo(n,i){var s=i;if("ref"in i){s={};for(var r in i)r!=="ref"&&(s[r]=i[r])}if(n=n.defaultProps){s===i&&(s=_({},s));for(var m in n)s[m]===void 0&&(s[m]=n[m])}return s}function yh(n){ra(n)}function vh(n){console.error(n)}function _h(n){ra(n)}function Ia(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Sh(n,i,s){try{var r=n.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rc(n,i,s){return s=Ti(s),s.tag=3,s.payload={element:null},s.callback=function(){Ia(n,i)},s}function Eh(n){return n=Ti(n),n.tag=3,n}function Th(n,i,s,r){var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var v=r.value;n.payload=function(){return m(v)},n.callback=function(){Sh(i,s,r)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Sh(i,s,r),typeof m!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var C=r.stack;this.componentDidCatch(r.value,{componentStack:C!==null?C:""})})}function $S(n,i,s,r,m){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=s.alternate,i!==null&&Lo(i,s,m,!0),s=Ot.current,s!==null){switch(s.tag){case 31:case 13:return ln===null?Fa():s.alternate===null&&et===0&&(et=3),s.flags&=-257,s.flags|=65536,s.lanes=m,r===va?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([r]):i.add(r),Uc(n,r,m)),!1;case 22:return s.flags|=65536,r===va?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([r]):s.add(r)),Uc(n,r,m)),!1}throw Error(l(435,s.tag))}return Uc(n,r,m),Fa(),!1}if(be)return i=Ot.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,r!==wu&&(n=Error(l(422),{cause:r}),Vl(en(n,s)))):(r!==wu&&(i=Error(l(423),{cause:r}),Vl(en(i,s))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,r=en(r,s),m=rc(n.stateNode,r,m),qu(n,m),et!==4&&(et=2)),!1;var v=Error(l(520),{cause:r});if(v=en(v,s),ls===null?ls=[v]:ls.push(v),et!==4&&(et=2),i===null)return!0;r=en(r,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=m&-m,s.lanes|=n,n=rc(s.stateNode,r,n),qu(s,n),!1;case 1:if(i=s.type,v=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ri===null||!Ri.has(v))))return s.flags|=65536,m&=-m,s.lanes|=m,m=Eh(m),Th(m,n,s,r),qu(s,m),!1}s=s.return}while(s!==null);return!1}var uc=Error(l(461)),ut=!1;function St(n,i,s,r){i.child=n===null?Np(i,null,s,r):uo(i,n.child,s,r)}function Ch(n,i,s,r,m){s=s.render;var v=i.ref;if("ref"in r){var E={};for(var C in r)C!=="ref"&&(E[C]=r[C])}else E=r;return lo(i),r=Ou(n,i,s,E,v,m),C=Yu(),n!==null&&!ut?(Ju(n,i,m),Yn(n,i,m)):(be&&C&&Au(i),i.flags|=1,St(n,i,r,m),i.child)}function xh(n,i,s,r,m){if(n===null){var v=s.type;return typeof v=="function"&&!Tu(v)&&v.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=v,Ah(n,i,v,r,m)):(n=da(s.type,null,r,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,!yc(n,m)){var E=v.memoizedProps;if(s=s.compare,s=s!==null?s:kl,s(E,r)&&n.ref===i.ref)return Yn(n,i,m)}return i.flags|=1,n=Gn(v,r),n.ref=i.ref,n.return=i,i.child=n}function Ah(n,i,s,r,m){if(n!==null){var v=n.memoizedProps;if(kl(v,r)&&n.ref===i.ref)if(ut=!1,i.pendingProps=r=v,yc(n,m))(n.flags&131072)!==0&&(ut=!0);else return i.lanes=n.lanes,Yn(n,i,m)}return cc(n,i,s,r,m)}function Nh(n,i,s,r){var m=r.children,v=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|s:s,n!==null){for(r=i.child=n.child,m=0;r!==null;)m=m|r.lanes|r.childLanes,r=r.sibling;r=m&~v}else r=0,i.child=null;return wh(n,i,v,s,r)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ga(i,v!==null?v.cachePool:null),v!==null?Rp(i,v):Vu(),bp(i);else return r=i.lanes=536870912,wh(n,i,v!==null?v.baseLanes|s:s,s,r)}else v!==null?(ga(i,v.cachePool),Rp(i,v),Ai(),i.memoizedState=null):(n!==null&&ga(i,null),Vu(),Ai());return St(n,i,m,s),i.child}function Wl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function wh(n,i,s,r,m){var v=zu();return v=v===null?null:{parent:at._currentValue,pool:v},i.memoizedState={baseLanes:s,cachePool:v},n!==null&&ga(i,null),Vu(),bp(i),n!==null&&Lo(n,i,r,!0),i.childLanes=m,null}function Da(n,i){return i=za({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Mh(n,i,s){return uo(i,n.child,null,s),n=Da(i,i.pendingProps),n.flags|=2,Yt(i),i.memoizedState=null,n}function KS(n,i,s){var r=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(be){if(r.mode==="hidden")return n=Da(i,r),i.lanes=536870912,Wl(null,n);if(Bu(i),(n=Ye)?(n=Vm(n,on),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:yi!==null?{id:An,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},s=fp(n),s.return=i,i.child=s,vt=i,Ye=null)):n=null,n===null)throw _i(i);return i.lanes=536870912,null}return Da(i,r)}var v=n.memoizedState;if(v!==null){var E=v.dehydrated;if(Bu(i),m)if(i.flags&256)i.flags&=-257,i=Mh(n,i,s);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(l(558));else if(ut||Lo(n,i,s,!1),m=(s&n.childLanes)!==0,ut||m){if(r=Fe,r!==null&&(E=Os(r,s),E!==0&&E!==v.retryLane))throw v.retryLane=E,to(n,E),qt(r,n,E),uc;Fa(),i=Mh(n,i,s)}else n=v.treeContext,Ye=sn(E.nextSibling),vt=i,be=!0,vi=null,on=!1,n!==null&&hp(i,n),i=Da(i,r),i.flags|=4096;return i}return n=Gn(n.child,{mode:r.mode,children:r.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Ua(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(l(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function cc(n,i,s,r,m){return lo(i),s=Ou(n,i,s,r,void 0,m),r=Yu(),n!==null&&!ut?(Ju(n,i,m),Yn(n,i,m)):(be&&r&&Au(i),i.flags|=1,St(n,i,s,m),i.child)}function Rh(n,i,s,r,m,v){return lo(i),i.updateQueue=null,s=Dp(i,r,s,m),Ip(n),r=Yu(),n!==null&&!ut?(Ju(n,i,v),Yn(n,i,v)):(be&&r&&Au(i),i.flags|=1,St(n,i,s,v),i.child)}function bh(n,i,s,r,m){if(lo(i),i.stateNode===null){var v=Io,E=s.contextType;typeof E=="object"&&E!==null&&(v=_t(E)),v=new s(r,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ac,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=r,v.state=i.memoizedState,v.refs={},Hu(i),E=s.contextType,v.context=typeof E=="object"&&E!==null?_t(E):Io,v.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(sc(i,s,E,r),v.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(E=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),E!==v.state&&ac.enqueueReplaceState(v,v.state,null),Xl(i,r,v,m),Jl(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(n===null){v=i.stateNode;var C=i.memoizedProps,I=fo(s,C);v.props=I;var $=v.context,se=s.contextType;E=Io,typeof se=="object"&&se!==null&&(E=_t(se));var ue=s.getDerivedStateFromProps;se=typeof ue=="function"||typeof v.getSnapshotBeforeUpdate=="function",C=i.pendingProps!==C,se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C||$!==E)&&gh(i,v,r,E),Ei=!1;var Q=i.memoizedState;v.state=Q,Xl(i,r,v,m),Jl(),$=i.memoizedState,C||Q!==$||Ei?(typeof ue=="function"&&(sc(i,s,ue,r),$=i.memoizedState),(I=Ei||mh(i,s,I,r,Q,$,E))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=$),v.props=r,v.state=$,v.context=E,r=I):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{v=i.stateNode,ku(n,i),E=i.memoizedProps,se=fo(s,E),v.props=se,ue=i.pendingProps,Q=v.context,$=s.contextType,I=Io,typeof $=="object"&&$!==null&&(I=_t($)),C=s.getDerivedStateFromProps,($=typeof C=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(E!==ue||Q!==I)&&gh(i,v,r,I),Ei=!1,Q=i.memoizedState,v.state=Q,Xl(i,r,v,m),Jl();var ee=i.memoizedState;E!==ue||Q!==ee||Ei||n!==null&&n.dependencies!==null&&ha(n.dependencies)?(typeof C=="function"&&(sc(i,s,C,r),ee=i.memoizedState),(se=Ei||mh(i,s,se,r,Q,ee,I)||n!==null&&n.dependencies!==null&&ha(n.dependencies))?($||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(r,ee,I),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(r,ee,I)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=ee),v.props=r,v.state=ee,v.context=I,r=se):(typeof v.componentDidUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&Q===n.memoizedState||(i.flags|=1024),r=!1)}return v=r,Ua(n,i),r=(i.flags&128)!==0,v||r?(v=i.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,n!==null&&r?(i.child=uo(i,n.child,null,m),i.child=uo(i,null,s,m)):St(n,i,s,m),i.memoizedState=v.state,n=i.child):n=Yn(n,i,m),n}function Ih(n,i,s,r){return io(),i.flags|=256,St(n,i,s,r),i.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dc(n){return{baseLanes:n,cachePool:Sp()}}function pc(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=Xt),n}function Dh(n,i,s){var r=i.pendingProps,m=!1,v=(i.flags&128)!==0,E;if((E=v)||(E=n!==null&&n.memoizedState===null?!1:(it.current&2)!==0),E&&(m=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(be){if(m?xi(i):Ai(),(n=Ye)?(n=Vm(n,on),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:yi!==null?{id:An,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},s=fp(n),s.return=i,i.child=s,vt=i,Ye=null)):n=null,n===null)throw _i(i);return Kc(n)?i.lanes=32:i.lanes=536870912,null}var C=r.children;return r=r.fallback,m?(Ai(),m=i.mode,C=za({mode:"hidden",children:C},m),r=no(r,m,s,null),C.return=i,r.return=i,C.sibling=r,i.child=C,r=i.child,r.memoizedState=dc(s),r.childLanes=pc(n,E,s),i.memoizedState=fc,Wl(null,r)):(xi(i),hc(i,C))}var I=n.memoizedState;if(I!==null&&(C=I.dehydrated,C!==null)){if(v)i.flags&256?(xi(i),i.flags&=-257,i=mc(n,i,s)):i.memoizedState!==null?(Ai(),i.child=n.child,i.flags|=128,i=null):(Ai(),C=r.fallback,m=i.mode,r=za({mode:"visible",children:r.children},m),C=no(C,m,s,null),C.flags|=2,r.return=i,C.return=i,r.sibling=C,i.child=r,uo(i,n.child,null,s),r=i.child,r.memoizedState=dc(s),r.childLanes=pc(n,E,s),i.memoizedState=fc,i=Wl(null,r));else if(xi(i),Kc(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var $=E.dgst;E=$,r=Error(l(419)),r.stack="",r.digest=E,Vl({value:r,source:null,stack:null}),i=mc(n,i,s)}else if(ut||Lo(n,i,s,!1),E=(s&n.childLanes)!==0,ut||E){if(E=Fe,E!==null&&(r=Os(E,s),r!==0&&r!==I.retryLane))throw I.retryLane=r,to(n,r),qt(E,n,r),uc;$c(C)||Fa(),i=mc(n,i,s)}else $c(C)?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,Ye=sn(C.nextSibling),vt=i,be=!0,vi=null,on=!1,n!==null&&hp(i,n),i=hc(i,r.children),i.flags|=4096);return i}return m?(Ai(),C=r.fallback,m=i.mode,I=n.child,$=I.sibling,r=Gn(I,{mode:"hidden",children:r.children}),r.subtreeFlags=I.subtreeFlags&65011712,$!==null?C=Gn($,C):(C=no(C,m,s,null),C.flags|=2),C.return=i,r.return=i,r.sibling=C,i.child=r,Wl(null,r),r=i.child,C=n.child.memoizedState,C===null?C=dc(s):(m=C.cachePool,m!==null?(I=at._currentValue,m=m.parent!==I?{parent:I,pool:I}:m):m=Sp(),C={baseLanes:C.baseLanes|s,cachePool:m}),r.memoizedState=C,r.childLanes=pc(n,E,s),i.memoizedState=fc,Wl(n.child,r)):(xi(i),s=n.child,n=s.sibling,s=Gn(s,{mode:"visible",children:r.children}),s.return=i,s.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=s,i.memoizedState=null,s)}function hc(n,i){return i=za({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function za(n,i){return n=Ft(22,n,null,i),n.lanes=0,n}function mc(n,i,s){return uo(i,n.child,null,s),n=hc(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Uh(n,i,s){n.lanes|=i;var r=n.alternate;r!==null&&(r.lanes|=i),bu(n.return,i,s)}function gc(n,i,s,r,m,v){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:m,treeForkCount:v}:(E.isBackwards=i,E.rendering=null,E.renderingStartTime=0,E.last=r,E.tail=s,E.tailMode=m,E.treeForkCount=v)}function zh(n,i,s){var r=i.pendingProps,m=r.revealOrder,v=r.tail;r=r.children;var E=it.current,C=(E&2)!==0;if(C?(E=E&1|2,i.flags|=128):E&=1,te(it,E),St(n,i,r,s),r=be?Gl:0,!C&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Uh(n,s,i);else if(n.tag===19)Uh(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(s=i.child,m=null;s!==null;)n=s.alternate,n!==null&&Ta(n)===null&&(m=s),s=s.sibling;s=m,s===null?(m=i.child,i.child=null):(m=s.sibling,s.sibling=null),gc(i,!1,m,s,v,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&Ta(n)===null){i.child=m;break}n=m.sibling,m.sibling=s,s=m,m=n}gc(i,!0,s,null,v,r);break;case"together":gc(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function Yn(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Mi|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Lo(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,s=Gn(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Gn(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function yc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ha(n)))}function ZS(n,i,s){switch(i.tag){case 3:Te(i,i.stateNode.containerInfo),Si(i,at,n.memoizedState.cache),io();break;case 27:case 5:ze(i);break;case 4:Te(i,i.stateNode.containerInfo);break;case 10:Si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Bu(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(xi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Dh(n,i,s):(xi(i),n=Yn(n,i,s),n!==null?n.sibling:null);xi(i);break;case 19:var m=(n.flags&128)!==0;if(r=(s&i.childLanes)!==0,r||(Lo(n,i,s,!1),r=(s&i.childLanes)!==0),m){if(r)return zh(n,i,s);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(it,it.current),r)break;return null;case 22:return i.lanes=0,Nh(n,i,s,i.pendingProps);case 24:Si(i,at,n.memoizedState.cache)}return Yn(n,i,s)}function Lh(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)ut=!0;else{if(!yc(n,s)&&(i.flags&128)===0)return ut=!1,ZS(n,i,s);ut=(n.flags&131072)!==0}else ut=!1,be&&(i.flags&1048576)!==0&&pp(i,Gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(n=ao(i.elementType),i.type=n,typeof n=="function")Tu(n)?(r=fo(n,r),i.tag=1,i=bh(null,i,n,r,s)):(i.tag=0,i=cc(null,i,n,r,s));else{if(n!=null){var m=n.$$typeof;if(m===U){i.tag=11,i=Ch(null,i,n,r,s);break e}else if(m===F){i.tag=14,i=xh(null,i,n,r,s);break e}}throw i=M(n)||n,Error(l(306,i,""))}}return i;case 0:return cc(n,i,i.type,i.pendingProps,s);case 1:return r=i.type,m=fo(r,i.pendingProps),bh(n,i,r,m,s);case 3:e:{if(Te(i,i.stateNode.containerInfo),n===null)throw Error(l(387));r=i.pendingProps;var v=i.memoizedState;m=v.element,ku(n,i),Xl(i,r,null,s);var E=i.memoizedState;if(r=E.cache,Si(i,at,r),r!==v.cache&&Iu(i,[at],s,!0),Jl(),r=E.element,v.isDehydrated)if(v={element:r,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=Ih(n,i,r,s);break e}else if(r!==m){m=en(Error(l(424)),i),Vl(m),i=Ih(n,i,r,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ye=sn(n.firstChild),vt=i,be=!0,vi=null,on=!0,s=Np(i,null,r,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(io(),r===m){i=Yn(n,i,s);break e}St(n,i,r,s)}i=i.child}return i;case 26:return Ua(n,i),n===null?(s=Jm(i.type,null,i.pendingProps,null))?i.memoizedState=s:be||(s=i.type,n=i.pendingProps,r=Za(de.current).createElement(s),r[ft]=i,r[yt]=n,Et(r,s,n),st(r),i.stateNode=r):i.memoizedState=Jm(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ze(i),n===null&&be&&(r=i.stateNode=Fm(i.type,i.pendingProps,de.current),vt=i,on=!0,m=Ye,Ui(i.type)?(Zc=m,Ye=sn(r.firstChild)):Ye=m),St(n,i,i.pendingProps.children,s),Ua(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&be&&((m=r=Ye)&&(r=NE(r,i.type,i.pendingProps,on),r!==null?(i.stateNode=r,vt=i,Ye=sn(r.firstChild),on=!1,m=!0):m=!1),m||_i(i)),ze(i),m=i.type,v=i.pendingProps,E=n!==null?n.memoizedProps:null,r=v.children,Yc(m,v)?r=null:E!==null&&Yc(m,E)&&(i.flags|=32),i.memoizedState!==null&&(m=Ou(n,i,PS,null,null,s),ps._currentValue=m),Ua(n,i),St(n,i,r,s),i.child;case 6:return n===null&&be&&((n=s=Ye)&&(s=wE(s,i.pendingProps,on),s!==null?(i.stateNode=s,vt=i,Ye=null,n=!0):n=!1),n||_i(i)),null;case 13:return Dh(n,i,s);case 4:return Te(i,i.stateNode.containerInfo),r=i.pendingProps,n===null?i.child=uo(i,null,r,s):St(n,i,r,s),i.child;case 11:return Ch(n,i,i.type,i.pendingProps,s);case 7:return St(n,i,i.pendingProps,s),i.child;case 8:return St(n,i,i.pendingProps.children,s),i.child;case 12:return St(n,i,i.pendingProps.children,s),i.child;case 10:return r=i.pendingProps,Si(i,i.type,r.value),St(n,i,r.children,s),i.child;case 9:return m=i.type._context,r=i.pendingProps.children,lo(i),m=_t(m),r=r(m),i.flags|=1,St(n,i,r,s),i.child;case 14:return xh(n,i,i.type,i.pendingProps,s);case 15:return Ah(n,i,i.type,i.pendingProps,s);case 19:return zh(n,i,s);case 31:return KS(n,i,s);case 22:return Nh(n,i,s,i.pendingProps);case 24:return lo(i),r=_t(at),n===null?(m=zu(),m===null&&(m=Fe,v=Du(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=s),m=v),i.memoizedState={parent:r,cache:m},Hu(i),Si(i,at,m)):((n.lanes&s)!==0&&(ku(n,i),Xl(i,null,null,s),Jl()),m=n.memoizedState,v=i.memoizedState,m.parent!==r?(m={parent:r,cache:r},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Si(i,at,r)):(r=v.cache,Si(i,at,r),r!==m.cache&&Iu(i,[at],s,!0))),St(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Jn(n){n.flags|=4}function vc(n,i,s,r,m){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(rm())n.flags|=8192;else throw ro=va,Lu}else n.flags&=-16777217}function Hh(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Qm(i))if(rm())n.flags|=8192;else throw ro=va,Lu}function La(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Ps():536870912,n.lanes|=i,Xo|=i)}function jl(n,i){if(!be)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Je(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,r=0;if(i)for(var m=n.child;m!==null;)s|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)s|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=r,n.childLanes=s,i}function QS(n,i,s){var r=i.pendingProps;switch(Nu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return s=i.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Bn(at),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(zo(i)?Jn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mu())),Je(i),null;case 26:var m=i.type,v=i.memoizedState;return n===null?(Jn(i),v!==null?(Je(i),Hh(i,v)):(Je(i),vc(i,m,null,r,s))):v?v!==n.memoizedState?(Jn(i),Je(i),Hh(i,v)):(Je(i),i.flags&=-16777217):(n=n.memoizedProps,n!==r&&Jn(i),Je(i),vc(i,m,n,r,s)),null;case 27:if(Tt(i),s=de.current,m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&Jn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Je(i),null}n=le.current,zo(i)?mp(i):(n=Fm(m,r,s),i.stateNode=n,Jn(i))}return Je(i),null;case 5:if(Tt(i),m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&Jn(i);else{if(!r){if(i.stateNode===null)throw Error(l(166));return Je(i),null}if(v=le.current,zo(i))mp(i);else{var E=Za(de.current);switch(v){case 1:v=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=E.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof r.is=="string"?E.createElement("select",{is:r.is}):E.createElement("select"),r.multiple?v.multiple=!0:r.size&&(v.size=r.size);break;default:v=typeof r.is=="string"?E.createElement(m,{is:r.is}):E.createElement(m)}}v[ft]=i,v[yt]=r;e:for(E=i.child;E!==null;){if(E.tag===5||E.tag===6)v.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===i)break e;for(;E.sibling===null;){if(E.return===null||E.return===i)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}i.stateNode=v;e:switch(Et(v,m,r),m){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Jn(i)}}return Je(i),vc(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,s),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==r&&Jn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(l(166));if(n=de.current,zo(i)){if(n=i.stateNode,s=i.memoizedProps,r=null,m=vt,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}n[ft]=i,n=!!(n.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||Dm(n.nodeValue,s)),n||_i(i,!0)}else n=Za(n).createTextNode(r),n[ft]=i,i.stateNode=n}return Je(i),null;case 31:if(s=i.memoizedState,n===null||n.memoizedState!==null){if(r=zo(i),s!==null){if(n===null){if(!r)throw Error(l(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[ft]=i}else io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),n=!1}else s=Mu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return i.flags&256?(Yt(i),i):(Yt(i),null);if((i.flags&128)!==0)throw Error(l(558))}return Je(i),null;case 13:if(r=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=zo(i),r!==null&&r.dehydrated!==null){if(n===null){if(!m)throw Error(l(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(l(317));m[ft]=i}else io(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),m=!1}else m=Mu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Yt(i),i):(Yt(i),null)}return Yt(i),(i.flags&128)!==0?(i.lanes=s,i):(s=r!==null,n=n!==null&&n.memoizedState!==null,s&&(r=i.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool),v=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(v=r.memoizedState.cachePool.pool),v!==m&&(r.flags|=2048)),s!==n&&s&&(i.child.flags|=8192),La(i,i.updateQueue),Je(i),null);case 4:return Se(),n===null&&Vc(i.stateNode.containerInfo),Je(i),null;case 10:return Bn(i.type),Je(i),null;case 19:if(k(it),r=i.memoizedState,r===null)return Je(i),null;if(m=(i.flags&128)!==0,v=r.rendering,v===null)if(m)jl(r,!1);else{if(et!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Ta(n),v!==null){for(i.flags|=128,jl(r,!1),n=v.updateQueue,i.updateQueue=n,La(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)cp(s,n),s=s.sibling;return te(it,it.current&1|2),be&&Vn(i,r.treeForkCount),i.child}n=n.sibling}r.tail!==null&&Ze()>Va&&(i.flags|=128,m=!0,jl(r,!1),i.lanes=4194304)}else{if(!m)if(n=Ta(v),n!==null){if(i.flags|=128,m=!0,n=n.updateQueue,i.updateQueue=n,La(i,n),jl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!v.alternate&&!be)return Je(i),null}else 2*Ze()-r.renderingStartTime>Va&&s!==536870912&&(i.flags|=128,m=!0,jl(r,!1),i.lanes=4194304);r.isBackwards?(v.sibling=i.child,i.child=v):(n=r.last,n!==null?n.sibling=v:i.child=v,r.last=v)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=Ze(),n.sibling=null,s=it.current,te(it,m?s&1|2:s&1),be&&Vn(i,r.treeForkCount),n):(Je(i),null);case 22:case 23:return Yt(i),Pu(),r=i.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(s&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),s=i.updateQueue,s!==null&&La(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048),n!==null&&k(so),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Bn(at),Je(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function WS(n,i){switch(Nu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Bn(at),Se(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Tt(i),null;case 31:if(i.memoizedState!==null){if(Yt(i),i.alternate===null)throw Error(l(340));io()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Yt(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));io()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return k(it),null;case 4:return Se(),null;case 10:return Bn(i.type),null;case 22:case 23:return Yt(i),Pu(),n!==null&&k(so),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Bn(at),null;case 25:return null;default:return null}}function kh(n,i){switch(Nu(i),i.tag){case 3:Bn(at),Se();break;case 26:case 27:case 5:Tt(i);break;case 4:Se();break;case 31:i.memoizedState!==null&&Yt(i);break;case 13:Yt(i);break;case 19:k(it);break;case 10:Bn(i.type);break;case 22:case 23:Yt(i),Pu(),n!==null&&k(so);break;case 24:Bn(at)}}function es(n,i){try{var s=i.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var m=r.next;s=m;do{if((s.tag&n)===n){r=void 0;var v=s.create,E=s.inst;r=v(),E.destroy=r}s=s.next}while(s!==m)}}catch(C){ke(i,i.return,C)}}function Ni(n,i,s){try{var r=i.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var v=m.next;r=v;do{if((r.tag&n)===n){var E=r.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,m=i;var I=s,$=C;try{$()}catch(se){ke(m,I,se)}}}r=r.next}while(r!==v)}}catch(se){ke(i,i.return,se)}}function qh(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{Mp(i,s)}catch(r){ke(n,n.return,r)}}}function Gh(n,i,s){s.props=fo(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(r){ke(n,i,r)}}function ts(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof s=="function"?n.refCleanup=s(r):s.current=r}}catch(m){ke(n,i,m)}}function wn(n,i){var s=n.ref,r=n.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(m){ke(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(m){ke(n,i,m)}else s.current=null}function Vh(n){var i=n.type,s=n.memoizedProps,r=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(m){ke(n,n.return,m)}}function _c(n,i,s){try{var r=n.stateNode;SE(r,n.type,s,i),r[yt]=i}catch(m){ke(n,n.return,m)}}function Ph(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ui(n.type)||n.tag===4}function Sc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ph(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ui(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ec(n,i,s){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=kn));else if(r!==4&&(r===27&&Ui(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Ec(n,i,s),n=n.sibling;n!==null;)Ec(n,i,s),n=n.sibling}function Ha(n,i,s){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(r!==4&&(r===27&&Ui(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Ha(n,i,s),n=n.sibling;n!==null;)Ha(n,i,s),n=n.sibling}function Bh(n){var i=n.stateNode,s=n.memoizedProps;try{for(var r=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);Et(i,r,s),i[ft]=n,i[yt]=s}catch(v){ke(n,n.return,v)}}var Xn=!1,ct=!1,Tc=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,ht=null;function jS(n,i){if(n=n.containerInfo,Fc=ir,n=tp(n),mu(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var m=r.anchorOffset,v=r.focusNode;r=r.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var E=0,C=-1,I=-1,$=0,se=0,ue=n,Q=null;t:for(;;){for(var ee;ue!==s||m!==0&&ue.nodeType!==3||(C=E+m),ue!==v||r!==0&&ue.nodeType!==3||(I=E+r),ue.nodeType===3&&(E+=ue.nodeValue.length),(ee=ue.firstChild)!==null;)Q=ue,ue=ee;for(;;){if(ue===n)break t;if(Q===s&&++$===m&&(C=E),Q===v&&++se===r&&(I=E),(ee=ue.nextSibling)!==null)break;ue=Q,Q=ue.parentNode}ue=ee}s=C===-1||I===-1?null:{start:C,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Oc={focusedElem:n,selectionRange:s},ir=!1,ht=i;ht!==null;)if(i=ht,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ht=n;else for(;ht!==null;){switch(i=ht,v=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)m=n[s],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&v!==null){n=void 0,s=i,m=v.memoizedProps,v=v.memoizedState,r=s.stateNode;try{var pe=fo(s.type,m);n=r.getSnapshotBeforeUpdate(pe,v),r.__reactInternalSnapshotBeforeUpdate=n}catch(_e){ke(s,s.return,_e)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Xc(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Xc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,ht=n;break}ht=i.return}}function Oh(n,i,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:Kn(n,s),r&4&&es(5,s);break;case 1:if(Kn(n,s),r&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(E){ke(s,s.return,E)}else{var m=fo(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){ke(s,s.return,E)}}r&64&&qh(s),r&512&&ts(s,s.return);break;case 3:if(Kn(n,s),r&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Mp(n,i)}catch(E){ke(s,s.return,E)}}break;case 27:i===null&&r&4&&Bh(s);case 26:case 5:Kn(n,s),i===null&&r&4&&Vh(s),r&512&&ts(s,s.return);break;case 12:Kn(n,s);break;case 31:Kn(n,s),r&4&&Xh(n,s);break;case 13:Kn(n,s),r&4&&$h(n,s),r&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=rE.bind(null,s),ME(n,s))));break;case 22:if(r=s.memoizedState!==null||Xn,!r){i=i!==null&&i.memoizedState!==null||ct,m=Xn;var v=ct;Xn=r,(ct=i)&&!v?Zn(n,s,(s.subtreeFlags&8772)!==0):Kn(n,s),Xn=m,ct=v}break;case 30:break;default:Kn(n,s)}}function Yh(n){var i=n.alternate;i!==null&&(n.alternate=null,Yh(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ml(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var $e=null,zt=!1;function $n(n,i,s){for(s=s.child;s!==null;)Jh(n,i,s),s=s.sibling}function Jh(n,i,s){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Pt,s)}catch{}switch(s.tag){case 26:ct||wn(s,i),$n(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ct||wn(s,i);var r=$e,m=zt;Ui(s.type)&&($e=s.stateNode,zt=!1),$n(n,i,s),cs(s.stateNode),$e=r,zt=m;break;case 5:ct||wn(s,i);case 6:if(r=$e,m=zt,$e=null,$n(n,i,s),$e=r,zt=m,$e!==null)if(zt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(s.stateNode)}catch(v){ke(s,i,v)}else try{$e.removeChild(s.stateNode)}catch(v){ke(s,i,v)}break;case 18:$e!==null&&(zt?(n=$e,qm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),tl(n)):qm($e,s.stateNode));break;case 4:r=$e,m=zt,$e=s.stateNode.containerInfo,zt=!0,$n(n,i,s),$e=r,zt=m;break;case 0:case 11:case 14:case 15:Ni(2,s,i),ct||Ni(4,s,i),$n(n,i,s);break;case 1:ct||(wn(s,i),r=s.stateNode,typeof r.componentWillUnmount=="function"&&Gh(s,i,r)),$n(n,i,s);break;case 21:$n(n,i,s);break;case 22:ct=(r=ct)||s.memoizedState!==null,$n(n,i,s),ct=r;break;default:$n(n,i,s)}}function Xh(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{tl(n)}catch(s){ke(i,i.return,s)}}}function $h(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{tl(n)}catch(s){ke(i,i.return,s)}}function eE(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Fh),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Fh),i;default:throw Error(l(435,n.tag))}}function ka(n,i){var s=eE(n);i.forEach(function(r){if(!s.has(r)){s.add(r);var m=uE.bind(null,n,r);r.then(m,m)}})}function Lt(n,i){var s=i.deletions;if(s!==null)for(var r=0;r<s.length;r++){var m=s[r],v=n,E=i,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Ui(C.type)){$e=C.stateNode,zt=!1;break e}break;case 5:$e=C.stateNode,zt=!1;break e;case 3:case 4:$e=C.stateNode.containerInfo,zt=!0;break e}C=C.return}if($e===null)throw Error(l(160));Jh(v,E,m),$e=null,zt=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Kh(i,n),i=i.sibling}var hn=null;function Kh(n,i){var s=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Lt(i,n),Ht(n),r&4&&(Ni(3,n,n.return),es(3,n),Ni(5,n,n.return));break;case 1:Lt(i,n),Ht(n),r&512&&(ct||s===null||wn(s,s.return)),r&64&&Xn&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var m=hn;if(Lt(i,n),Ht(n),r&512&&(ct||s===null||wn(s,s.return)),r&4){var v=s!==null?s.memoizedState:null;if(r=n.memoizedState,s===null)if(r===null)if(n.stateNode===null){e:{r=n.type,s=n.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":v=m.getElementsByTagName("title")[0],(!v||v[Zi]||v[ft]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(r),m.head.insertBefore(v,m.querySelector("head > title"))),Et(v,r,s),v[ft]=n,st(v),r=v;break e;case"link":var E=Km("link","href",m).get(r+(s.href||""));if(E){for(var C=0;C<E.length;C++)if(v=E[C],v.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&v.getAttribute("rel")===(s.rel==null?null:s.rel)&&v.getAttribute("title")===(s.title==null?null:s.title)&&v.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(C,1);break t}}v=m.createElement(r),Et(v,r,s),m.head.appendChild(v);break;case"meta":if(E=Km("meta","content",m).get(r+(s.content||""))){for(C=0;C<E.length;C++)if(v=E[C],v.getAttribute("content")===(s.content==null?null:""+s.content)&&v.getAttribute("name")===(s.name==null?null:s.name)&&v.getAttribute("property")===(s.property==null?null:s.property)&&v.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&v.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(C,1);break t}}v=m.createElement(r),Et(v,r,s),m.head.appendChild(v);break;default:throw Error(l(468,r))}v[ft]=n,st(v),r=v}n.stateNode=r}else Zm(m,n.type,n.stateNode);else n.stateNode=$m(m,r,n.memoizedProps);else v!==r?(v===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):v.count--,r===null?Zm(m,n.type,n.stateNode):$m(m,r,n.memoizedProps)):r===null&&n.stateNode!==null&&_c(n,n.memoizedProps,s.memoizedProps)}break;case 27:Lt(i,n),Ht(n),r&512&&(ct||s===null||wn(s,s.return)),s!==null&&r&4&&_c(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Lt(i,n),Ht(n),r&512&&(ct||s===null||wn(s,s.return)),n.flags&32){m=n.stateNode;try{xo(m,"")}catch(pe){ke(n,n.return,pe)}}r&4&&n.stateNode!=null&&(m=n.memoizedProps,_c(n,m,s!==null?s.memoizedProps:m)),r&1024&&(Tc=!0);break;case 6:if(Lt(i,n),Ht(n),r&4){if(n.stateNode===null)throw Error(l(162));r=n.memoizedProps,s=n.stateNode;try{s.nodeValue=r}catch(pe){ke(n,n.return,pe)}}break;case 3:if(ja=null,m=hn,hn=Qa(i.containerInfo),Lt(i,n),hn=m,Ht(n),r&4&&s!==null&&s.memoizedState.isDehydrated)try{tl(i.containerInfo)}catch(pe){ke(n,n.return,pe)}Tc&&(Tc=!1,Zh(n));break;case 4:r=hn,hn=Qa(n.stateNode.containerInfo),Lt(i,n),Ht(n),hn=r;break;case 12:Lt(i,n),Ht(n);break;case 31:Lt(i,n),Ht(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,ka(n,r)));break;case 13:Lt(i,n),Ht(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ga=Ze()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,ka(n,r)));break;case 22:m=n.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,$=Xn,se=ct;if(Xn=$||m,ct=se||I,Lt(i,n),ct=se,Xn=$,Ht(n),r&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(s===null||I||Xn||ct||po(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){I=s=i;try{if(v=I.stateNode,m)E=v.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=I.stateNode;var ue=I.memoizedProps.style,Q=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;C.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){ke(I,I.return,pe)}}}else if(i.tag===6){if(s===null){I=i;try{I.stateNode.nodeValue=m?"":I.memoizedProps}catch(pe){ke(I,I.return,pe)}}}else if(i.tag===18){if(s===null){I=i;try{var ee=I.stateNode;m?Gm(ee,!0):Gm(I.stateNode,!1)}catch(pe){ke(I,I.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=n.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,ka(n,s))));break;case 19:Lt(i,n),Ht(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,ka(n,r)));break;case 30:break;case 21:break;default:Lt(i,n),Ht(n)}}function Ht(n){var i=n.flags;if(i&2){try{for(var s,r=n.return;r!==null;){if(Ph(r)){s=r;break}r=r.return}if(s==null)throw Error(l(160));switch(s.tag){case 27:var m=s.stateNode,v=Sc(n);Ha(n,v,m);break;case 5:var E=s.stateNode;s.flags&32&&(xo(E,""),s.flags&=-33);var C=Sc(n);Ha(n,C,E);break;case 3:case 4:var I=s.stateNode.containerInfo,$=Sc(n);Ec(n,$,I);break;default:throw Error(l(161))}}catch(se){ke(n,n.return,se)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Zh(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Zh(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Kn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Oh(n,i.alternate,i),i=i.sibling}function po(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ni(4,i,i.return),po(i);break;case 1:wn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Gh(i,i.return,s),po(i);break;case 27:cs(i.stateNode);case 26:case 5:wn(i,i.return),po(i);break;case 22:i.memoizedState===null&&po(i);break;case 30:po(i);break;default:po(i)}n=n.sibling}}function Zn(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,m=n,v=i,E=v.flags;switch(v.tag){case 0:case 11:case 15:Zn(m,v,s),es(4,v);break;case 1:if(Zn(m,v,s),r=v,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch($){ke(r,r.return,$)}if(r=v,m=r.updateQueue,m!==null){var C=r.stateNode;try{var I=m.shared.hiddenCallbacks;if(I!==null)for(m.shared.hiddenCallbacks=null,m=0;m<I.length;m++)wp(I[m],C)}catch($){ke(r,r.return,$)}}s&&E&64&&qh(v),ts(v,v.return);break;case 27:Bh(v);case 26:case 5:Zn(m,v,s),s&&r===null&&E&4&&Vh(v),ts(v,v.return);break;case 12:Zn(m,v,s);break;case 31:Zn(m,v,s),s&&E&4&&Xh(m,v);break;case 13:Zn(m,v,s),s&&E&4&&$h(m,v);break;case 22:v.memoizedState===null&&Zn(m,v,s),ts(v,v.return);break;case 30:break;default:Zn(m,v,s)}i=i.sibling}}function Cc(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Pl(s))}function xc(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Pl(n))}function mn(n,i,s,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qh(n,i,s,r),i=i.sibling}function Qh(n,i,s,r){var m=i.flags;switch(i.tag){case 0:case 11:case 15:mn(n,i,s,r),m&2048&&es(9,i);break;case 1:mn(n,i,s,r);break;case 3:mn(n,i,s,r),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Pl(n)));break;case 12:if(m&2048){mn(n,i,s,r),n=i.stateNode;try{var v=i.memoizedProps,E=v.id,C=v.onPostCommit;typeof C=="function"&&C(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){ke(i,i.return,I)}}else mn(n,i,s,r);break;case 31:mn(n,i,s,r);break;case 13:mn(n,i,s,r);break;case 23:break;case 22:v=i.stateNode,E=i.alternate,i.memoizedState!==null?v._visibility&2?mn(n,i,s,r):ns(n,i):v._visibility&2?mn(n,i,s,r):(v._visibility|=2,Oo(n,i,s,r,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Cc(E,i);break;case 24:mn(n,i,s,r),m&2048&&xc(i.alternate,i);break;default:mn(n,i,s,r)}}function Oo(n,i,s,r,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=n,E=i,C=s,I=r,$=E.flags;switch(E.tag){case 0:case 11:case 15:Oo(v,E,C,I,m),es(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?Oo(v,E,C,I,m):ns(v,E):(se._visibility|=2,Oo(v,E,C,I,m)),m&&$&2048&&Cc(E.alternate,E);break;case 24:Oo(v,E,C,I,m),m&&$&2048&&xc(E.alternate,E);break;default:Oo(v,E,C,I,m)}i=i.sibling}}function ns(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,r=i,m=r.flags;switch(r.tag){case 22:ns(s,r),m&2048&&Cc(r.alternate,r);break;case 24:ns(s,r),m&2048&&xc(r.alternate,r);break;default:ns(s,r)}i=i.sibling}}var is=8192;function Yo(n,i,s){if(n.subtreeFlags&is)for(n=n.child;n!==null;)Wh(n,i,s),n=n.sibling}function Wh(n,i,s){switch(n.tag){case 26:Yo(n,i,s),n.flags&is&&n.memoizedState!==null&&VE(s,hn,n.memoizedState,n.memoizedProps);break;case 5:Yo(n,i,s);break;case 3:case 4:var r=hn;hn=Qa(n.stateNode.containerInfo),Yo(n,i,s),hn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=is,is=16777216,Yo(n,i,s),is=r):Yo(n,i,s));break;default:Yo(n,i,s)}}function jh(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function os(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];ht=r,tm(r,n)}jh(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)em(n),n=n.sibling}function em(n){switch(n.tag){case 0:case 11:case 15:os(n),n.flags&2048&&Ni(9,n,n.return);break;case 3:os(n);break;case 12:os(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,qa(n)):os(n);break;default:os(n)}}function qa(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var r=i[s];ht=r,tm(r,n)}jh(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ni(8,i,i.return),qa(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,qa(i));break;default:qa(i)}n=n.sibling}}function tm(n,i){for(;ht!==null;){var s=ht;switch(s.tag){case 0:case 11:case 15:Ni(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,ht=r;else e:for(s=n;ht!==null;){r=ht;var m=r.sibling,v=r.return;if(Yh(r),r===s){ht=null;break e}if(m!==null){m.return=v,ht=m;break e}ht=v}}}var tE={getCacheForType:function(n){var i=_t(at),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s},cacheSignal:function(){return _t(at).controller.signal}},nE=typeof WeakMap=="function"?WeakMap:Map,Le=0,Fe=null,Ne=null,Me=0,He=0,Jt=null,wi=!1,Jo=!1,Ac=!1,Qn=0,et=0,Mi=0,ho=0,Nc=0,Xt=0,Xo=0,ls=null,kt=null,wc=!1,Ga=0,nm=0,Va=1/0,Pa=null,Ri=null,dt=0,bi=null,$o=null,Wn=0,Mc=0,Rc=null,im=null,ss=0,bc=null;function $t(){return(Le&2)!==0&&Me!==0?Me&-Me:A.T!==null?Hc():Ys()}function om(){if(Xt===0)if((Me&536870912)===0||be){var n=di;di<<=1,(di&3932160)===0&&(di=262144),Xt=n}else Xt=536870912;return n=Ot.current,n!==null&&(n.flags|=32),Xt}function qt(n,i,s){(n===Fe&&(He===2||He===9)||n.cancelPendingCommit!==null)&&(Ko(n,0),Ii(n,Me,Xt,!1)),Ki(n,s),((Le&2)===0||n!==Fe)&&(n===Fe&&((Le&2)===0&&(ho|=s),et===4&&Ii(n,Me,Xt,!1)),Mn(n))}function lm(n,i,s){if((Le&6)!==0)throw Error(l(327));var r=!s&&(i&127)===0&&(i&n.expiredLanes)===0||$i(n,i),m=r?lE(n,i):Dc(n,i,!0),v=r;do{if(m===0){Jo&&!r&&Ii(n,i,0,!1);break}else{if(s=n.current.alternate,v&&!iE(s)){m=Dc(n,i,!1),v=!1;continue}if(m===2){if(v=i,n.errorRecoveryDisabledLanes&v)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var C=n;m=ls;var I=C.current.memoizedState.isDehydrated;if(I&&(Ko(C,E).flags|=256),E=Dc(C,E,!1),E!==2){if(Ac&&!I){C.errorRecoveryDisabledLanes|=v,ho|=v,m=4;break e}v=kt,kt=m,v!==null&&(kt===null?kt=v:kt.push.apply(kt,v))}m=E}if(v=!1,m!==2)continue}}if(m===1){Ko(n,0),Ii(n,i,0,!0);break}e:{switch(r=n,v=m,v){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Ii(r,i,Xt,!wi);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(m=Ga+300-Ze(),10<m)){if(Ii(r,i,Xt,!wi),To(r,0,!0)!==0)break e;Wn=i,r.timeoutHandle=Hm(sm.bind(null,r,s,kt,Pa,wc,i,Xt,ho,Xo,wi,v,"Throttled",-0,0),m);break e}sm(r,s,kt,Pa,wc,i,Xt,ho,Xo,wi,v,null,-0,0)}}break}while(!0);Mn(n)}function sm(n,i,s,r,m,v,E,C,I,$,se,ue,Q,ee){if(n.timeoutHandle=-1,ue=i.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},Wh(i,v,ue);var pe=(v&62914560)===v?Ga-Ze():(v&4194048)===v?nm-Ze():0;if(pe=PE(ue,pe),pe!==null){Wn=v,n.cancelPendingCommit=pe(hm.bind(null,n,i,v,s,r,m,E,C,I,se,ue,null,Q,ee)),Ii(n,v,E,!$);return}}hm(n,i,v,s,r,m,E,C,I)}function iE(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var m=s[r],v=m.getSnapshot;m=m.value;try{if(!Bt(v(),m))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(n,i,s,r){i&=~Nc,i&=~ho,n.suspendedLanes|=i,n.pingedLanes&=~i,r&&(n.warmLanes|=i),r=n.expirationTimes;for(var m=i;0<m;){var v=31-Qe(m),E=1<<v;r[v]=-1,m&=~E}s!==0&&Bs(n,s,i)}function Ba(){return(Le&6)===0?(as(0),!1):!0}function Ic(){if(Ne!==null){if(He===0)var n=Ne.return;else n=Ne,Pn=oo=null,Xu(n),Go=null,Fl=0,n=Ne;for(;n!==null;)kh(n.alternate,n),n=n.return;Ne=null}}function Ko(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,CE(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Wn=0,Ic(),Fe=n,Ne=s=Gn(n.current,null),Me=i,He=0,Jt=null,wi=!1,Jo=$i(n,i),Ac=!1,Xo=Xt=Nc=ho=Mi=et=0,kt=ls=null,wc=!1,(i&8)!==0&&(i|=i&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=i;0<r;){var m=31-Qe(r),v=1<<m;i|=n[m],r&=~v}return Qn=i,ua(),s}function am(n,i){Ce=null,A.H=Ql,i===qo||i===ya?(i=Cp(),He=3):i===Lu?(i=Cp(),He=4):He=i===uc?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Jt=i,Ne===null&&(et=1,Ia(n,en(i,n.current)))}function rm(){var n=Ot.current;return n===null?!0:(Me&4194048)===Me?ln===null:(Me&62914560)===Me||(Me&536870912)!==0?n===ln:!1}function um(){var n=A.H;return A.H=Ql,n===null?Ql:n}function cm(){var n=A.A;return A.A=tE,n}function Fa(){et=4,wi||(Me&4194048)!==Me&&Ot.current!==null||(Jo=!0),(Mi&134217727)===0&&(ho&134217727)===0||Fe===null||Ii(Fe,Me,Xt,!1)}function Dc(n,i,s){var r=Le;Le|=2;var m=um(),v=cm();(Fe!==n||Me!==i)&&(Pa=null,Ko(n,i)),i=!1;var E=et;e:do try{if(He!==0&&Ne!==null){var C=Ne,I=Jt;switch(He){case 8:Ic(),E=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(i=!0);var $=He;if(He=0,Jt=null,Zo(n,C,I,$),s&&Jo){E=0;break e}break;default:$=He,He=0,Jt=null,Zo(n,C,I,$)}}oE(),E=et;break}catch(se){am(n,se)}while(!0);return i&&n.shellSuspendCounter++,Pn=oo=null,Le=r,A.H=m,A.A=v,Ne===null&&(Fe=null,Me=0,ua()),E}function oE(){for(;Ne!==null;)fm(Ne)}function lE(n,i){var s=Le;Le|=2;var r=um(),m=cm();Fe!==n||Me!==i?(Pa=null,Va=Ze()+500,Ko(n,i)):Jo=$i(n,i);e:do try{if(He!==0&&Ne!==null){i=Ne;var v=Jt;t:switch(He){case 1:He=0,Jt=null,Zo(n,i,v,1);break;case 2:case 9:if(Ep(v)){He=0,Jt=null,dm(i);break}i=function(){He!==2&&He!==9||Fe!==n||(He=7),Mn(n)},v.then(i,i);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Ep(v)?(He=0,Jt=null,dm(i)):(He=0,Jt=null,Zo(n,i,v,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var C=Ne;if(E?Qm(E):C.stateNode.complete){He=0,Jt=null;var I=C.sibling;if(I!==null)Ne=I;else{var $=C.return;$!==null?(Ne=$,Oa($)):Ne=null}break t}}He=0,Jt=null,Zo(n,i,v,5);break;case 6:He=0,Jt=null,Zo(n,i,v,6);break;case 8:Ic(),et=6;break e;default:throw Error(l(462))}}sE();break}catch(se){am(n,se)}while(!0);return Pn=oo=null,A.H=r,A.A=m,Le=s,Ne!==null?0:(Fe=null,Me=0,ua(),et)}function sE(){for(;Ne!==null&&!ai();)fm(Ne)}function fm(n){var i=Lh(n.alternate,n,Qn);n.memoizedProps=n.pendingProps,i===null?Oa(n):Ne=i}function dm(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=Rh(s,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Rh(s,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Xu(i);default:kh(s,i),i=Ne=cp(i,Qn),i=Lh(s,i,Qn)}n.memoizedProps=n.pendingProps,i===null?Oa(n):Ne=i}function Zo(n,i,s,r){Pn=oo=null,Xu(i),Go=null,Fl=0;var m=i.return;try{if($S(n,m,i,s,Me)){et=1,Ia(n,en(s,n.current)),Ne=null;return}}catch(v){if(m!==null)throw Ne=m,v;et=1,Ia(n,en(s,n.current)),Ne=null;return}i.flags&32768?(be||r===1?n=!0:Jo||(Me&536870912)!==0?n=!1:(wi=n=!0,(r===2||r===9||r===3||r===6)&&(r=Ot.current,r!==null&&r.tag===13&&(r.flags|=16384))),pm(i,n)):Oa(i)}function Oa(n){var i=n;do{if((i.flags&32768)!==0){pm(i,wi);return}n=i.return;var s=QS(i.alternate,i,Qn);if(s!==null){Ne=s;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=n}while(i!==null);et===0&&(et=5)}function pm(n,i){do{var s=WS(n.alternate,n);if(s!==null){s.flags&=32767,Ne=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=s}while(n!==null);et=6,Ne=null}function hm(n,i,s,r,m,v,E,C,I){n.cancelPendingCommit=null;do Ya();while(dt!==0);if((Le&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(v=i.lanes|i.childLanes,v|=Su,Kr(n,s,v,E,C,I),n===Fe&&(Ne=Fe=null,Me=0),$o=i,bi=n,Wn=s,Mc=v,Rc=m,im=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,cE(dn,function(){return _m(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=A.T,A.T=null,m=V.p,V.p=2,E=Le,Le|=4;try{jS(n,i,s)}finally{Le=E,V.p=m,A.T=r}}dt=1,mm(),gm(),ym()}}function mm(){if(dt===1){dt=0;var n=bi,i=$o,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=A.T,A.T=null;var r=V.p;V.p=2;var m=Le;Le|=4;try{Kh(i,n);var v=Oc,E=tp(n.containerInfo),C=v.focusedElem,I=v.selectionRange;if(E!==C&&C&&C.ownerDocument&&ep(C.ownerDocument.documentElement,C)){if(I!==null&&mu(C)){var $=I.start,se=I.end;if(se===void 0&&(se=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(se,C.value.length);else{var ue=C.ownerDocument||document,Q=ue&&ue.defaultView||window;if(Q.getSelection){var ee=Q.getSelection(),pe=C.textContent.length,_e=Math.min(I.start,pe),Pe=I.end===void 0?_e:Math.min(I.end,pe);!ee.extend&&_e>Pe&&(E=Pe,Pe=_e,_e=E);var P=jd(C,_e),G=jd(C,Pe);if(P&&G&&(ee.rangeCount!==1||ee.anchorNode!==P.node||ee.anchorOffset!==P.offset||ee.focusNode!==G.node||ee.focusOffset!==G.offset)){var J=ue.createRange();J.setStart(P.node,P.offset),ee.removeAllRanges(),_e>Pe?(ee.addRange(J),ee.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),ee.addRange(J))}}}}for(ue=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ue.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ue.length;C++){var re=ue[C];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}ir=!!Fc,Oc=Fc=null}finally{Le=m,V.p=r,A.T=s}}n.current=i,dt=2}}function gm(){if(dt===2){dt=0;var n=bi,i=$o,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=A.T,A.T=null;var r=V.p;V.p=2;var m=Le;Le|=4;try{Oh(n,i.alternate,i)}finally{Le=m,V.p=r,A.T=s}}dt=3}}function ym(){if(dt===4||dt===3){dt=0,ri();var n=bi,i=$o,s=Wn,r=im;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?dt=5:(dt=0,$o=bi=null,vm(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Ri=null),Nl(s),i=i.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Pt,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=A.T,m=V.p,V.p=2,A.T=null;try{for(var v=n.onRecoverableError,E=0;E<r.length;E++){var C=r[E];v(C.value,{componentStack:C.stack})}}finally{A.T=i,V.p=m}}(Wn&3)!==0&&Ya(),Mn(n),m=n.pendingLanes,(s&261930)!==0&&(m&42)!==0?n===bc?ss++:(ss=0,bc=n):ss=0,as(0)}}function vm(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Pl(i)))}function Ya(){return mm(),gm(),ym(),_m()}function _m(){if(dt!==5)return!1;var n=bi,i=Mc;Mc=0;var s=Nl(Wn),r=A.T,m=V.p;try{V.p=32>s?32:s,A.T=null,s=Rc,Rc=null;var v=bi,E=Wn;if(dt=0,$o=bi=null,Wn=0,(Le&6)!==0)throw Error(l(331));var C=Le;if(Le|=4,em(v.current),Qh(v,v.current,E,s),Le=C,as(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Pt,v)}catch{}return!0}finally{V.p=m,A.T=r,vm(n,i)}}function Sm(n,i,s){i=en(s,i),i=rc(n.stateNode,i,2),n=Ci(n,i,2),n!==null&&(Ki(n,2),Mn(n))}function ke(n,i,s){if(n.tag===3)Sm(n,n,s);else for(;i!==null;){if(i.tag===3){Sm(i,n,s);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){n=en(s,n),s=Eh(2),r=Ci(i,s,2),r!==null&&(Th(s,r,i,n),Ki(r,2),Mn(r));break}}i=i.return}}function Uc(n,i,s){var r=n.pingCache;if(r===null){r=n.pingCache=new nE;var m=new Set;r.set(i,m)}else m=r.get(i),m===void 0&&(m=new Set,r.set(i,m));m.has(s)||(Ac=!0,m.add(s),n=aE.bind(null,n,i,s),i.then(n,n))}function aE(n,i,s){var r=n.pingCache;r!==null&&r.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Fe===n&&(Me&s)===s&&(et===4||et===3&&(Me&62914560)===Me&&300>Ze()-Ga?(Le&2)===0&&Ko(n,0):Nc|=s,Xo===Me&&(Xo=0)),Mn(n)}function Em(n,i){i===0&&(i=Ps()),n=to(n,i),n!==null&&(Ki(n,i),Mn(n))}function rE(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),Em(n,s)}function uE(n,i){var s=0;switch(n.tag){case 31:case 13:var r=n.stateNode,m=n.memoizedState;m!==null&&(s=m.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(i),Em(n,s)}function cE(n,i){return fn(n,i)}var Ja=null,Qo=null,zc=!1,Xa=!1,Lc=!1,Di=0;function Mn(n){n!==Qo&&n.next===null&&(Qo===null?Ja=Qo=n:Qo=Qo.next=n),Xa=!0,zc||(zc=!0,dE())}function as(n,i){if(!Lc&&Xa){Lc=!0;do for(var s=!1,r=Ja;r!==null;){if(n!==0){var m=r.pendingLanes;if(m===0)var v=0;else{var E=r.suspendedLanes,C=r.pingedLanes;v=(1<<31-Qe(42|n)+1)-1,v&=m&~(E&~C),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(s=!0,Am(r,v))}else v=Me,v=To(r,r===Fe?v:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(v&3)===0||$i(r,v)||(s=!0,Am(r,v));r=r.next}while(s);Lc=!1}}function fE(){Tm()}function Tm(){Xa=zc=!1;var n=0;Di!==0&&TE()&&(n=Di);for(var i=Ze(),s=null,r=Ja;r!==null;){var m=r.next,v=Cm(r,i);v===0?(r.next=null,s===null?Ja=m:s.next=m,m===null&&(Qo=s)):(s=r,(n!==0||(v&3)!==0)&&(Xa=!0)),r=m}dt!==0&&dt!==5||as(n),Di!==0&&(Di=0)}function Cm(n,i){for(var s=n.suspendedLanes,r=n.pingedLanes,m=n.expirationTimes,v=n.pendingLanes&-62914561;0<v;){var E=31-Qe(v),C=1<<E,I=m[E];I===-1?((C&s)===0||(C&r)!==0)&&(m[E]=$r(C,i)):I<=i&&(n.expiredLanes|=C),v&=~C}if(i=Fe,s=Me,s=To(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,s===0||n===i&&(He===2||He===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&Dn(r),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||$i(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(r!==null&&Dn(r),Nl(s)){case 2:case 8:s=Tn;break;case 32:s=dn;break;case 268435456:s=fi;break;default:s=dn}return r=xm.bind(null,n),s=fn(s,r),n.callbackPriority=i,n.callbackNode=s,i}return r!==null&&r!==null&&Dn(r),n.callbackPriority=2,n.callbackNode=null,2}function xm(n,i){if(dt!==0&&dt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Ya()&&n.callbackNode!==s)return null;var r=Me;return r=To(n,n===Fe?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(lm(n,r,i),Cm(n,Ze()),n.callbackNode!=null&&n.callbackNode===s?xm.bind(null,n):null)}function Am(n,i){if(Ya())return null;lm(n,i,!0)}function dE(){xE(function(){(Le&6)!==0?fn(En,fE):Tm()})}function Hc(){if(Di===0){var n=Ho;n===0&&(n=Cn,Cn<<=1,(Cn&261888)===0&&(Cn=256)),Di=n}return Di}function Nm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ta(""+n)}function wm(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function pE(n,i,s,r,m){if(i==="submit"&&s&&s.stateNode===m){var v=Nm((m[yt]||null).action),E=r.submitter;E&&(i=(i=E[yt]||null)?Nm(i.formAction):E.getAttribute("formAction"),i!==null&&(v=i,E=null));var C=new la("action","action",null,r,m);n.push({event:C,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Di!==0){var I=E?wm(m,E):new FormData(m);nc(s,{pending:!0,data:I,method:m.method,action:v},null,I)}}else typeof v=="function"&&(C.preventDefault(),I=E?wm(m,E):new FormData(m),nc(s,{pending:!0,data:I,method:m.method,action:v},v,I))},currentTarget:m}]})}}for(var kc=0;kc<_u.length;kc++){var qc=_u[kc],hE=qc.toLowerCase(),mE=qc[0].toUpperCase()+qc.slice(1);pn(hE,"on"+mE)}pn(op,"onAnimationEnd"),pn(lp,"onAnimationIteration"),pn(sp,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(IS,"onTransitionRun"),pn(DS,"onTransitionStart"),pn(US,"onTransitionCancel"),pn(ap,"onTransitionEnd"),Ln("onMouseEnter",["mouseout","mouseover"]),Ln("onMouseLeave",["mouseout","mouseover"]),Ln("onPointerEnter",["pointerout","pointerover"]),Ln("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rs));function Mm(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var r=n[s],m=r.event;r=r.listeners;e:{var v=void 0;if(i)for(var E=r.length-1;0<=E;E--){var C=r[E],I=C.instance,$=C.currentTarget;if(C=C.listener,I!==v&&m.isPropagationStopped())break e;v=C,m.currentTarget=$;try{v(m)}catch(se){ra(se)}m.currentTarget=null,v=I}else for(E=0;E<r.length;E++){if(C=r[E],I=C.instance,$=C.currentTarget,C=C.listener,I!==v&&m.isPropagationStopped())break e;v=C,m.currentTarget=$;try{v(m)}catch(se){ra(se)}m.currentTarget=null,v=I}}}}function we(n,i){var s=i[wl];s===void 0&&(s=i[wl]=new Set);var r=n+"__bubble";s.has(r)||(Rm(i,n,2,!1),s.add(r))}function Gc(n,i,s){var r=0;i&&(r|=4),Rm(s,n,r,i)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Vc(n){if(!n[$a]){n[$a]=!0,$s.forEach(function(s){s!=="selectionchange"&&(gE.has(s)||Gc(s,!1,n),Gc(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[$a]||(i[$a]=!0,Gc("selectionchange",!1,i))}}function Rm(n,i,s,r){switch(og(i)){case 2:var m=OE;break;case 8:m=YE;break;default:m=tf}s=m.bind(null,i,s,n),m=void 0,!su||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),r?m!==void 0?n.addEventListener(i,s,{capture:!0,passive:m}):n.addEventListener(i,s,!0):m!==void 0?n.addEventListener(i,s,{passive:m}):n.addEventListener(i,s,!1)}function Pc(n,i,s,r,m){var v=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var E=r.tag;if(E===3||E===4){var C=r.stateNode.containerInfo;if(C===m)break;if(E===4)for(E=r.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;C!==null;){if(E=hi(C),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){r=v=E;continue e}C=C.parentNode}}r=r.return}zd(function(){var $=v,se=ou(s),ue=[];e:{var Q=rp.get(n);if(Q!==void 0){var ee=la,pe=n;switch(n){case"keypress":if(ia(s)===0)break e;case"keydown":case"keyup":ee=uS;break;case"focusin":pe="focus",ee=cu;break;case"focusout":pe="blur",ee=cu;break;case"beforeblur":case"afterblur":ee=cu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Q_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=dS;break;case op:case lp:case sp:ee=eS;break;case ap:ee=hS;break;case"scroll":case"scrollend":ee=K_;break;case"wheel":ee=gS;break;case"copy":case"cut":case"paste":ee=nS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Gd;break;case"toggle":case"beforetoggle":ee=vS}var _e=(i&4)!==0,Pe=!_e&&(n==="scroll"||n==="scrollend"),P=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var G=$,J;G!==null;){var re=G;if(J=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||J===null||P===null||(re=bl(G,P),re!=null&&_e.push(us(G,re,J))),Pe)break;G=G.return}0<_e.length&&(Q=new ee(Q,pe,null,s,se),ue.push({event:Q,listeners:_e}))}}if((i&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",Q&&s!==iu&&(pe=s.relatedTarget||s.fromElement)&&(hi(pe)||pe[pi]))break e;if((ee||Q)&&(Q=se.window===se?se:(Q=se.ownerDocument)?Q.defaultView||Q.parentWindow:window,ee?(pe=s.relatedTarget||s.toElement,ee=$,pe=pe?hi(pe):null,pe!==null&&(Pe=u(pe),_e=pe.tag,pe!==Pe||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(ee=null,pe=$),ee!==pe)){if(_e=kd,re="onMouseLeave",P="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(_e=Gd,re="onPointerLeave",P="onPointerEnter",G="pointer"),Pe=ee==null?Q:Qi(ee),J=pe==null?Q:Qi(pe),Q=new _e(re,G+"leave",ee,s,se),Q.target=Pe,Q.relatedTarget=J,re=null,hi(se)===$&&(_e=new _e(P,G+"enter",pe,s,se),_e.target=J,_e.relatedTarget=Pe,re=_e),Pe=re,ee&&pe)t:{for(_e=yE,P=ee,G=pe,J=0,re=P;re;re=_e(re))J++;re=0;for(var ve=G;ve;ve=_e(ve))re++;for(;0<J-re;)P=_e(P),J--;for(;0<re-J;)G=_e(G),re--;for(;J--;){if(P===G||G!==null&&P===G.alternate){_e=P;break t}P=_e(P),G=_e(G)}_e=null}else _e=null;ee!==null&&bm(ue,Q,ee,_e,!1),pe!==null&&Pe!==null&&bm(ue,Pe,pe,_e,!0)}}e:{if(Q=$?Qi($):window,ee=Q.nodeName&&Q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Q.type==="file")var Ie=Xd;else if(Yd(Q))if($d)Ie=MS;else{Ie=NS;var me=AS}else ee=Q.nodeName,!ee||ee.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?$&&nu($.elementType)&&(Ie=Xd):Ie=wS;if(Ie&&(Ie=Ie(n,$))){Jd(ue,Ie,s,se);break e}me&&me(n,Q,$),n==="focusout"&&$&&Q.type==="number"&&$.memoizedProps.value!=null&&tu(Q,"number",Q.value)}switch(me=$?Qi($):window,n){case"focusin":(Yd(me)||me.contentEditable==="true")&&(Mo=me,gu=$,ql=null);break;case"focusout":ql=gu=Mo=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,np(ue,s,se);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":np(ue,s,se)}var xe;if(du)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else wo?Fd(n,s)&&(Re="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Re="onCompositionStart");Re&&(Vd&&s.locale!=="ko"&&(wo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&wo&&(xe=Ld()):(gi=se,au="value"in gi?gi.value:gi.textContent,wo=!0)),me=Ka($,Re),0<me.length&&(Re=new qd(Re,n,null,s,se),ue.push({event:Re,listeners:me}),xe?Re.data=xe:(xe=Od(s),xe!==null&&(Re.data=xe)))),(xe=SS?ES(n,s):TS(n,s))&&(Re=Ka($,"onBeforeInput"),0<Re.length&&(me=new qd("onBeforeInput","beforeinput",null,s,se),ue.push({event:me,listeners:Re}),me.data=xe)),pE(ue,n,$,s,se)}Mm(ue,i)})}function us(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Ka(n,i){for(var s=i+"Capture",r=[];n!==null;){var m=n,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=bl(n,s),m!=null&&r.unshift(us(n,m,v)),m=bl(n,i),m!=null&&r.push(us(n,m,v))),n.tag===3)return r;n=n.return}return[]}function yE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function bm(n,i,s,r,m){for(var v=i._reactName,E=[];s!==null&&s!==r;){var C=s,I=C.alternate,$=C.stateNode;if(C=C.tag,I!==null&&I===r)break;C!==5&&C!==26&&C!==27||$===null||(I=$,m?($=bl(s,v),$!=null&&E.unshift(us(s,$,I))):m||($=bl(s,v),$!=null&&E.push(us(s,$,I)))),s=s.return}E.length!==0&&n.push({event:i,listeners:E})}var vE=/\r\n?/g,_E=/\u0000|\uFFFD/g;function Im(n){return(typeof n=="string"?n:""+n).replace(vE,`
`).replace(_E,"")}function Dm(n,i){return i=Im(i),Im(n)===i}function Ve(n,i,s,r,m,v){switch(s){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||xo(n,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&xo(n,""+r);break;case"className":js(n,"class",r);break;case"tabIndex":js(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":js(n,s,r);break;case"style":Dd(n,r,v);break;case"data":if(i!=="object"){js(n,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(s);break}r=ta(""+r),n.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(s==="formAction"?(i!=="input"&&Ve(n,i,"name",m.name,m,null),Ve(n,i,"formEncType",m.formEncType,m,null),Ve(n,i,"formMethod",m.formMethod,m,null),Ve(n,i,"formTarget",m.formTarget,m,null)):(Ve(n,i,"encType",m.encType,m,null),Ve(n,i,"method",m.method,m,null),Ve(n,i,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(s);break}r=ta(""+r),n.setAttribute(s,r);break;case"onClick":r!=null&&(n.onclick=kn);break;case"onScroll":r!=null&&we("scroll",n);break;case"onScrollEnd":r!=null&&we("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(m.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}s=ta(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(s,""+r):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":r===!0?n.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(s,r):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(s,r):n.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(s):n.setAttribute(s,r);break;case"popover":we("beforetoggle",n),we("toggle",n),Ws(n,"popover",r);break;case"xlinkActuate":Hn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Hn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Hn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Hn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Hn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Hn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Hn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ws(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=X_.get(s)||s,Ws(n,s,r))}}function Bc(n,i,s,r,m,v){switch(s){case"style":Dd(n,r,v);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(s=r.__html,s!=null){if(m.children!=null)throw Error(l(60));n.innerHTML=s}}break;case"children":typeof r=="string"?xo(n,r):(typeof r=="number"||typeof r=="bigint")&&xo(n,""+r);break;case"onScroll":r!=null&&we("scroll",n);break;case"onScrollEnd":r!=null&&we("scrollend",n);break;case"onClick":r!=null&&(n.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ks.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(m=s.endsWith("Capture"),i=s.slice(2,m?s.length-7:void 0),v=n[yt]||null,v=v!=null?v[s]:null,typeof v=="function"&&n.removeEventListener(i,v,m),typeof r=="function")){typeof v!="function"&&v!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,r,m);break e}s in n?n[s]=r:r===!0?n.setAttribute(s,""):Ws(n,s,r)}}}function Et(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",n),we("load",n);var r=!1,m=!1,v;for(v in s)if(s.hasOwnProperty(v)){var E=s[v];if(E!=null)switch(v){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ve(n,i,v,E,s,null)}}m&&Ve(n,i,"srcSet",s.srcSet,s,null),r&&Ve(n,i,"src",s.src,s,null);return;case"input":we("invalid",n);var C=v=E=m=null,I=null,$=null;for(r in s)if(s.hasOwnProperty(r)){var se=s[r];if(se!=null)switch(r){case"name":m=se;break;case"type":E=se;break;case"checked":I=se;break;case"defaultChecked":$=se;break;case"value":v=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(l(137,i));break;default:Ve(n,i,r,se,s,null)}}Md(n,v,C,I,$,E,m,!1);return;case"select":we("invalid",n),r=E=v=null;for(m in s)if(s.hasOwnProperty(m)&&(C=s[m],C!=null))switch(m){case"value":v=C;break;case"defaultValue":E=C;break;case"multiple":r=C;default:Ve(n,i,m,C,s,null)}i=v,s=E,n.multiple=!!r,i!=null?Co(n,!!r,i,!1):s!=null&&Co(n,!!r,s,!0);return;case"textarea":we("invalid",n),v=m=r=null;for(E in s)if(s.hasOwnProperty(E)&&(C=s[E],C!=null))switch(E){case"value":r=C;break;case"defaultValue":m=C;break;case"children":v=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(91));break;default:Ve(n,i,E,C,s,null)}bd(n,r,m,v);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(r=s[I],r!=null))switch(I){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ve(n,i,I,r,s,null)}return;case"dialog":we("beforetoggle",n),we("toggle",n),we("cancel",n),we("close",n);break;case"iframe":case"object":we("load",n);break;case"video":case"audio":for(r=0;r<rs.length;r++)we(rs[r],n);break;case"image":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"embed":case"source":case"link":we("error",n),we("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(r=s[$],r!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Ve(n,i,$,r,s,null)}return;default:if(nu(i)){for(se in s)s.hasOwnProperty(se)&&(r=s[se],r!==void 0&&Bc(n,i,se,r,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(r=s[C],r!=null&&Ve(n,i,C,r,s,null))}function SE(n,i,s,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,E=null,C=null,I=null,$=null,se=null;for(ee in s){var ue=s[ee];if(s.hasOwnProperty(ee)&&ue!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":I=ue;default:r.hasOwnProperty(ee)||Ve(n,i,ee,null,r,ue)}}for(var Q in r){var ee=r[Q];if(ue=s[Q],r.hasOwnProperty(Q)&&(ee!=null||ue!=null))switch(Q){case"type":v=ee;break;case"name":m=ee;break;case"checked":$=ee;break;case"defaultChecked":se=ee;break;case"value":E=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(l(137,i));break;default:ee!==ue&&Ve(n,i,Q,ee,r,ue)}}eu(n,E,C,I,$,se,v,m);return;case"select":ee=E=C=Q=null;for(v in s)if(I=s[v],s.hasOwnProperty(v)&&I!=null)switch(v){case"value":break;case"multiple":ee=I;default:r.hasOwnProperty(v)||Ve(n,i,v,null,r,I)}for(m in r)if(v=r[m],I=s[m],r.hasOwnProperty(m)&&(v!=null||I!=null))switch(m){case"value":Q=v;break;case"defaultValue":C=v;break;case"multiple":E=v;default:v!==I&&Ve(n,i,m,v,r,I)}i=C,s=E,r=ee,Q!=null?Co(n,!!s,Q,!1):!!r!=!!s&&(i!=null?Co(n,!!s,i,!0):Co(n,!!s,s?[]:"",!1));return;case"textarea":ee=Q=null;for(C in s)if(m=s[C],s.hasOwnProperty(C)&&m!=null&&!r.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ve(n,i,C,null,r,m)}for(E in r)if(m=r[E],v=s[E],r.hasOwnProperty(E)&&(m!=null||v!=null))switch(E){case"value":Q=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(l(91));break;default:m!==v&&Ve(n,i,E,m,r,v)}Rd(n,Q,ee);return;case"option":for(var pe in s)if(Q=s[pe],s.hasOwnProperty(pe)&&Q!=null&&!r.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Ve(n,i,pe,null,r,Q)}for(I in r)if(Q=r[I],ee=s[I],r.hasOwnProperty(I)&&Q!==ee&&(Q!=null||ee!=null))switch(I){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Ve(n,i,I,Q,r,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)Q=s[_e],s.hasOwnProperty(_e)&&Q!=null&&!r.hasOwnProperty(_e)&&Ve(n,i,_e,null,r,Q);for($ in r)if(Q=r[$],ee=s[$],r.hasOwnProperty($)&&Q!==ee&&(Q!=null||ee!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,i));break;default:Ve(n,i,$,Q,r,ee)}return;default:if(nu(i)){for(var Pe in s)Q=s[Pe],s.hasOwnProperty(Pe)&&Q!==void 0&&!r.hasOwnProperty(Pe)&&Bc(n,i,Pe,void 0,r,Q);for(se in r)Q=r[se],ee=s[se],!r.hasOwnProperty(se)||Q===ee||Q===void 0&&ee===void 0||Bc(n,i,se,Q,r,ee);return}}for(var P in s)Q=s[P],s.hasOwnProperty(P)&&Q!=null&&!r.hasOwnProperty(P)&&Ve(n,i,P,null,r,Q);for(ue in r)Q=r[ue],ee=s[ue],!r.hasOwnProperty(ue)||Q===ee||Q==null&&ee==null||Ve(n,i,ue,Q,r,ee)}function Um(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var m=s[r],v=m.transferSize,E=m.initiatorType,C=m.duration;if(v&&C&&Um(E)){for(E=0,C=m.responseEnd,r+=1;r<s.length;r++){var I=s[r],$=I.startTime;if($>C)break;var se=I.transferSize,ue=I.initiatorType;se&&Um(ue)&&(I=I.responseEnd,E+=se*(I<C?1:(C-$)/(I-$)))}if(--r,i+=8*(v+E)/(m.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Fc=null,Oc=null;function Za(n){return n.nodeType===9?n:n.ownerDocument}function zm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Yc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jc=null;function TE(){var n=window.event;return n&&n.type==="popstate"?n===Jc?!1:(Jc=n,!0):(Jc=null,!1)}var Hm=typeof setTimeout=="function"?setTimeout:void 0,CE=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(n){return km.resolve(null).then(n).catch(AE)}:Hm;function AE(n){setTimeout(function(){throw n})}function Ui(n){return n==="head"}function qm(n,i){var s=i,r=0;do{var m=s.nextSibling;if(n.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"||s==="/&"){if(r===0){n.removeChild(m),tl(i);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")cs(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,cs(s);for(var v=s.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Zi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}else s==="body"&&cs(n.ownerDocument.body);s=m}while(s);tl(i)}function Gm(n,i){var s=n;n=0;do{var r=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=r}while(s)}function Xc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Xc(s),Ml(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function NE(n,i,s,r){for(;n.nodeType===1;){var m=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[Zi])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(v=n.getAttribute("rel"),v==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(v!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(v=n.getAttribute("src"),(v!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===v)return n}else return n;if(n=sn(n.nextSibling),n===null)break}return null}function wE(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=sn(n.nextSibling),n===null))return null;return n}function Vm(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=sn(n.nextSibling),n===null))return null;return n}function $c(n){return n.data==="$?"||n.data==="$~"}function Kc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ME(n,i){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||s.readyState!=="loading")i();else{var r=function(){i(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function sn(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Zc=null;function Pm(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(i===0)return sn(n.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}n=n.nextSibling}return null}function Bm(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return n;i--}else s!=="/$"&&s!=="/&"||i++}n=n.previousSibling}return null}function Fm(n,i,s){switch(i=Za(s),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function cs(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ml(n)}var an=new Map,Om=new Set;function Qa(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var jn=V.d;V.d={f:RE,r:bE,D:IE,C:DE,L:UE,m:zE,X:HE,S:LE,M:kE};function RE(){var n=jn.f(),i=Ba();return n||i}function bE(n){var i=Un(n);i!==null&&i.tag===5&&i.type==="form"?ah(i):jn.r(n)}var Wo=typeof document>"u"?null:document;function Ym(n,i,s){var r=Wo;if(r&&typeof i=="string"&&i){var m=Wt(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof s=="string"&&(m+='[crossorigin="'+s+'"]'),Om.has(m)||(Om.add(m),n={rel:n,crossOrigin:s,href:i},r.querySelector(m)===null&&(i=r.createElement("link"),Et(i,"link",n),st(i),r.head.appendChild(i)))}}function IE(n){jn.D(n),Ym("dns-prefetch",n,null)}function DE(n,i){jn.C(n,i),Ym("preconnect",n,i)}function UE(n,i,s){jn.L(n,i,s);var r=Wo;if(r&&n&&i){var m='link[rel="preload"][as="'+Wt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(m+='[imagesrcset="'+Wt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(m+='[imagesizes="'+Wt(s.imageSizes)+'"]')):m+='[href="'+Wt(n)+'"]';var v=m;switch(i){case"style":v=jo(n);break;case"script":v=el(n)}an.has(v)||(n=_({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),an.set(v,n),r.querySelector(m)!==null||i==="style"&&r.querySelector(fs(v))||i==="script"&&r.querySelector(ds(v))||(i=r.createElement("link"),Et(i,"link",n),st(i),r.head.appendChild(i)))}}function zE(n,i){jn.m(n,i);var s=Wo;if(s&&n){var r=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Wt(r)+'"][href="'+Wt(n)+'"]',v=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=el(n)}if(!an.has(v)&&(n=_({rel:"modulepreload",href:n},i),an.set(v,n),s.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ds(v)))return}r=s.createElement("link"),Et(r,"link",n),st(r),s.head.appendChild(r)}}}function LE(n,i,s){jn.S(n,i,s);var r=Wo;if(r&&n){var m=mi(r).hoistableStyles,v=jo(n);i=i||"default";var E=m.get(v);if(!E){var C={loading:0,preload:null};if(E=r.querySelector(fs(v)))C.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},s),(s=an.get(v))&&Qc(n,s);var I=E=r.createElement("link");st(I),Et(I,"link",n),I._p=new Promise(function($,se){I.onload=$,I.onerror=se}),I.addEventListener("load",function(){C.loading|=1}),I.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Wa(E,i,r)}E={type:"stylesheet",instance:E,count:1,state:C},m.set(v,E)}}}function HE(n,i){jn.X(n,i);var s=Wo;if(s&&n){var r=mi(s).hoistableScripts,m=el(n),v=r.get(m);v||(v=s.querySelector(ds(m)),v||(n=_({src:n,async:!0},i),(i=an.get(m))&&Wc(n,i),v=s.createElement("script"),st(v),Et(v,"link",n),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},r.set(m,v))}}function kE(n,i){jn.M(n,i);var s=Wo;if(s&&n){var r=mi(s).hoistableScripts,m=el(n),v=r.get(m);v||(v=s.querySelector(ds(m)),v||(n=_({src:n,async:!0,type:"module"},i),(i=an.get(m))&&Wc(n,i),v=s.createElement("script"),st(v),Et(v,"link",n),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},r.set(m,v))}}function Jm(n,i,s,r){var m=(m=de.current)?Qa(m):null;if(!m)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=jo(s.href),s=mi(m).hoistableStyles,r=s.get(i),r||(r={type:"style",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=jo(s.href);var v=mi(m).hoistableStyles,E=v.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(n,E),(v=m.querySelector(fs(n)))&&!v._p&&(E.instance=v,E.state.loading=5),an.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},an.set(n,s),v||qE(m,n,s,E.state))),i&&r===null)throw Error(l(528,""));return E}if(i&&r!==null)throw Error(l(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=el(s),s=mi(m).hoistableScripts,r=s.get(i),r||(r={type:"script",instance:null,count:0,state:null},s.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function jo(n){return'href="'+Wt(n)+'"'}function fs(n){return'link[rel="stylesheet"]['+n+"]"}function Xm(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function qE(n,i,s,r){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=n.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),Et(i,"link",s),st(i),n.head.appendChild(i))}function el(n){return'[src="'+Wt(n)+'"]'}function ds(n){return"script[async]"+n}function $m(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var r=n.querySelector('style[data-href~="'+Wt(s.href)+'"]');if(r)return i.instance=r,st(r),r;var m=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),st(r),Et(r,"style",m),Wa(r,s.precedence,n),i.instance=r;case"stylesheet":m=jo(s.href);var v=n.querySelector(fs(m));if(v)return i.state.loading|=4,i.instance=v,st(v),v;r=Xm(s),(m=an.get(m))&&Qc(r,m),v=(n.ownerDocument||n).createElement("link"),st(v);var E=v;return E._p=new Promise(function(C,I){E.onload=C,E.onerror=I}),Et(v,"link",r),i.state.loading|=4,Wa(v,s.precedence,n),i.instance=v;case"script":return v=el(s.src),(m=n.querySelector(ds(v)))?(i.instance=m,st(m),m):(r=s,(m=an.get(v))&&(r=_({},s),Wc(r,m)),n=n.ownerDocument||n,m=n.createElement("script"),st(m),Et(m,"link",r),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Wa(r,s.precedence,n));return i.instance}function Wa(n,i,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,v=m,E=0;E<r.length;E++){var C=r[E];if(C.dataset.precedence===i)v=C;else if(v!==m)break}v?v.parentNode.insertBefore(n,v.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Qc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Wc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ja=null;function Km(n,i,s){if(ja===null){var r=new Map,m=ja=new Map;m.set(s,r)}else m=ja,r=m.get(s),r||(r=new Map,m.set(s,r));if(r.has(n))return r;for(r.set(n,null),s=s.getElementsByTagName(n),m=0;m<s.length;m++){var v=s[m];if(!(v[Zi]||v[ft]||n==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var E=v.getAttribute(i)||"";E=n+E;var C=r.get(E);C?C.push(v):r.set(E,[v])}}return r}function Zm(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function GE(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function VE(n,i,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=jo(r.href),v=i.querySelector(fs(m));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=er.bind(n),i.then(n,n)),s.state.loading|=4,s.instance=v,st(v);return}v=i.ownerDocument||i,r=Xm(r),(m=an.get(m))&&Qc(r,m),v=v.createElement("link"),st(v);var E=v;E._p=new Promise(function(C,I){E.onload=C,E.onerror=I}),Et(v,"link",r),s.instance=v}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=er.bind(n),i.addEventListener("load",s),i.addEventListener("error",s))}}var jc=0;function PE(n,i){return n.stylesheets&&n.count===0&&nr(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var r=setTimeout(function(){if(n.stylesheets&&nr(n,n.stylesheets),n.unsuspend){var v=n.unsuspend;n.unsuspend=null,v()}},6e4+i);0<n.imgBytes&&jc===0&&(jc=62500*EE());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&nr(n,n.stylesheets),n.unsuspend)){var v=n.unsuspend;n.unsuspend=null,v()}},(n.imgBytes>jc?50:800)+i);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(r),clearTimeout(m)}}:null}function er(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nr(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var tr=null;function nr(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,tr=new Map,i.forEach(BE,n),tr=null,er.call(n))}function BE(n,i){if(!(i.state.loading&4)){var s=tr.get(n);if(s)var r=s.get(null);else{s=new Map,tr.set(n,s);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var E=m[v];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),r=E)}r&&s.set(null,r)}m=i.instance,E=m.getAttribute("data-precedence"),v=s.get(E)||r,v===r&&s.set(null,m),s.set(E,m),this.count++,r=er.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),v?v.parentNode.insertBefore(m,v.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var ps={$$typeof:z,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function FE(n,i,s,r,m,v,E,C,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.hiddenUpdates=xl(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Wm(n,i,s,r,m,v,E,C,I,$,se,ue){return n=new FE(n,i,s,E,I,$,se,ue,C),i=1,v===!0&&(i|=24),v=Ft(3,null,null,i),n.current=v,v.stateNode=n,i=Du(),i.refCount++,n.pooledCache=i,i.refCount++,v.memoizedState={element:r,isDehydrated:s,cache:i},Hu(v),n}function jm(n){return n?(n=Io,n):Io}function eg(n,i,s,r,m,v){m=jm(m),r.context===null?r.context=m:r.pendingContext=m,r=Ti(i),r.payload={element:s},v=v===void 0?null:v,v!==null&&(r.callback=v),s=Ci(n,r,i),s!==null&&(qt(s,n,i),Yl(s,n,i))}function tg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function ef(n,i){tg(n,i),(n=n.alternate)&&tg(n,i)}function ng(n){if(n.tag===13||n.tag===31){var i=to(n,67108864);i!==null&&qt(i,n,67108864),ef(n,67108864)}}function ig(n){if(n.tag===13||n.tag===31){var i=$t();i=Al(i);var s=to(n,i);s!==null&&qt(s,n,i),ef(n,i)}}var ir=!0;function OE(n,i,s,r){var m=A.T;A.T=null;var v=V.p;try{V.p=2,tf(n,i,s,r)}finally{V.p=v,A.T=m}}function YE(n,i,s,r){var m=A.T;A.T=null;var v=V.p;try{V.p=8,tf(n,i,s,r)}finally{V.p=v,A.T=m}}function tf(n,i,s,r){if(ir){var m=nf(r);if(m===null)Pc(n,i,r,or,s),lg(n,r);else if(XE(m,n,i,s,r))r.stopPropagation();else if(lg(n,r),i&4&&-1<JE.indexOf(n)){for(;m!==null;){var v=Un(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var E=Mt(v.pendingLanes);if(E!==0){var C=v;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var I=1<<31-Qe(E);C.entanglements[1]|=I,E&=~I}Mn(v),(Le&6)===0&&(Va=Ze()+500,as(0))}}break;case 31:case 13:C=to(v,2),C!==null&&qt(C,v,2),Ba(),ef(v,2)}if(v=nf(r),v===null&&Pc(n,i,r,or,s),v===m)break;m=v}m!==null&&r.stopPropagation()}else Pc(n,i,r,null,s)}}function nf(n){return n=ou(n),of(n)}var or=null;function of(n){if(or=null,n=hi(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=c(i),n!==null)return n;n=null}else if(s===31){if(n=p(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return or=n,null}function og(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ui()){case En:return 2;case Tn:return 8;case dn:case ci:return 32;case fi:return 268435456;default:return 32}default:return 32}}var lf=!1,zi=null,Li=null,Hi=null,hs=new Map,ms=new Map,ki=[],JE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lg(n,i){switch(n){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Li=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":hs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(i.pointerId)}}function gs(n,i,s,r,m,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:s,eventSystemFlags:r,nativeEvent:v,targetContainers:[m]},i!==null&&(i=Un(i),i!==null&&ng(i)),n):(n.eventSystemFlags|=r,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function XE(n,i,s,r,m){switch(i){case"focusin":return zi=gs(zi,n,i,s,r,m),!0;case"dragenter":return Li=gs(Li,n,i,s,r,m),!0;case"mouseover":return Hi=gs(Hi,n,i,s,r,m),!0;case"pointerover":var v=m.pointerId;return hs.set(v,gs(hs.get(v)||null,n,i,s,r,m)),!0;case"gotpointercapture":return v=m.pointerId,ms.set(v,gs(ms.get(v)||null,n,i,s,r,m)),!0}return!1}function sg(n){var i=hi(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){n.blockedOn=i,Js(n.priority,function(){ig(s)});return}}else if(i===31){if(i=p(s),i!==null){n.blockedOn=i,Js(n.priority,function(){ig(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=nf(n.nativeEvent);if(s===null){s=n.nativeEvent;var r=new s.constructor(s.type,s);iu=r,s.target.dispatchEvent(r),iu=null}else return i=Un(s),i!==null&&ng(i),n.blockedOn=s,!1;i.shift()}return!0}function ag(n,i,s){lr(n)&&s.delete(i)}function $E(){lf=!1,zi!==null&&lr(zi)&&(zi=null),Li!==null&&lr(Li)&&(Li=null),Hi!==null&&lr(Hi)&&(Hi=null),hs.forEach(ag),ms.forEach(ag)}function sr(n,i){n.blockedOn===i&&(n.blockedOn=null,lf||(lf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$E)))}var ar=null;function rg(n){ar!==n&&(ar=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ar===n&&(ar=null);for(var i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],m=n[i+2];if(typeof r!="function"){if(of(r||s)===null)continue;break}var v=Un(s);v!==null&&(n.splice(i,3),i-=3,nc(v,{pending:!0,data:m,method:s.method,action:r},r,m))}}))}function tl(n){function i(I){return sr(I,n)}zi!==null&&sr(zi,n),Li!==null&&sr(Li,n),Hi!==null&&sr(Hi,n),hs.forEach(i),ms.forEach(i);for(var s=0;s<ki.length;s++){var r=ki[s];r.blockedOn===n&&(r.blockedOn=null)}for(;0<ki.length&&(s=ki[0],s.blockedOn===null);)sg(s),s.blockedOn===null&&ki.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var m=s[r],v=s[r+1],E=m[yt]||null;if(typeof v=="function")E||rg(s);else if(E){var C=null;if(v&&v.hasAttribute("formAction")){if(m=v,E=v[yt]||null)C=E.formAction;else if(of(m)!==null)continue}else C=E.action;typeof C=="function"?s[r+1]=C:(s.splice(r,3),r-=3),rg(s)}}}function ug(){function n(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function sf(n){this._internalRoot=n}rr.prototype.render=sf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var s=i.current,r=$t();eg(s,r,n,i,null,null)},rr.prototype.unmount=sf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;eg(n.current,2,null,n,null,null),Ba(),i[pi]=null}};function rr(n){this._internalRoot=n}rr.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ys();n={blockedOn:null,target:n,priority:i};for(var s=0;s<ki.length&&i!==0&&i<ki[s].priority;s++);ki.splice(s,0,n),s===0&&sg(n)}};var cg=t.version;if(cg!=="19.2.0")throw Error(l(527,cg,"19.2.0"));V.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=h(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var KE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ur.isDisabled&&ur.supportsFiber)try{Pt=ur.inject(KE),nt=ur}catch{}}return vs.createRoot=function(n,i){if(!a(n))throw Error(l(299));var s=!1,r="",m=yh,v=vh,E=_h;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError)),i=Wm(n,1,!1,null,null,s,r,null,m,v,E,ug),n[pi]=i.current,Vc(n),new sf(i)},vs.hydrateRoot=function(n,i,s){if(!a(n))throw Error(l(299));var r=!1,m="",v=yh,E=vh,C=_h,I=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),i=Wm(n,1,!0,i,s??null,r,m,I,v,E,C,ug),i.context=jm(null),s=i.current,r=$t(),r=Al(r),m=Ti(r),m.callback=null,Ci(s,m,r),s=r,i.current.lanes=s,Ki(i,s),Mn(i),n[pi]=i.current,Vc(n),new rr(i)},vs.version="19.2.0",vs}var Sg;function oT(){if(Sg)return uf.exports;Sg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),uf.exports=iT(),uf.exports}var lT=oT();const sT=Wf(lT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,l)=>l?l.toUpperCase():o.toLowerCase()),Eg=e=>{const t=rT(e);return t.charAt(0).toUpperCase()+t.slice(1)},O0=(...e)=>e.filter((t,o,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===o).join(" ").trim(),uT=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=X.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:a="",children:u,iconNode:c,...p},g)=>X.createElement("svg",{ref:g,...cT,width:t,height:t,stroke:e,strokeWidth:l?Number(o)*24/Number(t):o,className:O0("lucide",a),...!u&&!uT(p)&&{"aria-hidden":"true"},...p},[...c.map(([h,y])=>X.createElement(h,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const o=X.forwardRef(({className:l,...a},u)=>X.createElement(fT,{ref:u,iconNode:t,className:O0(`lucide-${aT(Eg(e))}`,`lucide-${e}`,l),...a}));return o.displayName=Eg(e),o};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Tg=qe("arrow-right",dT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],hT=qe("bot",pT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],gT=qe("box",mT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],vT=qe("brain-circuit",yT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ST=qe("check",_T);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pf=qe("chevron-right",ET);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CT=qe("circle-alert",TT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AT=qe("circle-check-big",xT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],wT=qe("database",NT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RT=qe("file-text",MT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],IT=qe("globe",bT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],UT=qe("key",DT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],LT=qe("layers",zT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],kT=qe("lightbulb",HT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GT=qe("loader-circle",qT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],PT=qe("maximize-2",VT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],FT=qe("minimize-2",BT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],YT=qe("mouse-pointer-2",OT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Cg=qe("panels-top-left",JT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$T=qe("pen",XT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ZT=qe("plus",KT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WT=qe("rotate-ccw",QT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Y0=qe("save",jT);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],J0=qe("sparkles",eC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],nC=qe("target",tC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],oC=qe("terminal",iC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],X0=qe("trash-2",lC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],aC=qe("wand-sparkles",sC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uC=qe("x",rC);var rn=(e=>(e.GEMINI_FLASH="gemini-2.5-flash",e.GEMINI_3_PRO="gemini-3-pro-preview",e.GPT_4O="gpt-4o",e.GPT_35_TURBO="gpt-3.5-turbo",e))(rn||{});const cC=({onComplete:e})=>{const[t,o]=X.useState(""),[l,a]=X.useState("gemini"),[u,c]=X.useState(rn.GEMINI_FLASH),[p,g]=X.useState(""),[h,y]=X.useState(!1);X.useEffect(()=>{},[]);const _=T=>{a(T),y(!1),c(T==="gemini"?rn.GEMINI_FLASH:rn.GPT_4O)},S=T=>{T.preventDefault();const w=h?p:u;t.trim().length>0&&w.trim().length>0&&e(t,w,l)};return b.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 border border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6 text-indigo-600",children:[b.jsx(UT,{className:"w-8 h-8"}),b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"API Setup"})]}),b.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed",children:"Select your AI provider and enter your API key to start architecting."}),b.jsxs("form",{onSubmit:S,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Provider"}),b.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-lg",children:[b.jsxs("button",{type:"button",onClick:()=>_("gemini"),className:`flex-1 py-2 rounded-md text-sm font-medium transition-all flex items-center justify-center gap-2
                  ${l==="gemini"?"bg-white shadow text-indigo-600":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(hT,{size:16})," Google Gemini"]}),b.jsxs("button",{type:"button",onClick:()=>_("openai"),className:`flex-1 py-2 rounded-md text-sm font-medium transition-all flex items-center justify-center gap-2
                  ${l==="openai"?"bg-white shadow text-emerald-600":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(IT,{size:16})," OpenAI"]})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:l==="gemini"?"Gemini API Key":"OpenAI API Key"}),b.jsx("input",{type:"password",value:t,onChange:T=>o(T.target.value),placeholder:l==="gemini"?"AIzaSy...":"sk-...",className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Model"}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("select",{value:h?"custom":u,onChange:T=>{T.target.value==="custom"?y(!0):(y(!1),c(T.target.value))},className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 outline-none bg-white",children:[l==="gemini"?b.jsxs(b.Fragment,{children:[b.jsx("option",{value:rn.GEMINI_FLASH,children:"Gemini 2.5 Flash (Fastest)"}),b.jsx("option",{value:rn.GEMINI_3_PRO,children:"Gemini 3.0 Pro (Best Quality)"})]}):b.jsxs(b.Fragment,{children:[b.jsx("option",{value:rn.GPT_4O,children:"GPT-4o (Best)"}),b.jsx("option",{value:rn.GPT_35_TURBO,children:"GPT-3.5 Turbo (Fast)"})]}),b.jsx("option",{value:"custom",children:"Custom (Enter Name)..."})]}),h&&b.jsx("input",{type:"text",value:p,onChange:T=>g(T.target.value),placeholder:"e.g. gpt-4-turbo-preview or gemini-1.5-pro",className:"w-full px-4 py-2 text-sm rounded-lg border border-indigo-200 bg-indigo-50 focus:border-indigo-500 outline-none",required:!0})]})]}),b.jsxs("button",{type:"submit",disabled:!t||h&&!p,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed text-white font-bold py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[t?b.jsx(AT,{className:"w-5 h-5"}):b.jsx(CT,{className:"w-5 h-5"}),"Start Architecting"]})]})]})})},fC=({feature:e,onToggle:t,onDelete:o,onEdit:l,custom:a})=>{const[u,c]=X.useState(!1),[p,g]=X.useState(e.title),[h,y]=X.useState(e.description),_=T=>{T.stopPropagation(),l&&l(e.id,p,h),c(!1)},S=T=>{T.stopPropagation(),g(e.title),y(e.description),c(!1)};return u?b.jsxs("div",{className:"relative p-4 rounded-xl border-2 border-indigo-400 bg-white shadow-lg z-10",children:[b.jsxs("div",{className:"mb-2",children:[b.jsx("input",{type:"text",value:p,onChange:T=>g(T.target.value),className:"w-full font-bold text-slate-800 border-b border-indigo-200 focus:border-indigo-500 outline-none pb-1 mb-2",autoFocus:!0,onClick:T=>T.stopPropagation()}),b.jsx("textarea",{value:h,onChange:T=>y(T.target.value),className:"w-full text-sm text-slate-600 leading-relaxed border border-slate-200 rounded p-2 focus:border-indigo-500 outline-none resize-none h-24",onClick:T=>T.stopPropagation()})]}),b.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[b.jsx("button",{onClick:S,className:"p-1.5 text-slate-500 hover:bg-slate-100 rounded-full transition-colors",title:"Cancel",children:b.jsx(uC,{size:16})}),b.jsx("button",{onClick:_,className:"p-1.5 text-green-600 hover:bg-green-50 rounded-full transition-colors",title:"Save",children:b.jsx(Y0,{size:16})})]})]}):b.jsxs("div",{onClick:()=>t(e.id),className:`
        relative group cursor-pointer p-5 rounded-xl border-2 transition-all duration-200
        ${e.selected?"border-indigo-500 bg-indigo-50/50 shadow-md":"border-slate-200 bg-white hover:border-indigo-300 hover:shadow-sm"}
      `,children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsx("h3",{className:`font-bold ${e.selected?"text-indigo-900":"text-slate-800"}`,children:e.title}),b.jsx("div",{className:`
          w-6 h-6 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ml-2
          ${e.selected?"bg-indigo-500 text-white":"bg-slate-100 text-slate-300"}
        `,children:b.jsx(ST,{size:14,strokeWidth:3})})]}),b.jsx("p",{className:"text-sm text-slate-600 leading-relaxed pr-6",children:e.description}),b.jsxs("div",{className:"absolute bottom-3 right-3 flex gap-1 opacity-0 group-hover:opacity-100 transition-all",children:[l&&b.jsx("button",{onClick:T=>{T.stopPropagation(),c(!0)},className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-all",title:"Edit Feature",children:b.jsx($T,{size:16})}),a&&o&&b.jsx("button",{onClick:T=>{T.stopPropagation(),o(e.id)},className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-all",title:"Delete Feature",children:b.jsx(X0,{size:16})})]})]})};function bt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let o=0,l;o<e.length;o++)(l=bt(e[o]))!==""&&(t+=(t&&" ")+l);else for(let o in e)e[o]&&(t+=(t&&" ")+o);return t}var hf={exports:{}},mf={},gf={exports:{}},yf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function dC(){if(xg)return yf;xg=1;var e=ks();function t(_,S){return _===S&&(_!==0||1/_===1/S)||_!==_&&S!==S}var o=typeof Object.is=="function"?Object.is:t,l=e.useState,a=e.useEffect,u=e.useLayoutEffect,c=e.useDebugValue;function p(_,S){var T=S(),w=l({inst:{value:T,getSnapshot:S}}),N=w[0].inst,D=w[1];return u(function(){N.value=T,N.getSnapshot=S,g(N)&&D({inst:N})},[_,T,S]),a(function(){return g(N)&&D({inst:N}),_(function(){g(N)&&D({inst:N})})},[_]),c(T),T}function g(_){var S=_.getSnapshot;_=_.value;try{var T=S();return!o(_,T)}catch{return!0}}function h(_,S){return S()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:p;return yf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,yf}var Ag;function pC(){return Ag||(Ag=1,gf.exports=dC()),gf.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function hC(){if(Ng)return mf;Ng=1;var e=ks(),t=pC();function o(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var l=typeof Object.is=="function"?Object.is:o,a=t.useSyncExternalStore,u=e.useRef,c=e.useEffect,p=e.useMemo,g=e.useDebugValue;return mf.useSyncExternalStoreWithSelector=function(h,y,_,S,T){var w=u(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=p(function(){function R(Y){if(!L){if(L=!0,z=Y,Y=S(Y),T!==void 0&&N.hasValue){var F=N.value;if(T(F,Y))return U=F}return U=Y}if(F=U,l(z,Y))return F;var ie=S(Y);return T!==void 0&&T(F,ie)?(z=Y,F):(z=Y,U=ie)}var L=!1,z,U,O=_===void 0?null:_;return[function(){return R(y())},O===null?void 0:function(){return R(O())}]},[y,_,S,T]);var D=a(h,w[0],w[1]);return c(function(){N.hasValue=!0,N.value=D},[D]),g(D),D},mf}var wg;function mC(){return wg||(wg=1,hf.exports=hC()),hf.exports}var gC=mC();const yC=Wf(gC),vC={},Mg=e=>{let t;const o=new Set,l=(y,_)=>{const S=typeof y=="function"?y(t):y;if(!Object.is(S,t)){const T=t;t=_??(typeof S!="object"||S===null)?S:Object.assign({},t,S),o.forEach(w=>w(t,T))}},a=()=>t,g={setState:l,getState:a,getInitialState:()=>h,subscribe:y=>(o.add(y),()=>o.delete(y)),destroy:()=>{(vC?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},h=t=e(l,a,g);return g},_C=e=>e?Mg(e):Mg,{useDebugValue:SC}=ae,{useSyncExternalStoreWithSelector:EC}=yC,TC=e=>e;function $0(e,t=TC,o){const l=EC(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,o);return SC(l),l}const Rg=(e,t)=>{const o=_C(e),l=(a,u=t)=>$0(o,a,u);return Object.assign(l,o),l},CC=(e,t)=>e?Rg(e,t):Rg;function wt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[l,a]of e)if(!Object.is(a,t.get(l)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const l of e)if(!t.has(l))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;for(const l of o)if(!Object.prototype.hasOwnProperty.call(t,l)||!Object.is(e[l],t[l]))return!1;return!0}var xC={value:()=>{}};function qr(){for(var e=0,t=arguments.length,o={},l;e<t;++e){if(!(l=arguments[e]+"")||l in o||/[\s.]/.test(l))throw new Error("illegal type: "+l);o[l]=[]}return new Sr(o)}function Sr(e){this._=e}function AC(e,t){return e.trim().split(/^|\s+/).map(function(o){var l="",a=o.indexOf(".");if(a>=0&&(l=o.slice(a+1),o=o.slice(0,a)),o&&!t.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:l}})}Sr.prototype=qr.prototype={constructor:Sr,on:function(e,t){var o=this._,l=AC(e+"",o),a,u=-1,c=l.length;if(arguments.length<2){for(;++u<c;)if((a=(e=l[u]).type)&&(a=NC(o[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<c;)if(a=(e=l[u]).type)o[a]=bg(o[a],e.name,t);else if(t==null)for(a in o)o[a]=bg(o[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var o in t)e[o]=t[o].slice();return new Sr(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var o=new Array(a),l=0,a,u;l<a;++l)o[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],l=0,a=u.length;l<a;++l)u[l].value.apply(t,o)},apply:function(e,t,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],a=0,u=l.length;a<u;++a)l[a].value.apply(t,o)}};function NC(e,t){for(var o=0,l=e.length,a;o<l;++o)if((a=e[o]).name===t)return a.value}function bg(e,t,o){for(var l=0,a=e.length;l<a;++l)if(e[l].name===t){e[l]=xC,e=e.slice(0,l).concat(e.slice(l+1));break}return o!=null&&e.push({name:t,value:o}),e}var wf="http://www.w3.org/1999/xhtml";const Ig={svg:"http://www.w3.org/2000/svg",xhtml:wf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gr(e){var t=e+="",o=t.indexOf(":");return o>=0&&(t=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),Ig.hasOwnProperty(t)?{space:Ig[t],local:e}:e}function wC(e){return function(){var t=this.ownerDocument,o=this.namespaceURI;return o===wf&&t.documentElement.namespaceURI===wf?t.createElement(e):t.createElementNS(o,e)}}function MC(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function K0(e){var t=Gr(e);return(t.local?MC:wC)(t)}function RC(){}function jf(e){return e==null?RC:function(){return this.querySelector(e)}}function bC(e){typeof e!="function"&&(e=jf(e));for(var t=this._groups,o=t.length,l=new Array(o),a=0;a<o;++a)for(var u=t[a],c=u.length,p=l[a]=new Array(c),g,h,y=0;y<c;++y)(g=u[y])&&(h=e.call(g,g.__data__,y,u))&&("__data__"in g&&(h.__data__=g.__data__),p[y]=h);return new Kt(l,this._parents)}function IC(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function DC(){return[]}function Z0(e){return e==null?DC:function(){return this.querySelectorAll(e)}}function UC(e){return function(){return IC(e.apply(this,arguments))}}function zC(e){typeof e=="function"?e=UC(e):e=Z0(e);for(var t=this._groups,o=t.length,l=[],a=[],u=0;u<o;++u)for(var c=t[u],p=c.length,g,h=0;h<p;++h)(g=c[h])&&(l.push(e.call(g,g.__data__,h,c)),a.push(g));return new Kt(l,a)}function Q0(e){return function(){return this.matches(e)}}function W0(e){return function(t){return t.matches(e)}}var LC=Array.prototype.find;function HC(e){return function(){return LC.call(this.children,e)}}function kC(){return this.firstElementChild}function qC(e){return this.select(e==null?kC:HC(typeof e=="function"?e:W0(e)))}var GC=Array.prototype.filter;function VC(){return Array.from(this.children)}function PC(e){return function(){return GC.call(this.children,e)}}function BC(e){return this.selectAll(e==null?VC:PC(typeof e=="function"?e:W0(e)))}function FC(e){typeof e!="function"&&(e=Q0(e));for(var t=this._groups,o=t.length,l=new Array(o),a=0;a<o;++a)for(var u=t[a],c=u.length,p=l[a]=[],g,h=0;h<c;++h)(g=u[h])&&e.call(g,g.__data__,h,u)&&p.push(g);return new Kt(l,this._parents)}function j0(e){return new Array(e.length)}function OC(){return new Kt(this._enter||this._groups.map(j0),this._parents)}function Nr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Nr.prototype={constructor:Nr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function YC(e){return function(){return e}}function JC(e,t,o,l,a,u){for(var c=0,p,g=t.length,h=u.length;c<h;++c)(p=t[c])?(p.__data__=u[c],l[c]=p):o[c]=new Nr(e,u[c]);for(;c<g;++c)(p=t[c])&&(a[c]=p)}function XC(e,t,o,l,a,u,c){var p,g,h=new Map,y=t.length,_=u.length,S=new Array(y),T;for(p=0;p<y;++p)(g=t[p])&&(S[p]=T=c.call(g,g.__data__,p,t)+"",h.has(T)?a[p]=g:h.set(T,g));for(p=0;p<_;++p)T=c.call(e,u[p],p,u)+"",(g=h.get(T))?(l[p]=g,g.__data__=u[p],h.delete(T)):o[p]=new Nr(e,u[p]);for(p=0;p<y;++p)(g=t[p])&&h.get(S[p])===g&&(a[p]=g)}function $C(e){return e.__data__}function KC(e,t){if(!arguments.length)return Array.from(this,$C);var o=t?XC:JC,l=this._parents,a=this._groups;typeof e!="function"&&(e=YC(e));for(var u=a.length,c=new Array(u),p=new Array(u),g=new Array(u),h=0;h<u;++h){var y=l[h],_=a[h],S=_.length,T=ZC(e.call(y,y&&y.__data__,h,l)),w=T.length,N=p[h]=new Array(w),D=c[h]=new Array(w),R=g[h]=new Array(S);o(y,_,N,D,R,T,t);for(var L=0,z=0,U,O;L<w;++L)if(U=N[L]){for(L>=z&&(z=L+1);!(O=D[z])&&++z<w;);U._next=O||null}}return c=new Kt(c,l),c._enter=p,c._exit=g,c}function ZC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QC(){return new Kt(this._exit||this._groups.map(j0),this._parents)}function WC(e,t,o){var l=this.enter(),a=this,u=this.exit();return typeof e=="function"?(l=e(l),l&&(l=l.selection())):l=l.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),o==null?u.remove():o(u),l&&a?l.merge(a).order():a}function jC(e){for(var t=e.selection?e.selection():e,o=this._groups,l=t._groups,a=o.length,u=l.length,c=Math.min(a,u),p=new Array(a),g=0;g<c;++g)for(var h=o[g],y=l[g],_=h.length,S=p[g]=new Array(_),T,w=0;w<_;++w)(T=h[w]||y[w])&&(S[w]=T);for(;g<a;++g)p[g]=o[g];return new Kt(p,this._parents)}function ex(){for(var e=this._groups,t=-1,o=e.length;++t<o;)for(var l=e[t],a=l.length-1,u=l[a],c;--a>=0;)(c=l[a])&&(u&&c.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(c,u),u=c);return this}function tx(e){e||(e=nx);function t(_,S){return _&&S?e(_.__data__,S.__data__):!_-!S}for(var o=this._groups,l=o.length,a=new Array(l),u=0;u<l;++u){for(var c=o[u],p=c.length,g=a[u]=new Array(p),h,y=0;y<p;++y)(h=c[y])&&(g[y]=h);g.sort(t)}return new Kt(a,this._parents).order()}function nx(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ix(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ox(){return Array.from(this)}function lx(){for(var e=this._groups,t=0,o=e.length;t<o;++t)for(var l=e[t],a=0,u=l.length;a<u;++a){var c=l[a];if(c)return c}return null}function sx(){let e=0;for(const t of this)++e;return e}function ax(){return!this.node()}function rx(e){for(var t=this._groups,o=0,l=t.length;o<l;++o)for(var a=t[o],u=0,c=a.length,p;u<c;++u)(p=a[u])&&e.call(p,p.__data__,u,a);return this}function ux(e){return function(){this.removeAttribute(e)}}function cx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fx(e,t){return function(){this.setAttribute(e,t)}}function dx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function px(e,t){return function(){var o=t.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function hx(e,t){return function(){var o=t.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function mx(e,t){var o=Gr(e);if(arguments.length<2){var l=this.node();return o.local?l.getAttributeNS(o.space,o.local):l.getAttribute(o)}return this.each((t==null?o.local?cx:ux:typeof t=="function"?o.local?hx:px:o.local?dx:fx)(o,t))}function ev(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function gx(e){return function(){this.style.removeProperty(e)}}function yx(e,t,o){return function(){this.style.setProperty(e,t,o)}}function vx(e,t,o){return function(){var l=t.apply(this,arguments);l==null?this.style.removeProperty(e):this.style.setProperty(e,l,o)}}function _x(e,t,o){return arguments.length>1?this.each((t==null?gx:typeof t=="function"?vx:yx)(e,t,o??"")):ml(this.node(),e)}function ml(e,t){return e.style.getPropertyValue(t)||ev(e).getComputedStyle(e,null).getPropertyValue(t)}function Sx(e){return function(){delete this[e]}}function Ex(e,t){return function(){this[e]=t}}function Tx(e,t){return function(){var o=t.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function Cx(e,t){return arguments.length>1?this.each((t==null?Sx:typeof t=="function"?Tx:Ex)(e,t)):this.node()[e]}function tv(e){return e.trim().split(/^|\s+/)}function ed(e){return e.classList||new nv(e)}function nv(e){this._node=e,this._names=tv(e.getAttribute("class")||"")}nv.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function iv(e,t){for(var o=ed(e),l=-1,a=t.length;++l<a;)o.add(t[l])}function ov(e,t){for(var o=ed(e),l=-1,a=t.length;++l<a;)o.remove(t[l])}function xx(e){return function(){iv(this,e)}}function Ax(e){return function(){ov(this,e)}}function Nx(e,t){return function(){(t.apply(this,arguments)?iv:ov)(this,e)}}function wx(e,t){var o=tv(e+"");if(arguments.length<2){for(var l=ed(this.node()),a=-1,u=o.length;++a<u;)if(!l.contains(o[a]))return!1;return!0}return this.each((typeof t=="function"?Nx:t?xx:Ax)(o,t))}function Mx(){this.textContent=""}function Rx(e){return function(){this.textContent=e}}function bx(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ix(e){return arguments.length?this.each(e==null?Mx:(typeof e=="function"?bx:Rx)(e)):this.node().textContent}function Dx(){this.innerHTML=""}function Ux(e){return function(){this.innerHTML=e}}function zx(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Lx(e){return arguments.length?this.each(e==null?Dx:(typeof e=="function"?zx:Ux)(e)):this.node().innerHTML}function Hx(){this.nextSibling&&this.parentNode.appendChild(this)}function kx(){return this.each(Hx)}function qx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gx(){return this.each(qx)}function Vx(e){var t=typeof e=="function"?e:K0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Px(){return null}function Bx(e,t){var o=typeof e=="function"?e:K0(e),l=t==null?Px:typeof t=="function"?t:jf(t);return this.select(function(){return this.insertBefore(o.apply(this,arguments),l.apply(this,arguments)||null)})}function Fx(){var e=this.parentNode;e&&e.removeChild(this)}function Ox(){return this.each(Fx)}function Yx(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jx(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xx(e){return this.select(e?Jx:Yx)}function $x(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Kx(e){return function(t){e.call(this,t,this.__data__)}}function Zx(e){return e.trim().split(/^|\s+/).map(function(t){var o="",l=t.indexOf(".");return l>=0&&(o=t.slice(l+1),t=t.slice(0,l)),{type:t,name:o}})}function Qx(e){return function(){var t=this.__on;if(t){for(var o=0,l=-1,a=t.length,u;o<a;++o)u=t[o],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++l]=u;++l?t.length=l:delete this.__on}}}function Wx(e,t,o){return function(){var l=this.__on,a,u=Kx(t);if(l){for(var c=0,p=l.length;c<p;++c)if((a=l[c]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=o),a.value=t;return}}this.addEventListener(e.type,u,o),a={type:e.type,name:e.name,value:t,listener:u,options:o},l?l.push(a):this.__on=[a]}}function jx(e,t,o){var l=Zx(e+""),a,u=l.length,c;if(arguments.length<2){var p=this.node().__on;if(p){for(var g=0,h=p.length,y;g<h;++g)for(a=0,y=p[g];a<u;++a)if((c=l[a]).type===y.type&&c.name===y.name)return y.value}return}for(p=t?Wx:Qx,a=0;a<u;++a)this.each(p(l[a],t,o));return this}function lv(e,t,o){var l=ev(e),a=l.CustomEvent;typeof a=="function"?a=new a(t,o):(a=l.document.createEvent("Event"),o?(a.initEvent(t,o.bubbles,o.cancelable),a.detail=o.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function eA(e,t){return function(){return lv(this,e,t)}}function tA(e,t){return function(){return lv(this,e,t.apply(this,arguments))}}function nA(e,t){return this.each((typeof t=="function"?tA:eA)(e,t))}function*iA(){for(var e=this._groups,t=0,o=e.length;t<o;++t)for(var l=e[t],a=0,u=l.length,c;a<u;++a)(c=l[a])&&(yield c)}var sv=[null];function Kt(e,t){this._groups=e,this._parents=t}function qs(){return new Kt([[document.documentElement]],sv)}function oA(){return this}Kt.prototype=qs.prototype={constructor:Kt,select:bC,selectAll:zC,selectChild:qC,selectChildren:BC,filter:FC,data:KC,enter:OC,exit:QC,join:WC,merge:jC,selection:oA,order:ex,sort:tx,call:ix,nodes:ox,node:lx,size:sx,empty:ax,each:rx,attr:mx,style:_x,property:Cx,classed:wx,text:Ix,html:Lx,raise:kx,lower:Gx,append:Vx,insert:Bx,remove:Ox,clone:Xx,datum:$x,on:jx,dispatch:nA,[Symbol.iterator]:iA};function gn(e){return typeof e=="string"?new Kt([[document.querySelector(e)]],[document.documentElement]):new Kt([[e]],sv)}function lA(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Rn(e,t){if(e=lA(e),t===void 0&&(t=e.currentTarget),t){var o=t.ownerSVGElement||t;if(o.createSVGPoint){var l=o.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,l=l.matrixTransform(t.getScreenCTM().inverse()),[l.x,l.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const sA={passive:!1},bs={capture:!0,passive:!1};function vf(e){e.stopImmediatePropagation()}function rl(e){e.preventDefault(),e.stopImmediatePropagation()}function av(e){var t=e.document.documentElement,o=gn(e).on("dragstart.drag",rl,bs);"onselectstart"in t?o.on("selectstart.drag",rl,bs):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function rv(e,t){var o=e.document.documentElement,l=gn(e).on("dragstart.drag",null);t&&(l.on("click.drag",rl,bs),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in o?l.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const cr=e=>()=>e;function Mf(e,{sourceEvent:t,subject:o,target:l,identifier:a,active:u,x:c,y:p,dx:g,dy:h,dispatch:y}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:y}})}Mf.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function aA(e){return!e.ctrlKey&&!e.button}function rA(){return this.parentNode}function uA(e,t){return t??{x:e.x,y:e.y}}function cA(){return navigator.maxTouchPoints||"ontouchstart"in this}function fA(){var e=aA,t=rA,o=uA,l=cA,a={},u=qr("start","drag","end"),c=0,p,g,h,y,_=0;function S(U){U.on("mousedown.drag",T).filter(l).on("touchstart.drag",D).on("touchmove.drag",R,sA).on("touchend.drag touchcancel.drag",L).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function T(U,O){if(!(y||!e.call(this,U,O))){var Y=z(this,t.call(this,U,O),U,O,"mouse");Y&&(gn(U.view).on("mousemove.drag",w,bs).on("mouseup.drag",N,bs),av(U.view),vf(U),h=!1,p=U.clientX,g=U.clientY,Y("start",U))}}function w(U){if(rl(U),!h){var O=U.clientX-p,Y=U.clientY-g;h=O*O+Y*Y>_}a.mouse("drag",U)}function N(U){gn(U.view).on("mousemove.drag mouseup.drag",null),rv(U.view,h),rl(U),a.mouse("end",U)}function D(U,O){if(e.call(this,U,O)){var Y=U.changedTouches,F=t.call(this,U,O),ie=Y.length,H,K;for(H=0;H<ie;++H)(K=z(this,F,U,O,Y[H].identifier,Y[H]))&&(vf(U),K("start",U,Y[H]))}}function R(U){var O=U.changedTouches,Y=O.length,F,ie;for(F=0;F<Y;++F)(ie=a[O[F].identifier])&&(rl(U),ie("drag",U,O[F]))}function L(U){var O=U.changedTouches,Y=O.length,F,ie;for(y&&clearTimeout(y),y=setTimeout(function(){y=null},500),F=0;F<Y;++F)(ie=a[O[F].identifier])&&(vf(U),ie("end",U,O[F]))}function z(U,O,Y,F,ie,H){var K=u.copy(),W=Rn(H||Y,O),oe,ne,M;if((M=o.call(U,new Mf("beforestart",{sourceEvent:Y,target:S,identifier:ie,active:c,x:W[0],y:W[1],dx:0,dy:0,dispatch:K}),F))!=null)return oe=M.x-W[0]||0,ne=M.y-W[1]||0,function Z(A,V,B){var q=W,j;switch(A){case"start":a[ie]=Z,j=c++;break;case"end":delete a[ie],--c;case"drag":W=Rn(B||V,O),j=c;break}K.call(A,U,new Mf(A,{sourceEvent:V,subject:M,target:S,identifier:ie,active:j,x:W[0]+oe,y:W[1]+ne,dx:W[0]-q[0],dy:W[1]-q[1],dispatch:K}),F)}}return S.filter=function(U){return arguments.length?(e=typeof U=="function"?U:cr(!!U),S):e},S.container=function(U){return arguments.length?(t=typeof U=="function"?U:cr(U),S):t},S.subject=function(U){return arguments.length?(o=typeof U=="function"?U:cr(U),S):o},S.touchable=function(U){return arguments.length?(l=typeof U=="function"?U:cr(!!U),S):l},S.on=function(){var U=u.on.apply(u,arguments);return U===u?S:U},S.clickDistance=function(U){return arguments.length?(_=(U=+U)*U,S):Math.sqrt(_)},S}function td(e,t,o){e.prototype=t.prototype=o,o.constructor=e}function uv(e,t){var o=Object.create(e.prototype);for(var l in t)o[l]=t[l];return o}function Gs(){}var Is=.7,wr=1/Is,ul="\\s*([+-]?\\d+)\\s*",Ds="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dA=/^#([0-9a-f]{3,8})$/,pA=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),hA=new RegExp(`^rgb\\(${bn},${bn},${bn}\\)$`),mA=new RegExp(`^rgba\\(${ul},${ul},${ul},${Ds}\\)$`),gA=new RegExp(`^rgba\\(${bn},${bn},${bn},${Ds}\\)$`),yA=new RegExp(`^hsl\\(${Ds},${bn},${bn}\\)$`),vA=new RegExp(`^hsla\\(${Ds},${bn},${bn},${Ds}\\)$`),Dg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};td(Gs,Us,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ug,formatHex:Ug,formatHex8:_A,formatHsl:SA,formatRgb:zg,toString:zg});function Ug(){return this.rgb().formatHex()}function _A(){return this.rgb().formatHex8()}function SA(){return cv(this).formatHsl()}function zg(){return this.rgb().formatRgb()}function Us(e){var t,o;return e=(e+"").trim().toLowerCase(),(t=dA.exec(e))?(o=t[1].length,t=parseInt(t[1],16),o===6?Lg(t):o===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):o===8?fr(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):o===4?fr(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pA.exec(e))?new Gt(t[1],t[2],t[3],1):(t=hA.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mA.exec(e))?fr(t[1],t[2],t[3],t[4]):(t=gA.exec(e))?fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yA.exec(e))?qg(t[1],t[2]/100,t[3]/100,1):(t=vA.exec(e))?qg(t[1],t[2]/100,t[3]/100,t[4]):Dg.hasOwnProperty(e)?Lg(Dg[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function Lg(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function fr(e,t,o,l){return l<=0&&(e=t=o=NaN),new Gt(e,t,o,l)}function EA(e){return e instanceof Gs||(e=Us(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function Rf(e,t,o,l){return arguments.length===1?EA(e):new Gt(e,t,o,l??1)}function Gt(e,t,o,l){this.r=+e,this.g=+t,this.b=+o,this.opacity=+l}td(Gt,Rf,uv(Gs,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Is:Math.pow(Is,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(vo(this.r),vo(this.g),vo(this.b),Mr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hg,formatHex:Hg,formatHex8:TA,formatRgb:kg,toString:kg}));function Hg(){return`#${go(this.r)}${go(this.g)}${go(this.b)}`}function TA(){return`#${go(this.r)}${go(this.g)}${go(this.b)}${go((isNaN(this.opacity)?1:this.opacity)*255)}`}function kg(){const e=Mr(this.opacity);return`${e===1?"rgb(":"rgba("}${vo(this.r)}, ${vo(this.g)}, ${vo(this.b)}${e===1?")":`, ${e})`}`}function Mr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function go(e){return e=vo(e),(e<16?"0":"")+e.toString(16)}function qg(e,t,o,l){return l<=0?e=t=o=NaN:o<=0||o>=1?e=t=NaN:t<=0&&(e=NaN),new yn(e,t,o,l)}function cv(e){if(e instanceof yn)return new yn(e.h,e.s,e.l,e.opacity);if(e instanceof Gs||(e=Us(e)),!e)return new yn;if(e instanceof yn)return e;e=e.rgb();var t=e.r/255,o=e.g/255,l=e.b/255,a=Math.min(t,o,l),u=Math.max(t,o,l),c=NaN,p=u-a,g=(u+a)/2;return p?(t===u?c=(o-l)/p+(o<l)*6:o===u?c=(l-t)/p+2:c=(t-o)/p+4,p/=g<.5?u+a:2-u-a,c*=60):p=g>0&&g<1?0:c,new yn(c,p,g,e.opacity)}function CA(e,t,o,l){return arguments.length===1?cv(e):new yn(e,t,o,l??1)}function yn(e,t,o,l){this.h=+e,this.s=+t,this.l=+o,this.opacity=+l}td(yn,CA,uv(Gs,{brighter(e){return e=e==null?wr:Math.pow(wr,e),new yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Is:Math.pow(Is,e),new yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,l=o+(o<.5?o:1-o)*t,a=2*o-l;return new Gt(_f(e>=240?e-240:e+120,a,l),_f(e,a,l),_f(e<120?e+240:e-120,a,l),this.opacity)},clamp(){return new yn(Gg(this.h),dr(this.s),dr(this.l),Mr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Mr(this.opacity);return`${e===1?"hsl(":"hsla("}${Gg(this.h)}, ${dr(this.s)*100}%, ${dr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Gg(e){return e=(e||0)%360,e<0?e+360:e}function dr(e){return Math.max(0,Math.min(1,e||0))}function _f(e,t,o){return(e<60?t+(o-t)*e/60:e<180?o:e<240?t+(o-t)*(240-e)/60:t)*255}const fv=e=>()=>e;function xA(e,t){return function(o){return e+o*t}}function AA(e,t,o){return e=Math.pow(e,o),t=Math.pow(t,o)-e,o=1/o,function(l){return Math.pow(e+l*t,o)}}function NA(e){return(e=+e)==1?dv:function(t,o){return o-t?AA(t,o,e):fv(isNaN(t)?o:t)}}function dv(e,t){var o=t-e;return o?xA(e,o):fv(isNaN(e)?t:e)}const Vg=(function e(t){var o=NA(t);function l(a,u){var c=o((a=Rf(a)).r,(u=Rf(u)).r),p=o(a.g,u.g),g=o(a.b,u.b),h=dv(a.opacity,u.opacity);return function(y){return a.r=c(y),a.g=p(y),a.b=g(y),a.opacity=h(y),a+""}}return l.gamma=e,l})(1);function Vi(e,t){return e=+e,t=+t,function(o){return e*(1-o)+t*o}}var bf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sf=new RegExp(bf.source,"g");function wA(e){return function(){return e}}function MA(e){return function(t){return e(t)+""}}function RA(e,t){var o=bf.lastIndex=Sf.lastIndex=0,l,a,u,c=-1,p=[],g=[];for(e=e+"",t=t+"";(l=bf.exec(e))&&(a=Sf.exec(t));)(u=a.index)>o&&(u=t.slice(o,u),p[c]?p[c]+=u:p[++c]=u),(l=l[0])===(a=a[0])?p[c]?p[c]+=a:p[++c]=a:(p[++c]=null,g.push({i:c,x:Vi(l,a)})),o=Sf.lastIndex;return o<t.length&&(u=t.slice(o),p[c]?p[c]+=u:p[++c]=u),p.length<2?g[0]?MA(g[0].x):wA(t):(t=g.length,function(h){for(var y=0,_;y<t;++y)p[(_=g[y]).i]=_.x(h);return p.join("")})}var Pg=180/Math.PI,If={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pv(e,t,o,l,a,u){var c,p,g;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(g=e*o+t*l)&&(o-=e*g,l-=t*g),(p=Math.sqrt(o*o+l*l))&&(o/=p,l/=p,g/=p),e*l<t*o&&(e=-e,t=-t,g=-g,c=-c),{translateX:a,translateY:u,rotate:Math.atan2(t,e)*Pg,skewX:Math.atan(g)*Pg,scaleX:c,scaleY:p}}var pr;function bA(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?If:pv(t.a,t.b,t.c,t.d,t.e,t.f)}function IA(e){return e==null||(pr||(pr=document.createElementNS("http://www.w3.org/2000/svg","g")),pr.setAttribute("transform",e),!(e=pr.transform.baseVal.consolidate()))?If:(e=e.matrix,pv(e.a,e.b,e.c,e.d,e.e,e.f))}function hv(e,t,o,l){function a(h){return h.length?h.pop()+" ":""}function u(h,y,_,S,T,w){if(h!==_||y!==S){var N=T.push("translate(",null,t,null,o);w.push({i:N-4,x:Vi(h,_)},{i:N-2,x:Vi(y,S)})}else(_||S)&&T.push("translate("+_+t+S+o)}function c(h,y,_,S){h!==y?(h-y>180?y+=360:y-h>180&&(h+=360),S.push({i:_.push(a(_)+"rotate(",null,l)-2,x:Vi(h,y)})):y&&_.push(a(_)+"rotate("+y+l)}function p(h,y,_,S){h!==y?S.push({i:_.push(a(_)+"skewX(",null,l)-2,x:Vi(h,y)}):y&&_.push(a(_)+"skewX("+y+l)}function g(h,y,_,S,T,w){if(h!==_||y!==S){var N=T.push(a(T)+"scale(",null,",",null,")");w.push({i:N-4,x:Vi(h,_)},{i:N-2,x:Vi(y,S)})}else(_!==1||S!==1)&&T.push(a(T)+"scale("+_+","+S+")")}return function(h,y){var _=[],S=[];return h=e(h),y=e(y),u(h.translateX,h.translateY,y.translateX,y.translateY,_,S),c(h.rotate,y.rotate,_,S),p(h.skewX,y.skewX,_,S),g(h.scaleX,h.scaleY,y.scaleX,y.scaleY,_,S),h=y=null,function(T){for(var w=-1,N=S.length,D;++w<N;)_[(D=S[w]).i]=D.x(T);return _.join("")}}}var DA=hv(bA,"px, ","px)","deg)"),UA=hv(IA,", ",")",")"),zA=1e-12;function Bg(e){return((e=Math.exp(e))+1/e)/2}function LA(e){return((e=Math.exp(e))-1/e)/2}function HA(e){return((e=Math.exp(2*e))-1)/(e+1)}const kA=(function e(t,o,l){function a(u,c){var p=u[0],g=u[1],h=u[2],y=c[0],_=c[1],S=c[2],T=y-p,w=_-g,N=T*T+w*w,D,R;if(N<zA)R=Math.log(S/h)/t,D=function(F){return[p+F*T,g+F*w,h*Math.exp(t*F*R)]};else{var L=Math.sqrt(N),z=(S*S-h*h+l*N)/(2*h*o*L),U=(S*S-h*h-l*N)/(2*S*o*L),O=Math.log(Math.sqrt(z*z+1)-z),Y=Math.log(Math.sqrt(U*U+1)-U);R=(Y-O)/t,D=function(F){var ie=F*R,H=Bg(O),K=h/(o*L)*(H*HA(t*ie+O)-LA(O));return[p+K*T,g+K*w,h*H/Bg(t*ie+O)]}}return D.duration=R*1e3*t/Math.SQRT2,D}return a.rho=function(u){var c=Math.max(.001,+u),p=c*c,g=p*p;return e(c,p,g)},a})(Math.SQRT2,2,4);var gl=0,As=0,_s=0,mv=1e3,Rr,Ns,br=0,_o=0,Vr=0,zs=typeof performance=="object"&&performance.now?performance:Date,gv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nd(){return _o||(gv(qA),_o=zs.now()+Vr)}function qA(){_o=0}function Ir(){this._call=this._time=this._next=null}Ir.prototype=yv.prototype={constructor:Ir,restart:function(e,t,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?nd():+o)+(t==null?0:+t),!this._next&&Ns!==this&&(Ns?Ns._next=this:Rr=this,Ns=this),this._call=e,this._time=o,Df()},stop:function(){this._call&&(this._call=null,this._time=1/0,Df())}};function yv(e,t,o){var l=new Ir;return l.restart(e,t,o),l}function GA(){nd(),++gl;for(var e=Rr,t;e;)(t=_o-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gl}function Fg(){_o=(br=zs.now())+Vr,gl=As=0;try{GA()}finally{gl=0,PA(),_o=0}}function VA(){var e=zs.now(),t=e-br;t>mv&&(Vr-=t,br=e)}function PA(){for(var e,t=Rr,o,l=1/0;t;)t._call?(l>t._time&&(l=t._time),e=t,t=t._next):(o=t._next,t._next=null,t=e?e._next=o:Rr=o);Ns=e,Df(l)}function Df(e){if(!gl){As&&(As=clearTimeout(As));var t=e-_o;t>24?(e<1/0&&(As=setTimeout(Fg,e-zs.now()-Vr)),_s&&(_s=clearInterval(_s))):(_s||(br=zs.now(),_s=setInterval(VA,mv)),gl=1,gv(Fg))}}function Og(e,t,o){var l=new Ir;return t=t==null?0:+t,l.restart(a=>{l.stop(),e(a+t)},t,o),l}var BA=qr("start","end","cancel","interrupt"),FA=[],vv=0,Yg=1,Uf=2,Er=3,Jg=4,zf=5,Tr=6;function Pr(e,t,o,l,a,u){var c=e.__transition;if(!c)e.__transition={};else if(o in c)return;OA(e,o,{name:t,index:l,group:a,on:BA,tween:FA,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:vv})}function id(e,t){var o=_n(e,t);if(o.state>vv)throw new Error("too late; already scheduled");return o}function In(e,t){var o=_n(e,t);if(o.state>Er)throw new Error("too late; already running");return o}function _n(e,t){var o=e.__transition;if(!o||!(o=o[t]))throw new Error("transition not found");return o}function OA(e,t,o){var l=e.__transition,a;l[t]=o,o.timer=yv(u,0,o.time);function u(h){o.state=Yg,o.timer.restart(c,o.delay,o.time),o.delay<=h&&c(h-o.delay)}function c(h){var y,_,S,T;if(o.state!==Yg)return g();for(y in l)if(T=l[y],T.name===o.name){if(T.state===Er)return Og(c);T.state===Jg?(T.state=Tr,T.timer.stop(),T.on.call("interrupt",e,e.__data__,T.index,T.group),delete l[y]):+y<t&&(T.state=Tr,T.timer.stop(),T.on.call("cancel",e,e.__data__,T.index,T.group),delete l[y])}if(Og(function(){o.state===Er&&(o.state=Jg,o.timer.restart(p,o.delay,o.time),p(h))}),o.state=Uf,o.on.call("start",e,e.__data__,o.index,o.group),o.state===Uf){for(o.state=Er,a=new Array(S=o.tween.length),y=0,_=-1;y<S;++y)(T=o.tween[y].value.call(e,e.__data__,o.index,o.group))&&(a[++_]=T);a.length=_+1}}function p(h){for(var y=h<o.duration?o.ease.call(null,h/o.duration):(o.timer.restart(g),o.state=zf,1),_=-1,S=a.length;++_<S;)a[_].call(e,y);o.state===zf&&(o.on.call("end",e,e.__data__,o.index,o.group),g())}function g(){o.state=Tr,o.timer.stop(),delete l[t];for(var h in l)return;delete e.__transition}}function Cr(e,t){var o=e.__transition,l,a,u=!0,c;if(o){t=t==null?null:t+"";for(c in o){if((l=o[c]).name!==t){u=!1;continue}a=l.state>Uf&&l.state<zf,l.state=Tr,l.timer.stop(),l.on.call(a?"interrupt":"cancel",e,e.__data__,l.index,l.group),delete o[c]}u&&delete e.__transition}}function YA(e){return this.each(function(){Cr(this,e)})}function JA(e,t){var o,l;return function(){var a=In(this,e),u=a.tween;if(u!==o){l=o=u;for(var c=0,p=l.length;c<p;++c)if(l[c].name===t){l=l.slice(),l.splice(c,1);break}}a.tween=l}}function XA(e,t,o){var l,a;if(typeof o!="function")throw new Error;return function(){var u=In(this,e),c=u.tween;if(c!==l){a=(l=c).slice();for(var p={name:t,value:o},g=0,h=a.length;g<h;++g)if(a[g].name===t){a[g]=p;break}g===h&&a.push(p)}u.tween=a}}function $A(e,t){var o=this._id;if(e+="",arguments.length<2){for(var l=_n(this.node(),o).tween,a=0,u=l.length,c;a<u;++a)if((c=l[a]).name===e)return c.value;return null}return this.each((t==null?JA:XA)(o,e,t))}function od(e,t,o){var l=e._id;return e.each(function(){var a=In(this,l);(a.value||(a.value={}))[t]=o.apply(this,arguments)}),function(a){return _n(a,l).value[t]}}function _v(e,t){var o;return(typeof t=="number"?Vi:t instanceof Us?Vg:(o=Us(t))?(t=o,Vg):RA)(e,t)}function KA(e){return function(){this.removeAttribute(e)}}function ZA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function QA(e,t,o){var l,a=o+"",u;return function(){var c=this.getAttribute(e);return c===a?null:c===l?u:u=t(l=c,o)}}function WA(e,t,o){var l,a=o+"",u;return function(){var c=this.getAttributeNS(e.space,e.local);return c===a?null:c===l?u:u=t(l=c,o)}}function jA(e,t,o){var l,a,u;return function(){var c,p=o(this),g;return p==null?void this.removeAttribute(e):(c=this.getAttribute(e),g=p+"",c===g?null:c===l&&g===a?u:(a=g,u=t(l=c,p)))}}function e1(e,t,o){var l,a,u;return function(){var c,p=o(this),g;return p==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),g=p+"",c===g?null:c===l&&g===a?u:(a=g,u=t(l=c,p)))}}function t1(e,t){var o=Gr(e),l=o==="transform"?UA:_v;return this.attrTween(e,typeof t=="function"?(o.local?e1:jA)(o,l,od(this,"attr."+e,t)):t==null?(o.local?ZA:KA)(o):(o.local?WA:QA)(o,l,t))}function n1(e,t){return function(o){this.setAttribute(e,t.call(this,o))}}function i1(e,t){return function(o){this.setAttributeNS(e.space,e.local,t.call(this,o))}}function o1(e,t){var o,l;function a(){var u=t.apply(this,arguments);return u!==l&&(o=(l=u)&&i1(e,u)),o}return a._value=t,a}function l1(e,t){var o,l;function a(){var u=t.apply(this,arguments);return u!==l&&(o=(l=u)&&n1(e,u)),o}return a._value=t,a}function s1(e,t){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;var l=Gr(e);return this.tween(o,(l.local?o1:l1)(l,t))}function a1(e,t){return function(){id(this,e).delay=+t.apply(this,arguments)}}function r1(e,t){return t=+t,function(){id(this,e).delay=t}}function u1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?a1:r1)(t,e)):_n(this.node(),t).delay}function c1(e,t){return function(){In(this,e).duration=+t.apply(this,arguments)}}function f1(e,t){return t=+t,function(){In(this,e).duration=t}}function d1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?c1:f1)(t,e)):_n(this.node(),t).duration}function p1(e,t){if(typeof t!="function")throw new Error;return function(){In(this,e).ease=t}}function h1(e){var t=this._id;return arguments.length?this.each(p1(t,e)):_n(this.node(),t).ease}function m1(e,t){return function(){var o=t.apply(this,arguments);if(typeof o!="function")throw new Error;In(this,e).ease=o}}function g1(e){if(typeof e!="function")throw new Error;return this.each(m1(this._id,e))}function y1(e){typeof e!="function"&&(e=Q0(e));for(var t=this._groups,o=t.length,l=new Array(o),a=0;a<o;++a)for(var u=t[a],c=u.length,p=l[a]=[],g,h=0;h<c;++h)(g=u[h])&&e.call(g,g.__data__,h,u)&&p.push(g);return new ni(l,this._parents,this._name,this._id)}function v1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,o=e._groups,l=t.length,a=o.length,u=Math.min(l,a),c=new Array(l),p=0;p<u;++p)for(var g=t[p],h=o[p],y=g.length,_=c[p]=new Array(y),S,T=0;T<y;++T)(S=g[T]||h[T])&&(_[T]=S);for(;p<l;++p)c[p]=t[p];return new ni(c,this._parents,this._name,this._id)}function _1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var o=t.indexOf(".");return o>=0&&(t=t.slice(0,o)),!t||t==="start"})}function S1(e,t,o){var l,a,u=_1(t)?id:In;return function(){var c=u(this,e),p=c.on;p!==l&&(a=(l=p).copy()).on(t,o),c.on=a}}function E1(e,t){var o=this._id;return arguments.length<2?_n(this.node(),o).on.on(e):this.each(S1(o,e,t))}function T1(e){return function(){var t=this.parentNode;for(var o in this.__transition)if(+o!==e)return;t&&t.removeChild(this)}}function C1(){return this.on("end.remove",T1(this._id))}function x1(e){var t=this._name,o=this._id;typeof e!="function"&&(e=jf(e));for(var l=this._groups,a=l.length,u=new Array(a),c=0;c<a;++c)for(var p=l[c],g=p.length,h=u[c]=new Array(g),y,_,S=0;S<g;++S)(y=p[S])&&(_=e.call(y,y.__data__,S,p))&&("__data__"in y&&(_.__data__=y.__data__),h[S]=_,Pr(h[S],t,o,S,h,_n(y,o)));return new ni(u,this._parents,t,o)}function A1(e){var t=this._name,o=this._id;typeof e!="function"&&(e=Z0(e));for(var l=this._groups,a=l.length,u=[],c=[],p=0;p<a;++p)for(var g=l[p],h=g.length,y,_=0;_<h;++_)if(y=g[_]){for(var S=e.call(y,y.__data__,_,g),T,w=_n(y,o),N=0,D=S.length;N<D;++N)(T=S[N])&&Pr(T,t,o,N,S,w);u.push(S),c.push(y)}return new ni(u,c,t,o)}var N1=qs.prototype.constructor;function w1(){return new N1(this._groups,this._parents)}function M1(e,t){var o,l,a;return function(){var u=ml(this,e),c=(this.style.removeProperty(e),ml(this,e));return u===c?null:u===o&&c===l?a:a=t(o=u,l=c)}}function Sv(e){return function(){this.style.removeProperty(e)}}function R1(e,t,o){var l,a=o+"",u;return function(){var c=ml(this,e);return c===a?null:c===l?u:u=t(l=c,o)}}function b1(e,t,o){var l,a,u;return function(){var c=ml(this,e),p=o(this),g=p+"";return p==null&&(g=p=(this.style.removeProperty(e),ml(this,e))),c===g?null:c===l&&g===a?u:(a=g,u=t(l=c,p))}}function I1(e,t){var o,l,a,u="style."+t,c="end."+u,p;return function(){var g=In(this,e),h=g.on,y=g.value[u]==null?p||(p=Sv(t)):void 0;(h!==o||a!==y)&&(l=(o=h).copy()).on(c,a=y),g.on=l}}function D1(e,t,o){var l=(e+="")=="transform"?DA:_v;return t==null?this.styleTween(e,M1(e,l)).on("end.style."+e,Sv(e)):typeof t=="function"?this.styleTween(e,b1(e,l,od(this,"style."+e,t))).each(I1(this._id,e)):this.styleTween(e,R1(e,l,t),o).on("end.style."+e,null)}function U1(e,t,o){return function(l){this.style.setProperty(e,t.call(this,l),o)}}function z1(e,t,o){var l,a;function u(){var c=t.apply(this,arguments);return c!==a&&(l=(a=c)&&U1(e,c,o)),l}return u._value=t,u}function L1(e,t,o){var l="style."+(e+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(t==null)return this.tween(l,null);if(typeof t!="function")throw new Error;return this.tween(l,z1(e,t,o??""))}function H1(e){return function(){this.textContent=e}}function k1(e){return function(){var t=e(this);this.textContent=t??""}}function q1(e){return this.tween("text",typeof e=="function"?k1(od(this,"text",e)):H1(e==null?"":e+""))}function G1(e){return function(t){this.textContent=e.call(this,t)}}function V1(e){var t,o;function l(){var a=e.apply(this,arguments);return a!==o&&(t=(o=a)&&G1(a)),t}return l._value=e,l}function P1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,V1(e))}function B1(){for(var e=this._name,t=this._id,o=Ev(),l=this._groups,a=l.length,u=0;u<a;++u)for(var c=l[u],p=c.length,g,h=0;h<p;++h)if(g=c[h]){var y=_n(g,t);Pr(g,e,o,h,c,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new ni(l,this._parents,e,o)}function F1(){var e,t,o=this,l=o._id,a=o.size();return new Promise(function(u,c){var p={value:c},g={value:function(){--a===0&&u()}};o.each(function(){var h=In(this,l),y=h.on;y!==e&&(t=(e=y).copy(),t._.cancel.push(p),t._.interrupt.push(p),t._.end.push(g)),h.on=t}),a===0&&u()})}var O1=0;function ni(e,t,o,l){this._groups=e,this._parents=t,this._name=o,this._id=l}function Ev(){return++O1}var ei=qs.prototype;ni.prototype={constructor:ni,select:x1,selectAll:A1,selectChild:ei.selectChild,selectChildren:ei.selectChildren,filter:y1,merge:v1,selection:w1,transition:B1,call:ei.call,nodes:ei.nodes,node:ei.node,size:ei.size,empty:ei.empty,each:ei.each,on:E1,attr:t1,attrTween:s1,style:D1,styleTween:L1,text:q1,textTween:P1,remove:C1,tween:$A,delay:u1,duration:d1,ease:h1,easeVarying:g1,end:F1,[Symbol.iterator]:ei[Symbol.iterator]};function Y1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var J1={time:null,delay:0,duration:250,ease:Y1};function X1(e,t){for(var o;!(o=e.__transition)||!(o=o[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return o}function $1(e){var t,o;e instanceof ni?(t=e._id,e=e._name):(t=Ev(),(o=J1).time=nd(),e=e==null?null:e+"");for(var l=this._groups,a=l.length,u=0;u<a;++u)for(var c=l[u],p=c.length,g,h=0;h<p;++h)(g=c[h])&&Pr(g,e,t,h,c,o||X1(g,t));return new ni(l,this._parents,e,t)}qs.prototype.interrupt=YA;qs.prototype.transition=$1;const hr=e=>()=>e;function K1(e,{sourceEvent:t,target:o,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function ti(e,t,o){this.k=e,this.x=t,this.y=o}ti.prototype={constructor:ti,scale:function(e){return e===1?this:new ti(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ti(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fi=new ti(1,0,0);ti.prototype;function Ef(e){e.stopImmediatePropagation()}function Ss(e){e.preventDefault(),e.stopImmediatePropagation()}function Z1(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Q1(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Xg(){return this.__zoom||Fi}function W1(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function j1(){return navigator.maxTouchPoints||"ontouchstart"in this}function eN(e,t,o){var l=e.invertX(t[0][0])-o[0][0],a=e.invertX(t[1][0])-o[1][0],u=e.invertY(t[0][1])-o[0][1],c=e.invertY(t[1][1])-o[1][1];return e.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),c>u?(u+c)/2:Math.min(0,u)||Math.max(0,c))}function tN(){var e=Z1,t=Q1,o=eN,l=W1,a=j1,u=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],p=250,g=kA,h=qr("start","zoom","end"),y,_,S,T=500,w=150,N=0,D=10;function R(M){M.property("__zoom",Xg).on("wheel.zoom",ie,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",K).filter(a).on("touchstart.zoom",W).on("touchmove.zoom",oe).on("touchend.zoom touchcancel.zoom",ne).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}R.transform=function(M,Z,A,V){var B=M.selection?M.selection():M;B.property("__zoom",Xg),M!==B?O(M,Z,A,V):B.interrupt().each(function(){Y(this,arguments).event(V).start().zoom(null,typeof Z=="function"?Z.apply(this,arguments):Z).end()})},R.scaleBy=function(M,Z,A,V){R.scaleTo(M,function(){var B=this.__zoom.k,q=typeof Z=="function"?Z.apply(this,arguments):Z;return B*q},A,V)},R.scaleTo=function(M,Z,A,V){R.transform(M,function(){var B=t.apply(this,arguments),q=this.__zoom,j=A==null?U(B):typeof A=="function"?A.apply(this,arguments):A,x=q.invert(j),k=typeof Z=="function"?Z.apply(this,arguments):Z;return o(z(L(q,k),j,x),B,c)},A,V)},R.translateBy=function(M,Z,A,V){R.transform(M,function(){return o(this.__zoom.translate(typeof Z=="function"?Z.apply(this,arguments):Z,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),c)},null,V)},R.translateTo=function(M,Z,A,V,B){R.transform(M,function(){var q=t.apply(this,arguments),j=this.__zoom,x=V==null?U(q):typeof V=="function"?V.apply(this,arguments):V;return o(Fi.translate(x[0],x[1]).scale(j.k).translate(typeof Z=="function"?-Z.apply(this,arguments):-Z,typeof A=="function"?-A.apply(this,arguments):-A),q,c)},V,B)};function L(M,Z){return Z=Math.max(u[0],Math.min(u[1],Z)),Z===M.k?M:new ti(Z,M.x,M.y)}function z(M,Z,A){var V=Z[0]-A[0]*M.k,B=Z[1]-A[1]*M.k;return V===M.x&&B===M.y?M:new ti(M.k,V,B)}function U(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function O(M,Z,A,V){M.on("start.zoom",function(){Y(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){Y(this,arguments).event(V).end()}).tween("zoom",function(){var B=this,q=arguments,j=Y(B,q).event(V),x=t.apply(B,q),k=A==null?U(x):typeof A=="function"?A.apply(B,q):A,te=Math.max(x[1][0]-x[0][0],x[1][1]-x[0][1]),le=B.__zoom,ce=typeof Z=="function"?Z.apply(B,q):Z,de=g(le.invert(k).concat(te/le.k),ce.invert(k).concat(te/ce.k));return function(he){if(he===1)he=ce;else{var Te=de(he),Se=te/Te[2];he=new ti(Se,k[0]-Te[0]*Se,k[1]-Te[1]*Se)}j.zoom(null,he)}})}function Y(M,Z,A){return!A&&M.__zooming||new F(M,Z)}function F(M,Z){this.that=M,this.args=Z,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,Z),this.taps=0}F.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,Z){return this.mouse&&M!=="mouse"&&(this.mouse[1]=Z.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=Z.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=Z.invert(this.touch1[0])),this.that.__zoom=Z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var Z=gn(this.that).datum();h.call(M,this.that,new K1(M,{sourceEvent:this.sourceEvent,target:R,transform:this.that.__zoom,dispatch:h}),Z)}};function ie(M,...Z){if(!e.apply(this,arguments))return;var A=Y(this,Z).event(M),V=this.__zoom,B=Math.max(u[0],Math.min(u[1],V.k*Math.pow(2,l.apply(this,arguments)))),q=Rn(M);if(A.wheel)(A.mouse[0][0]!==q[0]||A.mouse[0][1]!==q[1])&&(A.mouse[1]=V.invert(A.mouse[0]=q)),clearTimeout(A.wheel);else{if(V.k===B)return;A.mouse=[q,V.invert(q)],Cr(this),A.start()}Ss(M),A.wheel=setTimeout(j,w),A.zoom("mouse",o(z(L(V,B),A.mouse[0],A.mouse[1]),A.extent,c));function j(){A.wheel=null,A.end()}}function H(M,...Z){if(S||!e.apply(this,arguments))return;var A=M.currentTarget,V=Y(this,Z,!0).event(M),B=gn(M.view).on("mousemove.zoom",k,!0).on("mouseup.zoom",te,!0),q=Rn(M,A),j=M.clientX,x=M.clientY;av(M.view),Ef(M),V.mouse=[q,this.__zoom.invert(q)],Cr(this),V.start();function k(le){if(Ss(le),!V.moved){var ce=le.clientX-j,de=le.clientY-x;V.moved=ce*ce+de*de>N}V.event(le).zoom("mouse",o(z(V.that.__zoom,V.mouse[0]=Rn(le,A),V.mouse[1]),V.extent,c))}function te(le){B.on("mousemove.zoom mouseup.zoom",null),rv(le.view,V.moved),Ss(le),V.event(le).end()}}function K(M,...Z){if(e.apply(this,arguments)){var A=this.__zoom,V=Rn(M.changedTouches?M.changedTouches[0]:M,this),B=A.invert(V),q=A.k*(M.shiftKey?.5:2),j=o(z(L(A,q),V,B),t.apply(this,Z),c);Ss(M),p>0?gn(this).transition().duration(p).call(O,j,V,M):gn(this).call(R.transform,j,V,M)}}function W(M,...Z){if(e.apply(this,arguments)){var A=M.touches,V=A.length,B=Y(this,Z,M.changedTouches.length===V).event(M),q,j,x,k;for(Ef(M),j=0;j<V;++j)x=A[j],k=Rn(x,this),k=[k,this.__zoom.invert(k),x.identifier],B.touch0?!B.touch1&&B.touch0[2]!==k[2]&&(B.touch1=k,B.taps=0):(B.touch0=k,q=!0,B.taps=1+!!y);y&&(y=clearTimeout(y)),q&&(B.taps<2&&(_=k[0],y=setTimeout(function(){y=null},T)),Cr(this),B.start())}}function oe(M,...Z){if(this.__zooming){var A=Y(this,Z).event(M),V=M.changedTouches,B=V.length,q,j,x,k;for(Ss(M),q=0;q<B;++q)j=V[q],x=Rn(j,this),A.touch0&&A.touch0[2]===j.identifier?A.touch0[0]=x:A.touch1&&A.touch1[2]===j.identifier&&(A.touch1[0]=x);if(j=A.that.__zoom,A.touch1){var te=A.touch0[0],le=A.touch0[1],ce=A.touch1[0],de=A.touch1[1],he=(he=ce[0]-te[0])*he+(he=ce[1]-te[1])*he,Te=(Te=de[0]-le[0])*Te+(Te=de[1]-le[1])*Te;j=L(j,Math.sqrt(he/Te)),x=[(te[0]+ce[0])/2,(te[1]+ce[1])/2],k=[(le[0]+de[0])/2,(le[1]+de[1])/2]}else if(A.touch0)x=A.touch0[0],k=A.touch0[1];else return;A.zoom("touch",o(z(j,x,k),A.extent,c))}}function ne(M,...Z){if(this.__zooming){var A=Y(this,Z).event(M),V=M.changedTouches,B=V.length,q,j;for(Ef(M),S&&clearTimeout(S),S=setTimeout(function(){S=null},T),q=0;q<B;++q)j=V[q],A.touch0&&A.touch0[2]===j.identifier?delete A.touch0:A.touch1&&A.touch1[2]===j.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(j=Rn(j,this),Math.hypot(_[0]-j[0],_[1]-j[1])<D)){var x=gn(this).on("dblclick.zoom");x&&x.apply(this,arguments)}}}return R.wheelDelta=function(M){return arguments.length?(l=typeof M=="function"?M:hr(+M),R):l},R.filter=function(M){return arguments.length?(e=typeof M=="function"?M:hr(!!M),R):e},R.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:hr(!!M),R):a},R.extent=function(M){return arguments.length?(t=typeof M=="function"?M:hr([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),R):t},R.scaleExtent=function(M){return arguments.length?(u[0]=+M[0],u[1]=+M[1],R):[u[0],u[1]]},R.translateExtent=function(M){return arguments.length?(c[0][0]=+M[0][0],c[1][0]=+M[1][0],c[0][1]=+M[0][1],c[1][1]=+M[1][1],R):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},R.constrain=function(M){return arguments.length?(o=M,R):o},R.duration=function(M){return arguments.length?(p=+M,R):p},R.interpolate=function(M){return arguments.length?(g=M,R):g},R.on=function(){var M=h.on.apply(h,arguments);return M===h?R:M},R.clickDistance=function(M){return arguments.length?(N=(M=+M)*M,R):Math.sqrt(N)},R.tapDistance=function(M){return arguments.length?(D=+M,R):D},R}F0();const Br=X.createContext(null),nN=Br.Provider,ii={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Tv=ii.error001();function We(e,t){const o=X.useContext(Br);if(o===null)throw new Error(Tv);return $0(o,e,t)}const mt=()=>{const e=X.useContext(Br);if(e===null)throw new Error(Tv);return X.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},iN=e=>e.userSelectionActive?"none":"all";function Ms({position:e,children:t,className:o,style:l,...a}){const u=We(iN),c=`${e}`.split("-");return ae.createElement("div",{className:bt(["react-flow__panel",o,...c]),style:{...l,pointerEvents:u},...a},t)}function oN({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ae.createElement(Ms,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ae.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const lN=({x:e,y:t,label:o,labelStyle:l={},labelShowBg:a=!0,labelBgStyle:u={},labelBgPadding:c=[2,4],labelBgBorderRadius:p=2,children:g,className:h,...y})=>{const _=X.useRef(null),[S,T]=X.useState({x:0,y:0,width:0,height:0}),w=bt(["react-flow__edge-textwrapper",h]);return X.useEffect(()=>{if(_.current){const N=_.current.getBBox();T({x:N.x,y:N.y,width:N.width,height:N.height})}},[o]),typeof o>"u"||!o?null:ae.createElement("g",{transform:`translate(${e-S.width/2} ${t-S.height/2})`,className:w,visibility:S.width?"visible":"hidden",...y},a&&ae.createElement("rect",{width:S.width+2*c[0],x:-c[0],y:-c[1],height:S.height+2*c[1],className:"react-flow__edge-textbg",style:u,rx:p,ry:p}),ae.createElement("text",{className:"react-flow__edge-text",y:S.height/2,dy:"0.3em",ref:_,style:l},o),g)};var sN=X.memo(lN);const ld=e=>({width:e.offsetWidth,height:e.offsetHeight}),yl=(e,t=0,o=1)=>Math.min(Math.max(e,t),o),sd=(e={x:0,y:0},t)=>({x:yl(e.x,t[0][0],t[1][0]),y:yl(e.y,t[0][1],t[1][1])}),$g=(e,t,o)=>e<t?yl(Math.abs(e-t),1,50)/50:e>o?-yl(Math.abs(e-o),1,50)/50:0,Cv=(e,t)=>{const o=$g(e.x,35,t.width-35)*20,l=$g(e.y,35,t.height-35)*20;return[o,l]},xv=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},aN=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ad=({x:e,y:t,width:o,height:l})=>({x:e,y:t,x2:e+o,y2:t+l}),rN=({x:e,y:t,x2:o,y2:l})=>({x:e,y:t,width:o-e,height:l-t}),Kg=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Lf=(e,t)=>{const o=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),l=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(o*l)},uN=e=>un(e.width)&&un(e.height)&&un(e.x)&&un(e.y),un=e=>!isNaN(e)&&isFinite(e),tt=Symbol.for("internals"),Av=["Enter"," ","Escape"],cN=(e,t)=>{},fN=e=>"nativeEvent"in e;function Hf(e){var a,u;const t=fN(e)?e.nativeEvent:e,o=((u=(a=t.composedPath)==null?void 0:a.call(t))==null?void 0:u[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||(o==null?void 0:o.hasAttribute("contenteditable"))||!!(o!=null&&o.closest(".nokey"))}const Nv=e=>"clientX"in e,Oi=(e,t)=>{var u,c;const o=Nv(e),l=o?e.clientX:(u=e.touches)==null?void 0:u[0].clientX,a=o?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:l-((t==null?void 0:t.left)??0),y:a-((t==null?void 0:t.top)??0)}},Dr=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Vs=({id:e,path:t,labelX:o,labelY:l,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h,style:y,markerEnd:_,markerStart:S,interactionWidth:T=20})=>ae.createElement(ae.Fragment,null,ae.createElement("path",{id:e,style:y,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:_,markerStart:S}),T&&ae.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:T,className:"react-flow__edge-interaction"}),a&&un(o)&&un(l)?ae.createElement(sN,{x:o,y:l,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h}):null);Vs.displayName="BaseEdge";function Es(e,t,o){return o===void 0?o:l=>{const a=t().edges.find(u=>u.id===e);a&&o(l,{...a})}}function wv({sourceX:e,sourceY:t,targetX:o,targetY:l}){const a=Math.abs(o-e)/2,u=o<e?o+a:o-a,c=Math.abs(l-t)/2,p=l<t?l+c:l-c;return[u,p,a,c]}function Mv({sourceX:e,sourceY:t,targetX:o,targetY:l,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:p}){const g=e*.125+a*.375+c*.375+o*.125,h=t*.125+u*.375+p*.375+l*.125,y=Math.abs(g-e),_=Math.abs(h-t);return[g,h,y,_]}var So;(function(e){e.Strict="strict",e.Loose="loose"})(So||(So={}));var yo;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(yo||(yo={}));var Ls;(function(e){e.Partial="partial",e.Full="full"})(Ls||(Ls={}));var Bi;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Bi||(Bi={}));var vl;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(vl||(vl={}));var ge;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ge||(ge={}));function Zg({pos:e,x1:t,y1:o,x2:l,y2:a}){return e===ge.Left||e===ge.Right?[.5*(t+l),o]:[t,.5*(o+a)]}function Rv({sourceX:e,sourceY:t,sourcePosition:o=ge.Bottom,targetX:l,targetY:a,targetPosition:u=ge.Top}){const[c,p]=Zg({pos:o,x1:e,y1:t,x2:l,y2:a}),[g,h]=Zg({pos:u,x1:l,y1:a,x2:e,y2:t}),[y,_,S,T]=Mv({sourceX:e,sourceY:t,targetX:l,targetY:a,sourceControlX:c,sourceControlY:p,targetControlX:g,targetControlY:h});return[`M${e},${t} C${c},${p} ${g},${h} ${l},${a}`,y,_,S,T]}const rd=X.memo(({sourceX:e,sourceY:t,targetX:o,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:u=ge.Top,label:c,labelStyle:p,labelShowBg:g,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:_,style:S,markerEnd:T,markerStart:w,interactionWidth:N})=>{const[D,R,L]=Rv({sourceX:e,sourceY:t,sourcePosition:a,targetX:o,targetY:l,targetPosition:u});return ae.createElement(Vs,{path:D,labelX:R,labelY:L,label:c,labelStyle:p,labelShowBg:g,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:_,style:S,markerEnd:T,markerStart:w,interactionWidth:N})});rd.displayName="SimpleBezierEdge";const Qg={[ge.Left]:{x:-1,y:0},[ge.Right]:{x:1,y:0},[ge.Top]:{x:0,y:-1},[ge.Bottom]:{x:0,y:1}},dN=({source:e,sourcePosition:t=ge.Bottom,target:o})=>t===ge.Left||t===ge.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},Wg=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function pN({source:e,sourcePosition:t=ge.Bottom,target:o,targetPosition:l=ge.Top,center:a,offset:u}){const c=Qg[t],p=Qg[l],g={x:e.x+c.x*u,y:e.y+c.y*u},h={x:o.x+p.x*u,y:o.y+p.y*u},y=dN({source:g,sourcePosition:t,target:h}),_=y.x!==0?"x":"y",S=y[_];let T=[],w,N;const D={x:0,y:0},R={x:0,y:0},[L,z,U,O]=wv({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(c[_]*p[_]===-1){w=a.x??L,N=a.y??z;const F=[{x:w,y:g.y},{x:w,y:h.y}],ie=[{x:g.x,y:N},{x:h.x,y:N}];c[_]===S?T=_==="x"?F:ie:T=_==="x"?ie:F}else{const F=[{x:g.x,y:h.y}],ie=[{x:h.x,y:g.y}];if(_==="x"?T=c.x===S?ie:F:T=c.y===S?F:ie,t===l){const ne=Math.abs(e[_]-o[_]);if(ne<=u){const M=Math.min(u-1,u-ne);c[_]===S?D[_]=(g[_]>e[_]?-1:1)*M:R[_]=(h[_]>o[_]?-1:1)*M}}if(t!==l){const ne=_==="x"?"y":"x",M=c[_]===p[ne],Z=g[ne]>h[ne],A=g[ne]<h[ne];(c[_]===1&&(!M&&Z||M&&A)||c[_]!==1&&(!M&&A||M&&Z))&&(T=_==="x"?F:ie)}const H={x:g.x+D.x,y:g.y+D.y},K={x:h.x+R.x,y:h.y+R.y},W=Math.max(Math.abs(H.x-T[0].x),Math.abs(K.x-T[0].x)),oe=Math.max(Math.abs(H.y-T[0].y),Math.abs(K.y-T[0].y));W>=oe?(w=(H.x+K.x)/2,N=T[0].y):(w=T[0].x,N=(H.y+K.y)/2)}return[[e,{x:g.x+D.x,y:g.y+D.y},...T,{x:h.x+R.x,y:h.y+R.y},o],w,N,U,O]}function hN(e,t,o,l){const a=Math.min(Wg(e,t)/2,Wg(t,o)/2,l),{x:u,y:c}=t;if(e.x===u&&u===o.x||e.y===c&&c===o.y)return`L${u} ${c}`;if(e.y===c){const h=e.x<o.x?-1:1,y=e.y<o.y?1:-1;return`L ${u+a*h},${c}Q ${u},${c} ${u},${c+a*y}`}const p=e.x<o.x?1:-1,g=e.y<o.y?-1:1;return`L ${u},${c+a*g}Q ${u},${c} ${u+a*p},${c}`}function kf({sourceX:e,sourceY:t,sourcePosition:o=ge.Bottom,targetX:l,targetY:a,targetPosition:u=ge.Top,borderRadius:c=5,centerX:p,centerY:g,offset:h=20}){const[y,_,S,T,w]=pN({source:{x:e,y:t},sourcePosition:o,target:{x:l,y:a},targetPosition:u,center:{x:p,y:g},offset:h});return[y.reduce((D,R,L)=>{let z="";return L>0&&L<y.length-1?z=hN(y[L-1],R,y[L+1],c):z=`${L===0?"M":"L"}${R.x} ${R.y}`,D+=z,D},""),_,S,T,w]}const Fr=X.memo(({sourceX:e,sourceY:t,targetX:o,targetY:l,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h,style:y,sourcePosition:_=ge.Bottom,targetPosition:S=ge.Top,markerEnd:T,markerStart:w,pathOptions:N,interactionWidth:D})=>{const[R,L,z]=kf({sourceX:e,sourceY:t,sourcePosition:_,targetX:o,targetY:l,targetPosition:S,borderRadius:N==null?void 0:N.borderRadius,offset:N==null?void 0:N.offset});return ae.createElement(Vs,{path:R,labelX:L,labelY:z,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h,style:y,markerEnd:T,markerStart:w,interactionWidth:D})});Fr.displayName="SmoothStepEdge";const ud=X.memo(e=>{var t;return ae.createElement(Fr,{...e,pathOptions:X.useMemo(()=>{var o;return{borderRadius:0,offset:(o=e.pathOptions)==null?void 0:o.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});ud.displayName="StepEdge";function mN({sourceX:e,sourceY:t,targetX:o,targetY:l}){const[a,u,c,p]=wv({sourceX:e,sourceY:t,targetX:o,targetY:l});return[`M ${e},${t}L ${o},${l}`,a,u,c,p]}const cd=X.memo(({sourceX:e,sourceY:t,targetX:o,targetY:l,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h,style:y,markerEnd:_,markerStart:S,interactionWidth:T})=>{const[w,N,D]=mN({sourceX:e,sourceY:t,targetX:o,targetY:l});return ae.createElement(Vs,{path:w,labelX:N,labelY:D,label:a,labelStyle:u,labelShowBg:c,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:h,style:y,markerEnd:_,markerStart:S,interactionWidth:T})});cd.displayName="StraightEdge";function mr(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function jg({pos:e,x1:t,y1:o,x2:l,y2:a,c:u}){switch(e){case ge.Left:return[t-mr(t-l,u),o];case ge.Right:return[t+mr(l-t,u),o];case ge.Top:return[t,o-mr(o-a,u)];case ge.Bottom:return[t,o+mr(a-o,u)]}}function bv({sourceX:e,sourceY:t,sourcePosition:o=ge.Bottom,targetX:l,targetY:a,targetPosition:u=ge.Top,curvature:c=.25}){const[p,g]=jg({pos:o,x1:e,y1:t,x2:l,y2:a,c}),[h,y]=jg({pos:u,x1:l,y1:a,x2:e,y2:t,c}),[_,S,T,w]=Mv({sourceX:e,sourceY:t,targetX:l,targetY:a,sourceControlX:p,sourceControlY:g,targetControlX:h,targetControlY:y});return[`M${e},${t} C${p},${g} ${h},${y} ${l},${a}`,_,S,T,w]}const Ur=X.memo(({sourceX:e,sourceY:t,targetX:o,targetY:l,sourcePosition:a=ge.Bottom,targetPosition:u=ge.Top,label:c,labelStyle:p,labelShowBg:g,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:_,style:S,markerEnd:T,markerStart:w,pathOptions:N,interactionWidth:D})=>{const[R,L,z]=bv({sourceX:e,sourceY:t,sourcePosition:a,targetX:o,targetY:l,targetPosition:u,curvature:N==null?void 0:N.curvature});return ae.createElement(Vs,{path:R,labelX:L,labelY:z,label:c,labelStyle:p,labelShowBg:g,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:_,style:S,markerEnd:T,markerStart:w,interactionWidth:D})});Ur.displayName="BezierEdge";const fd=X.createContext(null),gN=fd.Provider;fd.Consumer;const yN=()=>X.useContext(fd),vN=e=>"id"in e&&"source"in e&&"target"in e,_N=({source:e,sourceHandle:t,target:o,targetHandle:l})=>`reactflow__edge-${e}${t||""}-${o}${l||""}`,qf=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(l=>`${l}=${e[l]}`).join("&")}`,SN=(e,t)=>t.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),Iv=(e,t)=>{if(!e.source||!e.target)return t;let o;return vN(e)?o={...e}:o={...e,id:_N(e)},SN(o,t)?t:t.concat(o)},Gf=({x:e,y:t},[o,l,a],u,[c,p])=>{const g={x:(e-o)/a,y:(t-l)/a};return u?{x:c*Math.round(g.x/c),y:p*Math.round(g.y/p)}:g},Dv=({x:e,y:t},[o,l,a])=>({x:e*a+o,y:t*a+l}),cl=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const o=(e.width??0)*t[0],l=(e.height??0)*t[1],a={x:e.position.x-o,y:e.position.y-l};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-l}:a}},dd=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((l,a)=>{const{x:u,y:c}=cl(a,t).positionAbsolute;return aN(l,ad({x:u,y:c,width:a.width||0,height:a.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return rN(o)},Uv=(e,t,[o,l,a]=[0,0,1],u=!1,c=!1,p=[0,0])=>{const g={x:(t.x-o)/a,y:(t.y-l)/a,width:t.width/a,height:t.height/a},h=[];return e.forEach(y=>{const{width:_,height:S,selectable:T=!0,hidden:w=!1}=y;if(c&&!T||w)return!1;const{positionAbsolute:N}=cl(y,p),D={x:N.x,y:N.y,width:_||0,height:S||0},R=Lf(g,D),L=typeof _>"u"||typeof S>"u"||_===null||S===null,z=u&&R>0,U=(_||0)*(S||0);(L||z||R>=U||y.dragging)&&h.push(y)}),h},zv=(e,t)=>{const o=e.map(l=>l.id);return t.filter(l=>o.includes(l.source)||o.includes(l.target))},Lv=(e,t,o,l,a,u=.1)=>{const c=t/(e.width*(1+u)),p=o/(e.height*(1+u)),g=Math.min(c,p),h=yl(g,l,a),y=e.x+e.width/2,_=e.y+e.height/2,S=t/2-y*h,T=o/2-_*h;return{x:S,y:T,zoom:h}},mo=(e,t=0)=>e.transition().duration(t);function ey(e,t,o,l){return(t[o]||[]).reduce((a,u)=>{var c,p;return`${e.id}-${u.id}-${o}`!==l&&a.push({id:u.id||null,type:o,nodeId:e.id,x:(((c=e.positionAbsolute)==null?void 0:c.x)??0)+u.x+u.width/2,y:(((p=e.positionAbsolute)==null?void 0:p.y)??0)+u.y+u.height/2}),a},[])}function EN(e,t,o,l,a,u){const{x:c,y:p}=Oi(e),h=t.elementsFromPoint(c,p).find(w=>w.classList.contains("react-flow__handle"));if(h){const w=h.getAttribute("data-nodeid");if(w){const N=pd(void 0,h),D=h.getAttribute("data-handleid"),R=u({nodeId:w,id:D,type:N});if(R){const L=a.find(z=>z.nodeId===w&&z.type===N&&z.id===D);return{handle:{id:D,type:N,nodeId:w,x:(L==null?void 0:L.x)||o.x,y:(L==null?void 0:L.y)||o.y},validHandleResult:R}}}}let y=[],_=1/0;if(a.forEach(w=>{const N=Math.sqrt((w.x-o.x)**2+(w.y-o.y)**2);if(N<=l){const D=u(w);N<=_&&(N<_?y=[{handle:w,validHandleResult:D}]:N===_&&y.push({handle:w,validHandleResult:D}),_=N)}}),!y.length)return{handle:null,validHandleResult:Hv()};if(y.length===1)return y[0];const S=y.some(({validHandleResult:w})=>w.isValid),T=y.some(({handle:w})=>w.type==="target");return y.find(({handle:w,validHandleResult:N})=>T?w.type==="target":S?N.isValid:!0)||y[0]}const TN={source:null,target:null,sourceHandle:null,targetHandle:null},Hv=()=>({handleDomNode:null,isValid:!1,connection:TN,endHandle:null});function kv(e,t,o,l,a,u,c){const p=a==="target",g=c.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),h={...Hv(),handleDomNode:g};if(g){const y=pd(void 0,g),_=g.getAttribute("data-nodeid"),S=g.getAttribute("data-handleid"),T=g.classList.contains("connectable"),w=g.classList.contains("connectableend"),N={source:p?_:o,sourceHandle:p?S:l,target:p?o:_,targetHandle:p?l:S};h.connection=N,T&&w&&(t===So.Strict?p&&y==="source"||!p&&y==="target":_!==o||S!==l)&&(h.endHandle={nodeId:_,handleId:S,type:y},h.isValid=u(N))}return h}function CN({nodes:e,nodeId:t,handleId:o,handleType:l}){return e.reduce((a,u)=>{if(u[tt]){const{handleBounds:c}=u[tt];let p=[],g=[];c&&(p=ey(u,c,"source",`${t}-${o}-${l}`),g=ey(u,c,"target",`${t}-${o}-${l}`)),a.push(...p,...g)}return a},[])}function pd(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Tf(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function xN(e,t){let o=null;return t?o="valid":e&&!t&&(o="invalid"),o}function qv({event:e,handleId:t,nodeId:o,onConnect:l,isTarget:a,getState:u,setState:c,isValidConnection:p,edgeUpdaterType:g,onReconnectEnd:h}){const y=xv(e.target),{connectionMode:_,domNode:S,autoPanOnConnect:T,connectionRadius:w,onConnectStart:N,panBy:D,getNodes:R,cancelConnection:L}=u();let z=0,U;const{x:O,y:Y}=Oi(e),F=y==null?void 0:y.elementFromPoint(O,Y),ie=pd(g,F),H=S==null?void 0:S.getBoundingClientRect();if(!H||!ie)return;let K,W=Oi(e,H),oe=!1,ne=null,M=!1,Z=null;const A=CN({nodes:R(),nodeId:o,handleId:t,handleType:ie}),V=()=>{if(!T)return;const[j,x]=Cv(W,H);D({x:j,y:x}),z=requestAnimationFrame(V)};c({connectionPosition:W,connectionStatus:null,connectionNodeId:o,connectionHandleId:t,connectionHandleType:ie,connectionStartHandle:{nodeId:o,handleId:t,type:ie},connectionEndHandle:null}),N==null||N(e,{nodeId:o,handleId:t,handleType:ie});function B(j){const{transform:x}=u();W=Oi(j,H);const{handle:k,validHandleResult:te}=EN(j,y,Gf(W,x,!1,[1,1]),w,A,le=>kv(le,_,o,t,a?"target":"source",p,y));if(U=k,oe||(V(),oe=!0),Z=te.handleDomNode,ne=te.connection,M=te.isValid,c({connectionPosition:U&&M?Dv({x:U.x,y:U.y},x):W,connectionStatus:xN(!!U,M),connectionEndHandle:te.endHandle}),!U&&!M&&!Z)return Tf(K);ne.source!==ne.target&&Z&&(Tf(K),K=Z,Z.classList.add("connecting","react-flow__handle-connecting"),Z.classList.toggle("valid",M),Z.classList.toggle("react-flow__handle-valid",M))}function q(j){var x,k;(U||Z)&&ne&&M&&(l==null||l(ne)),(k=(x=u()).onConnectEnd)==null||k.call(x,j),g&&(h==null||h(j)),Tf(K),L(),cancelAnimationFrame(z),oe=!1,M=!1,ne=null,Z=null,y.removeEventListener("mousemove",B),y.removeEventListener("mouseup",q),y.removeEventListener("touchmove",B),y.removeEventListener("touchend",q)}y.addEventListener("mousemove",B),y.addEventListener("mouseup",q),y.addEventListener("touchmove",B),y.addEventListener("touchend",q)}const ty=()=>!0,AN=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),NN=(e,t,o)=>l=>{const{connectionStartHandle:a,connectionEndHandle:u,connectionClickStartHandle:c}=l;return{connecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===o||(u==null?void 0:u.nodeId)===e&&(u==null?void 0:u.handleId)===t&&(u==null?void 0:u.type)===o,clickConnecting:(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.handleId)===t&&(c==null?void 0:c.type)===o}},Gv=X.forwardRef(({type:e="source",position:t=ge.Top,isValidConnection:o,isConnectable:l=!0,isConnectableStart:a=!0,isConnectableEnd:u=!0,id:c,onConnect:p,children:g,className:h,onMouseDown:y,onTouchStart:_,...S},T)=>{var H,K;const w=c||null,N=e==="target",D=mt(),R=yN(),{connectOnClick:L,noPanClassName:z}=We(AN,wt),{connecting:U,clickConnecting:O}=We(NN(R,w,e),wt);R||(K=(H=D.getState()).onError)==null||K.call(H,"010",ii.error010());const Y=W=>{const{defaultEdgeOptions:oe,onConnect:ne,hasDefaultEdges:M}=D.getState(),Z={...oe,...W};if(M){const{edges:A,setEdges:V}=D.getState();V(Iv(Z,A))}ne==null||ne(Z),p==null||p(Z)},F=W=>{if(!R)return;const oe=Nv(W);a&&(oe&&W.button===0||!oe)&&qv({event:W,handleId:w,nodeId:R,onConnect:Y,isTarget:N,getState:D.getState,setState:D.setState,isValidConnection:o||D.getState().isValidConnection||ty}),oe?y==null||y(W):_==null||_(W)},ie=W=>{const{onClickConnectStart:oe,onClickConnectEnd:ne,connectionClickStartHandle:M,connectionMode:Z,isValidConnection:A}=D.getState();if(!R||!M&&!a)return;if(!M){oe==null||oe(W,{nodeId:R,handleId:w,handleType:e}),D.setState({connectionClickStartHandle:{nodeId:R,type:e,handleId:w}});return}const V=xv(W.target),B=o||A||ty,{connection:q,isValid:j}=kv({nodeId:R,id:w,type:e},Z,M.nodeId,M.handleId||null,M.type,B,V);j&&Y(q),ne==null||ne(W),D.setState({connectionClickStartHandle:null})};return ae.createElement("div",{"data-handleid":w,"data-nodeid":R,"data-handlepos":t,"data-id":`${R}-${w}-${e}`,className:bt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",z,h,{source:!N,target:N,connectable:l,connectablestart:a,connectableend:u,connecting:O,connectionindicator:l&&(a&&!U||u&&U)}]),onMouseDown:F,onTouchStart:F,onClick:L?ie:void 0,ref:T,...S},g)});Gv.displayName="Handle";var _l=X.memo(Gv);const Vv=({data:e,isConnectable:t,targetPosition:o=ge.Top,sourcePosition:l=ge.Bottom})=>ae.createElement(ae.Fragment,null,ae.createElement(_l,{type:"target",position:o,isConnectable:t}),e==null?void 0:e.label,ae.createElement(_l,{type:"source",position:l,isConnectable:t}));Vv.displayName="DefaultNode";var Vf=X.memo(Vv);const Pv=({data:e,isConnectable:t,sourcePosition:o=ge.Bottom})=>ae.createElement(ae.Fragment,null,e==null?void 0:e.label,ae.createElement(_l,{type:"source",position:o,isConnectable:t}));Pv.displayName="InputNode";var Bv=X.memo(Pv);const Fv=({data:e,isConnectable:t,targetPosition:o=ge.Top})=>ae.createElement(ae.Fragment,null,ae.createElement(_l,{type:"target",position:o,isConnectable:t}),e==null?void 0:e.label);Fv.displayName="OutputNode";var Ov=X.memo(Fv);const hd=()=>null;hd.displayName="GroupNode";const wN=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),gr=e=>e.id;function MN(e,t){return wt(e.selectedNodes.map(gr),t.selectedNodes.map(gr))&&wt(e.selectedEdges.map(gr),t.selectedEdges.map(gr))}const Yv=X.memo(({onSelectionChange:e})=>{const t=mt(),{selectedNodes:o,selectedEdges:l}=We(wN,MN);return X.useEffect(()=>{const a={nodes:o,edges:l};e==null||e(a),t.getState().onSelectionChange.forEach(u=>u(a))},[o,l,e]),null});Yv.displayName="SelectionListener";const RN=e=>!!e.onSelectionChange;function bN({onSelectionChange:e}){const t=We(RN);return e||t?ae.createElement(Yv,{onSelectionChange:e}):null}const IN=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function nl(e,t){X.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ae(e,t,o){X.useEffect(()=>{typeof t<"u"&&o({[e]:t})},[t])}const DN=({nodes:e,edges:t,defaultNodes:o,defaultEdges:l,onConnect:a,onConnectStart:u,onConnectEnd:c,onClickConnectStart:p,onClickConnectEnd:g,nodesDraggable:h,nodesConnectable:y,nodesFocusable:_,edgesFocusable:S,edgesUpdatable:T,elevateNodesOnSelect:w,minZoom:N,maxZoom:D,nodeExtent:R,onNodesChange:L,onEdgesChange:z,elementsSelectable:U,connectionMode:O,snapGrid:Y,snapToGrid:F,translateExtent:ie,connectOnClick:H,defaultEdgeOptions:K,fitView:W,fitViewOptions:oe,onNodesDelete:ne,onEdgesDelete:M,onNodeDrag:Z,onNodeDragStart:A,onNodeDragStop:V,onSelectionDrag:B,onSelectionDragStart:q,onSelectionDragStop:j,noPanClassName:x,nodeOrigin:k,rfId:te,autoPanOnConnect:le,autoPanOnNodeDrag:ce,onError:de,connectionRadius:he,isValidConnection:Te,nodeDragThreshold:Se})=>{const{setNodes:ze,setEdges:Tt,setDefaultNodesAndEdges:Ct,setMinZoom:It,setMaxZoom:lt,setTranslateExtent:Ke,setNodeExtent:Dt,reset:Be}=We(IN,wt),ye=mt();return X.useEffect(()=>{const gt=l==null?void 0:l.map(fn=>({...fn,...K}));return Ct(o,gt),()=>{Be()}},[]),Ae("defaultEdgeOptions",K,ye.setState),Ae("connectionMode",O,ye.setState),Ae("onConnect",a,ye.setState),Ae("onConnectStart",u,ye.setState),Ae("onConnectEnd",c,ye.setState),Ae("onClickConnectStart",p,ye.setState),Ae("onClickConnectEnd",g,ye.setState),Ae("nodesDraggable",h,ye.setState),Ae("nodesConnectable",y,ye.setState),Ae("nodesFocusable",_,ye.setState),Ae("edgesFocusable",S,ye.setState),Ae("edgesUpdatable",T,ye.setState),Ae("elementsSelectable",U,ye.setState),Ae("elevateNodesOnSelect",w,ye.setState),Ae("snapToGrid",F,ye.setState),Ae("snapGrid",Y,ye.setState),Ae("onNodesChange",L,ye.setState),Ae("onEdgesChange",z,ye.setState),Ae("connectOnClick",H,ye.setState),Ae("fitViewOnInit",W,ye.setState),Ae("fitViewOnInitOptions",oe,ye.setState),Ae("onNodesDelete",ne,ye.setState),Ae("onEdgesDelete",M,ye.setState),Ae("onNodeDrag",Z,ye.setState),Ae("onNodeDragStart",A,ye.setState),Ae("onNodeDragStop",V,ye.setState),Ae("onSelectionDrag",B,ye.setState),Ae("onSelectionDragStart",q,ye.setState),Ae("onSelectionDragStop",j,ye.setState),Ae("noPanClassName",x,ye.setState),Ae("nodeOrigin",k,ye.setState),Ae("rfId",te,ye.setState),Ae("autoPanOnConnect",le,ye.setState),Ae("autoPanOnNodeDrag",ce,ye.setState),Ae("onError",de,ye.setState),Ae("connectionRadius",he,ye.setState),Ae("isValidConnection",Te,ye.setState),Ae("nodeDragThreshold",Se,ye.setState),nl(e,ze),nl(t,Tt),nl(N,It),nl(D,lt),nl(ie,Ke),nl(R,Dt),null},ny={display:"none"},UN={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Jv="react-flow__node-desc",Xv="react-flow__edge-desc",zN="react-flow__aria-live",LN=e=>e.ariaLiveMessage;function HN({rfId:e}){const t=We(LN);return ae.createElement("div",{id:`${zN}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:UN},t)}function kN({rfId:e,disableKeyboardA11y:t}){return ae.createElement(ae.Fragment,null,ae.createElement("div",{id:`${Jv}-${e}`,style:ny},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ae.createElement("div",{id:`${Xv}-${e}`,style:ny},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ae.createElement(HN,{rfId:e}))}var Hs=(e=null,t={actInsideInputWithModifier:!0})=>{const[o,l]=X.useState(!1),a=X.useRef(!1),u=X.useRef(new Set([])),[c,p]=X.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(_=>typeof _=="string").map(_=>_.split("+")),y=h.reduce((_,S)=>_.concat(...S),[]);return[h,y]}return[[],[]]},[e]);return X.useEffect(()=>{const g=typeof document<"u"?document:null,h=(t==null?void 0:t.target)||g;if(e!==null){const y=T=>{if(a.current=T.ctrlKey||T.metaKey||T.shiftKey,(!a.current||a.current&&!t.actInsideInputWithModifier)&&Hf(T))return!1;const N=oy(T.code,p);u.current.add(T[N]),iy(c,u.current,!1)&&(T.preventDefault(),l(!0))},_=T=>{if((!a.current||a.current&&!t.actInsideInputWithModifier)&&Hf(T))return!1;const N=oy(T.code,p);iy(c,u.current,!0)?(l(!1),u.current.clear()):u.current.delete(T[N]),T.key==="Meta"&&u.current.clear(),a.current=!1},S=()=>{u.current.clear(),l(!1)};return h==null||h.addEventListener("keydown",y),h==null||h.addEventListener("keyup",_),window.addEventListener("blur",S),()=>{h==null||h.removeEventListener("keydown",y),h==null||h.removeEventListener("keyup",_),window.removeEventListener("blur",S)}}},[e,l]),o};function iy(e,t,o){return e.filter(l=>o||l.length===t.size).some(l=>l.every(a=>t.has(a)))}function oy(e,t){return t.includes(e)?"code":"key"}function $v(e,t,o,l){var p,g;const a=e.parentNode||e.parentId;if(!a)return o;const u=t.get(a),c=cl(u,l);return $v(u,t,{x:(o.x??0)+c.x,y:(o.y??0)+c.y,z:(((p=u[tt])==null?void 0:p.z)??0)>(o.z??0)?((g=u[tt])==null?void 0:g.z)??0:o.z??0},l)}function Kv(e,t,o){e.forEach(l=>{var u;const a=l.parentNode||l.parentId;if(a&&!e.has(a))throw new Error(`Parent node ${a} not found`);if(a||o!=null&&o[l.id]){const{x:c,y:p,z:g}=$v(l,e,{...l.position,z:((u=l[tt])==null?void 0:u.z)??0},t);l.positionAbsolute={x:c,y:p},l[tt].z=g,o!=null&&o[l.id]&&(l[tt].isParent=!0)}})}function Cf(e,t,o,l){const a=new Map,u={},c=l?1e3:0;return e.forEach(p=>{var T;const g=(un(p.zIndex)?p.zIndex:0)+(p.selected?c:0),h=t.get(p.id),y={...p,positionAbsolute:{x:p.position.x,y:p.position.y}},_=p.parentNode||p.parentId;_&&(u[_]=!0);const S=(h==null?void 0:h.type)&&(h==null?void 0:h.type)!==p.type;Object.defineProperty(y,tt,{enumerable:!1,value:{handleBounds:S||(T=h==null?void 0:h[tt])==null?void 0:T.handleBounds,z:g}}),a.set(p.id,y)}),Kv(a,o,u),a}function Zv(e,t={}){const{getNodes:o,width:l,height:a,minZoom:u,maxZoom:c,d3Zoom:p,d3Selection:g,fitViewOnInitDone:h,fitViewOnInit:y,nodeOrigin:_}=e(),S=t.initial&&!h&&y;if(p&&g&&(S||!t.initial)){const w=o().filter(D=>{var L;const R=t.includeHiddenNodes?D.width&&D.height:!D.hidden;return(L=t.nodes)!=null&&L.length?R&&t.nodes.some(z=>z.id===D.id):R}),N=w.every(D=>D.width&&D.height);if(w.length>0&&N){const D=dd(w,_),{x:R,y:L,zoom:z}=Lv(D,l,a,t.minZoom??u,t.maxZoom??c,t.padding??.1),U=Fi.translate(R,L).scale(z);return typeof t.duration=="number"&&t.duration>0?p.transform(mo(g,t.duration),U):p.transform(g,U),!0}}return!1}function qN(e,t){return e.forEach(o=>{const l=t.get(o.id);l&&t.set(l.id,{...l,[tt]:l[tt],selected:o.selected})}),new Map(t)}function GN(e,t){return t.map(o=>{const l=e.find(a=>a.id===o.id);return l&&(o.selected=l.selected),o})}function yr({changedNodes:e,changedEdges:t,get:o,set:l}){const{nodeInternals:a,edges:u,onNodesChange:c,onEdgesChange:p,hasDefaultNodes:g,hasDefaultEdges:h}=o();e!=null&&e.length&&(g&&l({nodeInternals:qN(e,a)}),c==null||c(e)),t!=null&&t.length&&(h&&l({edges:GN(t,u)}),p==null||p(t))}const il=()=>{},VN={zoomIn:il,zoomOut:il,zoomTo:il,getZoom:()=>1,setViewport:il,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:il,fitBounds:il,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},PN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),BN=()=>{const e=mt(),{d3Zoom:t,d3Selection:o}=We(PN,wt);return X.useMemo(()=>o&&t?{zoomIn:a=>t.scaleBy(mo(o,a==null?void 0:a.duration),1.2),zoomOut:a=>t.scaleBy(mo(o,a==null?void 0:a.duration),1/1.2),zoomTo:(a,u)=>t.scaleTo(mo(o,u==null?void 0:u.duration),a),getZoom:()=>e.getState().transform[2],setViewport:(a,u)=>{const[c,p,g]=e.getState().transform,h=Fi.translate(a.x??c,a.y??p).scale(a.zoom??g);t.transform(mo(o,u==null?void 0:u.duration),h)},getViewport:()=>{const[a,u,c]=e.getState().transform;return{x:a,y:u,zoom:c}},fitView:a=>Zv(e.getState,a),setCenter:(a,u,c)=>{const{width:p,height:g,maxZoom:h}=e.getState(),y=typeof(c==null?void 0:c.zoom)<"u"?c.zoom:h,_=p/2-a*y,S=g/2-u*y,T=Fi.translate(_,S).scale(y);t.transform(mo(o,c==null?void 0:c.duration),T)},fitBounds:(a,u)=>{const{width:c,height:p,minZoom:g,maxZoom:h}=e.getState(),{x:y,y:_,zoom:S}=Lv(a,c,p,g,h,(u==null?void 0:u.padding)??.1),T=Fi.translate(y,_).scale(S);t.transform(mo(o,u==null?void 0:u.duration),T)},project:a=>{const{transform:u,snapToGrid:c,snapGrid:p}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Gf(a,u,c,p)},screenToFlowPosition:a=>{const{transform:u,snapToGrid:c,snapGrid:p,domNode:g}=e.getState();if(!g)return a;const{x:h,y}=g.getBoundingClientRect(),_={x:a.x-h,y:a.y-y};return Gf(_,u,c,p)},flowToScreenPosition:a=>{const{transform:u,domNode:c}=e.getState();if(!c)return a;const{x:p,y:g}=c.getBoundingClientRect(),h=Dv(a,u);return{x:h.x+p,y:h.y+g}},viewportInitialized:!0}:VN,[t,o])};function md(){const e=BN(),t=mt(),o=X.useCallback(()=>t.getState().getNodes().map(N=>({...N})),[]),l=X.useCallback(N=>t.getState().nodeInternals.get(N),[]),a=X.useCallback(()=>{const{edges:N=[]}=t.getState();return N.map(D=>({...D}))},[]),u=X.useCallback(N=>{const{edges:D=[]}=t.getState();return D.find(R=>R.id===N)},[]),c=X.useCallback(N=>{const{getNodes:D,setNodes:R,hasDefaultNodes:L,onNodesChange:z}=t.getState(),U=D(),O=typeof N=="function"?N(U):N;if(L)R(O);else if(z){const Y=O.length===0?U.map(F=>({type:"remove",id:F.id})):O.map(F=>({item:F,type:"reset"}));z(Y)}},[]),p=X.useCallback(N=>{const{edges:D=[],setEdges:R,hasDefaultEdges:L,onEdgesChange:z}=t.getState(),U=typeof N=="function"?N(D):N;if(L)R(U);else if(z){const O=U.length===0?D.map(Y=>({type:"remove",id:Y.id})):U.map(Y=>({item:Y,type:"reset"}));z(O)}},[]),g=X.useCallback(N=>{const D=Array.isArray(N)?N:[N],{getNodes:R,setNodes:L,hasDefaultNodes:z,onNodesChange:U}=t.getState();if(z){const Y=[...R(),...D];L(Y)}else if(U){const O=D.map(Y=>({item:Y,type:"add"}));U(O)}},[]),h=X.useCallback(N=>{const D=Array.isArray(N)?N:[N],{edges:R=[],setEdges:L,hasDefaultEdges:z,onEdgesChange:U}=t.getState();if(z)L([...R,...D]);else if(U){const O=D.map(Y=>({item:Y,type:"add"}));U(O)}},[]),y=X.useCallback(()=>{const{getNodes:N,edges:D=[],transform:R}=t.getState(),[L,z,U]=R;return{nodes:N().map(O=>({...O})),edges:D.map(O=>({...O})),viewport:{x:L,y:z,zoom:U}}},[]),_=X.useCallback(({nodes:N,edges:D})=>{const{nodeInternals:R,getNodes:L,edges:z,hasDefaultNodes:U,hasDefaultEdges:O,onNodesDelete:Y,onEdgesDelete:F,onNodesChange:ie,onEdgesChange:H}=t.getState(),K=(N||[]).map(Z=>Z.id),W=(D||[]).map(Z=>Z.id),oe=L().reduce((Z,A)=>{const V=A.parentNode||A.parentId,B=!K.includes(A.id)&&V&&Z.find(j=>j.id===V);return(typeof A.deletable=="boolean"?A.deletable:!0)&&(K.includes(A.id)||B)&&Z.push(A),Z},[]),ne=z.filter(Z=>typeof Z.deletable=="boolean"?Z.deletable:!0),M=ne.filter(Z=>W.includes(Z.id));if(oe||M){const Z=zv(oe,ne),A=[...M,...Z],V=A.reduce((B,q)=>(B.includes(q.id)||B.push(q.id),B),[]);if((O||U)&&(O&&t.setState({edges:z.filter(B=>!V.includes(B.id))}),U&&(oe.forEach(B=>{R.delete(B.id)}),t.setState({nodeInternals:new Map(R)}))),V.length>0&&(F==null||F(A),H&&H(V.map(B=>({id:B,type:"remove"})))),oe.length>0&&(Y==null||Y(oe),ie)){const B=oe.map(q=>({id:q.id,type:"remove"}));ie(B)}}},[]),S=X.useCallback(N=>{const D=uN(N),R=D?null:t.getState().nodeInternals.get(N.id);return!D&&!R?[null,null,D]:[D?N:Kg(R),R,D]},[]),T=X.useCallback((N,D=!0,R)=>{const[L,z,U]=S(N);return L?(R||t.getState().getNodes()).filter(O=>{if(!U&&(O.id===z.id||!O.positionAbsolute))return!1;const Y=Kg(O),F=Lf(Y,L);return D&&F>0||F>=L.width*L.height}):[]},[]),w=X.useCallback((N,D,R=!0)=>{const[L]=S(N);if(!L)return!1;const z=Lf(L,D);return R&&z>0||z>=L.width*L.height},[]);return X.useMemo(()=>({...e,getNodes:o,getNode:l,getEdges:a,getEdge:u,setNodes:c,setEdges:p,addNodes:g,addEdges:h,toObject:y,deleteElements:_,getIntersectingNodes:T,isNodeIntersecting:w}),[e,o,l,a,u,c,p,g,h,y,_,T,w])}const FN={actInsideInputWithModifier:!1};var ON=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const o=mt(),{deleteElements:l}=md(),a=Hs(e,FN),u=Hs(t);X.useEffect(()=>{if(a){const{edges:c,getNodes:p}=o.getState(),g=p().filter(y=>y.selected),h=c.filter(y=>y.selected);l({nodes:g,edges:h}),o.setState({nodesSelectionActive:!1})}},[a]),X.useEffect(()=>{o.setState({multiSelectionActive:u})},[u])};function YN(e){const t=mt();X.useEffect(()=>{let o;const l=()=>{var u,c;if(!e.current)return;const a=ld(e.current);(a.height===0||a.width===0)&&((c=(u=t.getState()).onError)==null||c.call(u,"004",ii.error004())),t.setState({width:a.width||500,height:a.height||500})};return l(),window.addEventListener("resize",l),e.current&&(o=new ResizeObserver(()=>l()),o.observe(e.current)),()=>{window.removeEventListener("resize",l),o&&e.current&&o.unobserve(e.current)}},[])}const gd={position:"absolute",width:"100%",height:"100%",top:0,left:0},JN=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,vr=e=>({x:e.x,y:e.y,zoom:e.k}),ol=(e,t)=>e.target.closest(`.${t}`),ly=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),sy=e=>{const t=e.ctrlKey&&Dr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},XN=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),$N=({onMove:e,onMoveStart:t,onMoveEnd:o,onPaneContextMenu:l,zoomOnScroll:a=!0,zoomOnPinch:u=!0,panOnScroll:c=!1,panOnScrollSpeed:p=.5,panOnScrollMode:g=yo.Free,zoomOnDoubleClick:h=!0,elementsSelectable:y,panOnDrag:_=!0,defaultViewport:S,translateExtent:T,minZoom:w,maxZoom:N,zoomActivationKeyCode:D,preventScrolling:R=!0,children:L,noWheelClassName:z,noPanClassName:U})=>{const O=X.useRef(),Y=mt(),F=X.useRef(!1),ie=X.useRef(!1),H=X.useRef(null),K=X.useRef({x:0,y:0,zoom:0}),{d3Zoom:W,d3Selection:oe,d3ZoomHandler:ne,userSelectionActive:M}=We(XN,wt),Z=Hs(D),A=X.useRef(0),V=X.useRef(!1),B=X.useRef();return YN(H),X.useEffect(()=>{if(H.current){const q=H.current.getBoundingClientRect(),j=tN().scaleExtent([w,N]).translateExtent(T),x=gn(H.current).call(j),k=Fi.translate(S.x,S.y).scale(yl(S.zoom,w,N)),te=[[0,0],[q.width,q.height]],le=j.constrain()(k,te,T);j.transform(x,le),j.wheelDelta(sy),Y.setState({d3Zoom:j,d3Selection:x,d3ZoomHandler:x.on("wheel.zoom"),transform:[le.x,le.y,le.k],domNode:H.current.closest(".react-flow")})}},[]),X.useEffect(()=>{oe&&W&&(c&&!Z&&!M?oe.on("wheel.zoom",q=>{if(ol(q,z))return!1;q.preventDefault(),q.stopImmediatePropagation();const j=oe.property("__zoom").k||1;if(q.ctrlKey&&u){const Te=Rn(q),Se=sy(q),ze=j*Math.pow(2,Se);W.scaleTo(oe,ze,Te,q);return}const x=q.deltaMode===1?20:1;let k=g===yo.Vertical?0:q.deltaX*x,te=g===yo.Horizontal?0:q.deltaY*x;!Dr()&&q.shiftKey&&g!==yo.Vertical&&(k=q.deltaY*x,te=0),W.translateBy(oe,-(k/j)*p,-(te/j)*p,{internal:!0});const le=vr(oe.property("__zoom")),{onViewportChangeStart:ce,onViewportChange:de,onViewportChangeEnd:he}=Y.getState();clearTimeout(B.current),V.current||(V.current=!0,t==null||t(q,le),ce==null||ce(le)),V.current&&(e==null||e(q,le),de==null||de(le),B.current=setTimeout(()=>{o==null||o(q,le),he==null||he(le),V.current=!1},150))},{passive:!1}):typeof ne<"u"&&oe.on("wheel.zoom",function(q,j){if(!R&&q.type==="wheel"&&!q.ctrlKey||ol(q,z))return null;q.preventDefault(),ne.call(this,q,j)},{passive:!1}))},[M,c,g,oe,W,ne,Z,u,R,z,t,e,o]),X.useEffect(()=>{W&&W.on("start",q=>{var k,te;if(!q.sourceEvent||q.sourceEvent.internal)return null;A.current=(k=q.sourceEvent)==null?void 0:k.button;const{onViewportChangeStart:j}=Y.getState(),x=vr(q.transform);F.current=!0,K.current=x,((te=q.sourceEvent)==null?void 0:te.type)==="mousedown"&&Y.setState({paneDragging:!0}),j==null||j(x),t==null||t(q.sourceEvent,x)})},[W,t]),X.useEffect(()=>{W&&(M&&!F.current?W.on("zoom",null):M||W.on("zoom",q=>{var x;const{onViewportChange:j}=Y.getState();if(Y.setState({transform:[q.transform.x,q.transform.y,q.transform.k]}),ie.current=!!(l&&ly(_,A.current??0)),(e||j)&&!((x=q.sourceEvent)!=null&&x.internal)){const k=vr(q.transform);j==null||j(k),e==null||e(q.sourceEvent,k)}}))},[M,W,e,_,l]),X.useEffect(()=>{W&&W.on("end",q=>{if(!q.sourceEvent||q.sourceEvent.internal)return null;const{onViewportChangeEnd:j}=Y.getState();if(F.current=!1,Y.setState({paneDragging:!1}),l&&ly(_,A.current??0)&&!ie.current&&l(q.sourceEvent),ie.current=!1,(o||j)&&JN(K.current,q.transform)){const x=vr(q.transform);K.current=x,clearTimeout(O.current),O.current=setTimeout(()=>{j==null||j(x),o==null||o(q.sourceEvent,x)},c?150:0)}})},[W,c,_,o,l]),X.useEffect(()=>{W&&W.filter(q=>{const j=Z||a,x=u&&q.ctrlKey;if((_===!0||Array.isArray(_)&&_.includes(1))&&q.button===1&&q.type==="mousedown"&&(ol(q,"react-flow__node")||ol(q,"react-flow__edge")))return!0;if(!_&&!j&&!c&&!h&&!u||M||!h&&q.type==="dblclick"||ol(q,z)&&q.type==="wheel"||ol(q,U)&&(q.type!=="wheel"||c&&q.type==="wheel"&&!Z)||!u&&q.ctrlKey&&q.type==="wheel"||!j&&!c&&!x&&q.type==="wheel"||!_&&(q.type==="mousedown"||q.type==="touchstart")||Array.isArray(_)&&!_.includes(q.button)&&q.type==="mousedown")return!1;const k=Array.isArray(_)&&_.includes(q.button)||!q.button||q.button<=1;return(!q.ctrlKey||q.type==="wheel")&&k})},[M,W,a,u,c,h,_,y,Z]),ae.createElement("div",{className:"react-flow__renderer",ref:H,style:gd},L)},KN=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ZN(){const{userSelectionActive:e,userSelectionRect:t}=We(KN,wt);return e&&t?ae.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function ay(e,t){const o=t.parentNode||t.parentId,l=e.find(a=>a.id===o);if(l){const a=t.position.x+t.width-l.width,u=t.position.y+t.height-l.height;if(a>0||u>0||t.position.x<0||t.position.y<0){if(l.style={...l.style},l.style.width=l.style.width??l.width,l.style.height=l.style.height??l.height,a>0&&(l.style.width+=a),u>0&&(l.style.height+=u),t.position.x<0){const c=Math.abs(t.position.x);l.position.x=l.position.x-c,l.style.width+=c,t.position.x=0}if(t.position.y<0){const c=Math.abs(t.position.y);l.position.y=l.position.y-c,l.style.height+=c,t.position.y=0}l.width=l.style.width,l.height=l.style.height}}}function Qv(e,t){if(e.some(l=>l.type==="reset"))return e.filter(l=>l.type==="reset").map(l=>l.item);const o=e.filter(l=>l.type==="add").map(l=>l.item);return t.reduce((l,a)=>{const u=e.filter(p=>p.id===a.id);if(u.length===0)return l.push(a),l;const c={...a};for(const p of u)if(p)switch(p.type){case"select":{c.selected=p.selected;break}case"position":{typeof p.position<"u"&&(c.position=p.position),typeof p.positionAbsolute<"u"&&(c.positionAbsolute=p.positionAbsolute),typeof p.dragging<"u"&&(c.dragging=p.dragging),c.expandParent&&ay(l,c);break}case"dimensions":{typeof p.dimensions<"u"&&(c.width=p.dimensions.width,c.height=p.dimensions.height),typeof p.updateStyle<"u"&&(c.style={...c.style||{},...p.dimensions}),typeof p.resizing=="boolean"&&(c.resizing=p.resizing),c.expandParent&&ay(l,c);break}case"remove":return l}return l.push(c),l},o)}function Wv(e,t){return Qv(e,t)}function QN(e,t){return Qv(e,t)}const Pi=(e,t)=>({id:e,type:"select",selected:t});function sl(e,t){return e.reduce((o,l)=>{const a=t.includes(l.id);return!l.selected&&a?(l.selected=!0,o.push(Pi(l.id,!0))):l.selected&&!a&&(l.selected=!1,o.push(Pi(l.id,!1))),o},[])}const xf=(e,t)=>o=>{o.target===t.current&&(e==null||e(o))},WN=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),jv=X.memo(({isSelecting:e,selectionMode:t=Ls.Full,panOnDrag:o,onSelectionStart:l,onSelectionEnd:a,onPaneClick:u,onPaneContextMenu:c,onPaneScroll:p,onPaneMouseEnter:g,onPaneMouseMove:h,onPaneMouseLeave:y,children:_})=>{const S=X.useRef(null),T=mt(),w=X.useRef(0),N=X.useRef(0),D=X.useRef(),{userSelectionActive:R,elementsSelectable:L,dragging:z}=We(WN,wt),U=()=>{T.setState({userSelectionActive:!1,userSelectionRect:null}),w.current=0,N.current=0},O=ne=>{u==null||u(ne),T.getState().resetSelectedElements(),T.setState({nodesSelectionActive:!1})},Y=ne=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){ne.preventDefault();return}c==null||c(ne)},F=p?ne=>p(ne):void 0,ie=ne=>{const{resetSelectedElements:M,domNode:Z}=T.getState();if(D.current=Z==null?void 0:Z.getBoundingClientRect(),!L||!e||ne.button!==0||ne.target!==S.current||!D.current)return;const{x:A,y:V}=Oi(ne,D.current);M(),T.setState({userSelectionRect:{width:0,height:0,startX:A,startY:V,x:A,y:V}}),l==null||l(ne)},H=ne=>{const{userSelectionRect:M,nodeInternals:Z,edges:A,transform:V,onNodesChange:B,onEdgesChange:q,nodeOrigin:j,getNodes:x}=T.getState();if(!e||!D.current||!M)return;T.setState({userSelectionActive:!0,nodesSelectionActive:!1});const k=Oi(ne,D.current),te=M.startX??0,le=M.startY??0,ce={...M,x:k.x<te?k.x:te,y:k.y<le?k.y:le,width:Math.abs(k.x-te),height:Math.abs(k.y-le)},de=x(),he=Uv(Z,ce,V,t===Ls.Partial,!0,j),Te=zv(he,A).map(ze=>ze.id),Se=he.map(ze=>ze.id);if(w.current!==Se.length){w.current=Se.length;const ze=sl(de,Se);ze.length&&(B==null||B(ze))}if(N.current!==Te.length){N.current=Te.length;const ze=sl(A,Te);ze.length&&(q==null||q(ze))}T.setState({userSelectionRect:ce})},K=ne=>{if(ne.button!==0)return;const{userSelectionRect:M}=T.getState();!R&&M&&ne.target===S.current&&(O==null||O(ne)),T.setState({nodesSelectionActive:w.current>0}),U(),a==null||a(ne)},W=ne=>{R&&(T.setState({nodesSelectionActive:w.current>0}),a==null||a(ne)),U()},oe=L&&(e||R);return ae.createElement("div",{className:bt(["react-flow__pane",{dragging:z,selection:e}]),onClick:oe?void 0:xf(O,S),onContextMenu:xf(Y,S),onWheel:xf(F,S),onMouseEnter:oe?void 0:g,onMouseDown:oe?ie:void 0,onMouseMove:oe?H:h,onMouseUp:oe?K:void 0,onMouseLeave:oe?W:y,ref:S,style:gd},_,ae.createElement(ZN,null))});jv.displayName="Pane";function e_(e,t){const o=e.parentNode||e.parentId;if(!o)return!1;const l=t.get(o);return l?l.selected?!0:e_(l,t):!1}function ry(e,t,o){let l=e;do{if(l!=null&&l.matches(t))return!0;if(l===o.current)return!1;l=l.parentElement}while(l);return!1}function jN(e,t,o,l){return Array.from(e.values()).filter(a=>(a.selected||a.id===l)&&(!a.parentNode||a.parentId||!e_(a,e))&&(a.draggable||t&&typeof a.draggable>"u")).map(a=>{var u,c;return{id:a.id,position:a.position||{x:0,y:0},positionAbsolute:a.positionAbsolute||{x:0,y:0},distance:{x:o.x-(((u=a.positionAbsolute)==null?void 0:u.x)??0),y:o.y-(((c=a.positionAbsolute)==null?void 0:c.y)??0)},delta:{x:0,y:0},extent:a.extent,parentNode:a.parentNode||a.parentId,parentId:a.parentNode||a.parentId,width:a.width,height:a.height,expandParent:a.expandParent}})}function ew(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function t_(e,t,o,l,a=[0,0],u){const c=ew(e,e.extent||l);let p=c;const g=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(g&&e.width&&e.height){const _=o.get(g),{x:S,y:T}=cl(_,a).positionAbsolute;p=_&&un(S)&&un(T)&&un(_.width)&&un(_.height)?[[S+e.width*a[0],T+e.height*a[1]],[S+_.width-e.width+e.width*a[0],T+_.height-e.height+e.height*a[1]]]:p}else u==null||u("005",ii.error005()),p=c;else if(e.extent&&g&&e.extent!=="parent"){const _=o.get(g),{x:S,y:T}=cl(_,a).positionAbsolute;p=[[e.extent[0][0]+S,e.extent[0][1]+T],[e.extent[1][0]+S,e.extent[1][1]+T]]}let h={x:0,y:0};if(g){const _=o.get(g);h=cl(_,a).positionAbsolute}const y=p&&p!=="parent"?sd(t,p):t;return{position:{x:y.x-h.x,y:y.y-h.y},positionAbsolute:y}}function Af({nodeId:e,dragItems:t,nodeInternals:o}){const l=t.map(a=>({...o.get(a.id),position:a.position,positionAbsolute:a.positionAbsolute}));return[e?l.find(a=>a.id===e):l[0],l]}const uy=(e,t,o,l)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const u=Array.from(a),c=t.getBoundingClientRect(),p={x:c.width*l[0],y:c.height*l[1]};return u.map(g=>{const h=g.getBoundingClientRect();return{id:g.getAttribute("data-handleid"),position:g.getAttribute("data-handlepos"),x:(h.left-c.left-p.x)/o,y:(h.top-c.top-p.y)/o,...ld(g)}})};function Ts(e,t,o){return o===void 0?o:l=>{const a=t().nodeInternals.get(e);a&&o(l,{...a})}}function Pf({id:e,store:t,unselect:o=!1,nodeRef:l}){const{addSelectedNodes:a,unselectNodesAndEdges:u,multiSelectionActive:c,nodeInternals:p,onError:g}=t.getState(),h=p.get(e);if(!h){g==null||g("012",ii.error012(e));return}t.setState({nodesSelectionActive:!1}),h.selected?(o||h.selected&&c)&&(u({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var y;return(y=l==null?void 0:l.current)==null?void 0:y.blur()})):a([e])}function tw(){const e=mt();return X.useCallback(({sourceEvent:o})=>{const{transform:l,snapGrid:a,snapToGrid:u}=e.getState(),c=o.touches?o.touches[0].clientX:o.clientX,p=o.touches?o.touches[0].clientY:o.clientY,g={x:(c-l[0])/l[2],y:(p-l[1])/l[2]};return{xSnapped:u?a[0]*Math.round(g.x/a[0]):g.x,ySnapped:u?a[1]*Math.round(g.y/a[1]):g.y,...g}},[])}function Nf(e){return(t,o,l)=>e==null?void 0:e(t,l)}function n_({nodeRef:e,disabled:t=!1,noDragClassName:o,handleSelector:l,nodeId:a,isSelectable:u,selectNodesOnDrag:c}){const p=mt(),[g,h]=X.useState(!1),y=X.useRef([]),_=X.useRef({x:null,y:null}),S=X.useRef(0),T=X.useRef(null),w=X.useRef({x:0,y:0}),N=X.useRef(null),D=X.useRef(!1),R=X.useRef(!1),L=X.useRef(!1),z=tw();return X.useEffect(()=>{if(e!=null&&e.current){const U=gn(e.current),O=({x:ie,y:H})=>{const{nodeInternals:K,onNodeDrag:W,onSelectionDrag:oe,updateNodePositions:ne,nodeExtent:M,snapGrid:Z,snapToGrid:A,nodeOrigin:V,onError:B}=p.getState();_.current={x:ie,y:H};let q=!1,j={x:0,y:0,x2:0,y2:0};if(y.current.length>1&&M){const k=dd(y.current,V);j=ad(k)}if(y.current=y.current.map(k=>{const te={x:ie-k.distance.x,y:H-k.distance.y};A&&(te.x=Z[0]*Math.round(te.x/Z[0]),te.y=Z[1]*Math.round(te.y/Z[1]));const le=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];y.current.length>1&&M&&!k.extent&&(le[0][0]=k.positionAbsolute.x-j.x+M[0][0],le[1][0]=k.positionAbsolute.x+(k.width??0)-j.x2+M[1][0],le[0][1]=k.positionAbsolute.y-j.y+M[0][1],le[1][1]=k.positionAbsolute.y+(k.height??0)-j.y2+M[1][1]);const ce=t_(k,te,K,le,V,B);return q=q||k.position.x!==ce.position.x||k.position.y!==ce.position.y,k.position=ce.position,k.positionAbsolute=ce.positionAbsolute,k}),!q)return;ne(y.current,!0,!0),h(!0);const x=a?W:Nf(oe);if(x&&N.current){const[k,te]=Af({nodeId:a,dragItems:y.current,nodeInternals:K});x(N.current,k,te)}},Y=()=>{if(!T.current)return;const[ie,H]=Cv(w.current,T.current);if(ie!==0||H!==0){const{transform:K,panBy:W}=p.getState();_.current.x=(_.current.x??0)-ie/K[2],_.current.y=(_.current.y??0)-H/K[2],W({x:ie,y:H})&&O(_.current)}S.current=requestAnimationFrame(Y)},F=ie=>{var V;const{nodeInternals:H,multiSelectionActive:K,nodesDraggable:W,unselectNodesAndEdges:oe,onNodeDragStart:ne,onSelectionDragStart:M}=p.getState();R.current=!0;const Z=a?ne:Nf(M);(!c||!u)&&!K&&a&&((V=H.get(a))!=null&&V.selected||oe()),a&&u&&c&&Pf({id:a,store:p,nodeRef:e});const A=z(ie);if(_.current=A,y.current=jN(H,W,A,a),Z&&y.current){const[B,q]=Af({nodeId:a,dragItems:y.current,nodeInternals:H});Z(ie.sourceEvent,B,q)}};if(t)U.on(".drag",null);else{const ie=fA().on("start",H=>{const{domNode:K,nodeDragThreshold:W}=p.getState();W===0&&F(H),L.current=!1;const oe=z(H);_.current=oe,T.current=(K==null?void 0:K.getBoundingClientRect())||null,w.current=Oi(H.sourceEvent,T.current)}).on("drag",H=>{var ne,M;const K=z(H),{autoPanOnNodeDrag:W,nodeDragThreshold:oe}=p.getState();if(H.sourceEvent.type==="touchmove"&&H.sourceEvent.touches.length>1&&(L.current=!0),!L.current){if(!D.current&&R.current&&W&&(D.current=!0,Y()),!R.current){const Z=K.xSnapped-(((ne=_==null?void 0:_.current)==null?void 0:ne.x)??0),A=K.ySnapped-(((M=_==null?void 0:_.current)==null?void 0:M.y)??0);Math.sqrt(Z*Z+A*A)>oe&&F(H)}(_.current.x!==K.xSnapped||_.current.y!==K.ySnapped)&&y.current&&R.current&&(N.current=H.sourceEvent,w.current=Oi(H.sourceEvent,T.current),O(K))}}).on("end",H=>{if(!(!R.current||L.current)&&(h(!1),D.current=!1,R.current=!1,cancelAnimationFrame(S.current),y.current)){const{updateNodePositions:K,nodeInternals:W,onNodeDragStop:oe,onSelectionDragStop:ne}=p.getState(),M=a?oe:Nf(ne);if(K(y.current,!1,!1),M){const[Z,A]=Af({nodeId:a,dragItems:y.current,nodeInternals:W});M(H.sourceEvent,Z,A)}}}).filter(H=>{const K=H.target;return!H.button&&(!o||!ry(K,`.${o}`,e))&&(!l||ry(K,l,e))});return U.call(ie),()=>{U.on(".drag",null)}}}},[e,t,o,l,u,p,a,c,z]),g}function i_(){const e=mt();return X.useCallback(o=>{const{nodeInternals:l,nodeExtent:a,updateNodePositions:u,getNodes:c,snapToGrid:p,snapGrid:g,onError:h,nodesDraggable:y}=e.getState(),_=c().filter(L=>L.selected&&(L.draggable||y&&typeof L.draggable>"u")),S=p?g[0]:5,T=p?g[1]:5,w=o.isShiftPressed?4:1,N=o.x*S*w,D=o.y*T*w,R=_.map(L=>{if(L.positionAbsolute){const z={x:L.positionAbsolute.x+N,y:L.positionAbsolute.y+D};p&&(z.x=g[0]*Math.round(z.x/g[0]),z.y=g[1]*Math.round(z.y/g[1]));const{positionAbsolute:U,position:O}=t_(L,z,l,a,void 0,h);L.position=O,L.positionAbsolute=U}return L});u(R,!0,!1)},[])}const fl={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Cs=e=>{const t=({id:o,type:l,data:a,xPos:u,yPos:c,xPosOrigin:p,yPosOrigin:g,selected:h,onClick:y,onMouseEnter:_,onMouseMove:S,onMouseLeave:T,onContextMenu:w,onDoubleClick:N,style:D,className:R,isDraggable:L,isSelectable:z,isConnectable:U,isFocusable:O,selectNodesOnDrag:Y,sourcePosition:F,targetPosition:ie,hidden:H,resizeObserver:K,dragHandle:W,zIndex:oe,isParent:ne,noDragClassName:M,noPanClassName:Z,initialized:A,disableKeyboardA11y:V,ariaLabel:B,rfId:q,hasHandleBounds:j})=>{const x=mt(),k=X.useRef(null),te=X.useRef(null),le=X.useRef(F),ce=X.useRef(ie),de=X.useRef(l),he=z||L||y||_||S||T,Te=i_(),Se=Ts(o,x.getState,_),ze=Ts(o,x.getState,S),Tt=Ts(o,x.getState,T),Ct=Ts(o,x.getState,w),It=Ts(o,x.getState,N),lt=Be=>{const{nodeDragThreshold:ye}=x.getState();if(z&&(!Y||!L||ye>0)&&Pf({id:o,store:x,nodeRef:k}),y){const gt=x.getState().nodeInternals.get(o);gt&&y(Be,{...gt})}},Ke=Be=>{if(!Hf(Be)&&!V)if(Av.includes(Be.key)&&z){const ye=Be.key==="Escape";Pf({id:o,store:x,unselect:ye,nodeRef:k})}else L&&h&&Object.prototype.hasOwnProperty.call(fl,Be.key)&&(x.setState({ariaLiveMessage:`Moved selected node ${Be.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~u}, y: ${~~c}`}),Te({x:fl[Be.key].x,y:fl[Be.key].y,isShiftPressed:Be.shiftKey}))};X.useEffect(()=>()=>{te.current&&(K==null||K.unobserve(te.current),te.current=null)},[]),X.useEffect(()=>{if(k.current&&!H){const Be=k.current;(!A||!j||te.current!==Be)&&(te.current&&(K==null||K.unobserve(te.current)),K==null||K.observe(Be),te.current=Be)}},[H,A,j]),X.useEffect(()=>{const Be=de.current!==l,ye=le.current!==F,gt=ce.current!==ie;k.current&&(Be||ye||gt)&&(Be&&(de.current=l),ye&&(le.current=F),gt&&(ce.current=ie),x.getState().updateNodeDimensions([{id:o,nodeElement:k.current,forceUpdate:!0}]))},[o,l,F,ie]);const Dt=n_({nodeRef:k,disabled:H||!L,noDragClassName:M,handleSelector:W,nodeId:o,isSelectable:z,selectNodesOnDrag:Y});return H?null:ae.createElement("div",{className:bt(["react-flow__node",`react-flow__node-${l}`,{[Z]:L},R,{selected:h,selectable:z,parent:ne,dragging:Dt}]),ref:k,style:{zIndex:oe,transform:`translate(${p}px,${g}px)`,pointerEvents:he?"all":"none",visibility:A?"visible":"hidden",...D},"data-id":o,"data-testid":`rf__node-${o}`,onMouseEnter:Se,onMouseMove:ze,onMouseLeave:Tt,onContextMenu:Ct,onClick:lt,onDoubleClick:It,onKeyDown:O?Ke:void 0,tabIndex:O?0:void 0,role:O?"button":void 0,"aria-describedby":V?void 0:`${Jv}-${q}`,"aria-label":B},ae.createElement(gN,{value:o},ae.createElement(e,{id:o,data:a,type:l,xPos:u,yPos:c,selected:h,isConnectable:U,sourcePosition:F,targetPosition:ie,dragging:Dt,dragHandle:W,zIndex:oe})))};return t.displayName="NodeWrapper",X.memo(t)};const nw=e=>{const t=e.getNodes().filter(o=>o.selected);return{...dd(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function iw({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:o}){const l=mt(),{width:a,height:u,x:c,y:p,transformString:g,userSelectionActive:h}=We(nw,wt),y=i_(),_=X.useRef(null);if(X.useEffect(()=>{var w;o||(w=_.current)==null||w.focus({preventScroll:!0})},[o]),n_({nodeRef:_}),h||!a||!u)return null;const S=e?w=>{const N=l.getState().getNodes().filter(D=>D.selected);e(w,N)}:void 0,T=w=>{Object.prototype.hasOwnProperty.call(fl,w.key)&&y({x:fl[w.key].x,y:fl[w.key].y,isShiftPressed:w.shiftKey})};return ae.createElement("div",{className:bt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:g}},ae.createElement("div",{ref:_,className:"react-flow__nodesselection-rect",onContextMenu:S,tabIndex:o?void 0:-1,onKeyDown:o?void 0:T,style:{width:a,height:u,top:p,left:c}}))}var ow=X.memo(iw);const lw=e=>e.nodesSelectionActive,o_=({children:e,onPaneClick:t,onPaneMouseEnter:o,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,deleteKeyCode:p,onMove:g,onMoveStart:h,onMoveEnd:y,selectionKeyCode:_,selectionOnDrag:S,selectionMode:T,onSelectionStart:w,onSelectionEnd:N,multiSelectionKeyCode:D,panActivationKeyCode:R,zoomActivationKeyCode:L,elementsSelectable:z,zoomOnScroll:U,zoomOnPinch:O,panOnScroll:Y,panOnScrollSpeed:F,panOnScrollMode:ie,zoomOnDoubleClick:H,panOnDrag:K,defaultViewport:W,translateExtent:oe,minZoom:ne,maxZoom:M,preventScrolling:Z,onSelectionContextMenu:A,noWheelClassName:V,noPanClassName:B,disableKeyboardA11y:q})=>{const j=We(lw),x=Hs(_),k=Hs(R),te=k||K,le=k||Y,ce=x||S&&te!==!0;return ON({deleteKeyCode:p,multiSelectionKeyCode:D}),ae.createElement($N,{onMove:g,onMoveStart:h,onMoveEnd:y,onPaneContextMenu:u,elementsSelectable:z,zoomOnScroll:U,zoomOnPinch:O,panOnScroll:le,panOnScrollSpeed:F,panOnScrollMode:ie,zoomOnDoubleClick:H,panOnDrag:!x&&te,defaultViewport:W,translateExtent:oe,minZoom:ne,maxZoom:M,zoomActivationKeyCode:L,preventScrolling:Z,noWheelClassName:V,noPanClassName:B},ae.createElement(jv,{onSelectionStart:w,onSelectionEnd:N,onPaneClick:t,onPaneMouseEnter:o,onPaneMouseMove:l,onPaneMouseLeave:a,onPaneContextMenu:u,onPaneScroll:c,panOnDrag:te,isSelecting:!!ce,selectionMode:T},e,j&&ae.createElement(ow,{onSelectionContextMenu:A,noPanClassName:B,disableKeyboardA11y:q})))};o_.displayName="FlowRenderer";var sw=X.memo(o_);function aw(e){return We(X.useCallback(o=>e?Uv(o.nodeInternals,{x:0,y:0,width:o.width,height:o.height},o.transform,!0):o.getNodes(),[e]))}function rw(e){const t={input:Cs(e.input||Bv),default:Cs(e.default||Vf),output:Cs(e.output||Ov),group:Cs(e.group||hd)},o={},l=Object.keys(e).filter(a=>!["input","default","output","group"].includes(a)).reduce((a,u)=>(a[u]=Cs(e[u]||Vf),a),o);return{...t,...l}}const uw=({x:e,y:t,width:o,height:l,origin:a})=>!o||!l?{x:e,y:t}:a[0]<0||a[1]<0||a[0]>1||a[1]>1?{x:e,y:t}:{x:e-o*a[0],y:t-l*a[1]},cw=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),l_=e=>{const{nodesDraggable:t,nodesConnectable:o,nodesFocusable:l,elementsSelectable:a,updateNodeDimensions:u,onError:c}=We(cw,wt),p=aw(e.onlyRenderVisibleElements),g=X.useRef(),h=X.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const y=new ResizeObserver(_=>{const S=_.map(T=>({id:T.target.getAttribute("data-id"),nodeElement:T.target,forceUpdate:!0}));u(S)});return g.current=y,y},[]);return X.useEffect(()=>()=>{var y;(y=g==null?void 0:g.current)==null||y.disconnect()},[]),ae.createElement("div",{className:"react-flow__nodes",style:gd},p.map(y=>{var O,Y,F;let _=y.type||"default";e.nodeTypes[_]||(c==null||c("003",ii.error003(_)),_="default");const S=e.nodeTypes[_]||e.nodeTypes.default,T=!!(y.draggable||t&&typeof y.draggable>"u"),w=!!(y.selectable||a&&typeof y.selectable>"u"),N=!!(y.connectable||o&&typeof y.connectable>"u"),D=!!(y.focusable||l&&typeof y.focusable>"u"),R=e.nodeExtent?sd(y.positionAbsolute,e.nodeExtent):y.positionAbsolute,L=(R==null?void 0:R.x)??0,z=(R==null?void 0:R.y)??0,U=uw({x:L,y:z,width:y.width??0,height:y.height??0,origin:e.nodeOrigin});return ae.createElement(S,{key:y.id,id:y.id,className:y.className,style:y.style,type:_,data:y.data,sourcePosition:y.sourcePosition||ge.Bottom,targetPosition:y.targetPosition||ge.Top,hidden:y.hidden,xPos:L,yPos:z,xPosOrigin:U.x,yPosOrigin:U.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!y.selected,isDraggable:T,isSelectable:w,isConnectable:N,isFocusable:D,resizeObserver:h,dragHandle:y.dragHandle,zIndex:((O=y[tt])==null?void 0:O.z)??0,isParent:!!((Y=y[tt])!=null&&Y.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!y.width&&!!y.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:y.ariaLabel,hasHandleBounds:!!((F=y[tt])!=null&&F.handleBounds)})}))};l_.displayName="NodeRenderer";var fw=X.memo(l_);const dw=(e,t,o)=>o===ge.Left?e-t:o===ge.Right?e+t:e,pw=(e,t,o)=>o===ge.Top?e-t:o===ge.Bottom?e+t:e,cy="react-flow__edgeupdater",fy=({position:e,centerX:t,centerY:o,radius:l=10,onMouseDown:a,onMouseEnter:u,onMouseOut:c,type:p})=>ae.createElement("circle",{onMouseDown:a,onMouseEnter:u,onMouseOut:c,className:bt([cy,`${cy}-${p}`]),cx:dw(t,l,e),cy:pw(o,l,e),r:l,stroke:"transparent",fill:"transparent"}),hw=()=>!0;var ll=e=>{const t=({id:o,className:l,type:a,data:u,onClick:c,onEdgeDoubleClick:p,selected:g,animated:h,label:y,labelStyle:_,labelShowBg:S,labelBgStyle:T,labelBgPadding:w,labelBgBorderRadius:N,style:D,source:R,target:L,sourceX:z,sourceY:U,targetX:O,targetY:Y,sourcePosition:F,targetPosition:ie,elementsSelectable:H,hidden:K,sourceHandleId:W,targetHandleId:oe,onContextMenu:ne,onMouseEnter:M,onMouseMove:Z,onMouseLeave:A,reconnectRadius:V,onReconnect:B,onReconnectStart:q,onReconnectEnd:j,markerEnd:x,markerStart:k,rfId:te,ariaLabel:le,isFocusable:ce,isReconnectable:de,pathOptions:he,interactionWidth:Te,disableKeyboardA11y:Se})=>{const ze=X.useRef(null),[Tt,Ct]=X.useState(!1),[It,lt]=X.useState(!1),Ke=mt(),Dt=X.useMemo(()=>`url('#${qf(k,te)}')`,[k,te]),Be=X.useMemo(()=>`url('#${qf(x,te)}')`,[x,te]);if(K)return null;const ye=pt=>{var Zt;const{edges:Vt,addSelectedEdges:Pt,unselectNodesAndEdges:nt,multiSelectionActive:xt}=Ke.getState(),Qe=Vt.find(Ji=>Ji.id===o);Qe&&(H&&(Ke.setState({nodesSelectionActive:!1}),Qe.selected&&xt?(nt({nodes:[],edges:[Qe]}),(Zt=ze.current)==null||Zt.blur()):Pt([o])),c&&c(pt,Qe))},gt=Es(o,Ke.getState,p),fn=Es(o,Ke.getState,ne),Dn=Es(o,Ke.getState,M),ai=Es(o,Ke.getState,Z),ri=Es(o,Ke.getState,A),Ze=(pt,Vt)=>{if(pt.button!==0)return;const{edges:Pt,isValidConnection:nt}=Ke.getState(),xt=Vt?L:R,Qe=(Vt?oe:W)||null,Zt=Vt?"target":"source",Ji=nt||hw,Cl=Vt,Cn=Pt.find(Mt=>Mt.id===o);lt(!0),q==null||q(pt,Cn,Zt);const di=Mt=>{lt(!1),j==null||j(Mt,Cn,Zt)};qv({event:pt,handleId:Qe,nodeId:xt,onConnect:Mt=>B==null?void 0:B(Cn,Mt),isTarget:Cl,getState:Ke.getState,setState:Ke.setState,isValidConnection:Ji,edgeUpdaterType:Zt,onReconnectEnd:di})},ui=pt=>Ze(pt,!0),En=pt=>Ze(pt,!1),Tn=()=>Ct(!0),dn=()=>Ct(!1),ci=!H&&!c,fi=pt=>{var Vt;if(!Se&&Av.includes(pt.key)&&H){const{unselectNodesAndEdges:Pt,addSelectedEdges:nt,edges:xt}=Ke.getState();pt.key==="Escape"?((Vt=ze.current)==null||Vt.blur(),Pt({edges:[xt.find(Zt=>Zt.id===o)]})):nt([o])}};return ae.createElement("g",{className:bt(["react-flow__edge",`react-flow__edge-${a}`,l,{selected:g,animated:h,inactive:ci,updating:Tt}]),onClick:ye,onDoubleClick:gt,onContextMenu:fn,onMouseEnter:Dn,onMouseMove:ai,onMouseLeave:ri,onKeyDown:ce?fi:void 0,tabIndex:ce?0:void 0,role:ce?"button":"img","data-testid":`rf__edge-${o}`,"aria-label":le===null?void 0:le||`Edge from ${R} to ${L}`,"aria-describedby":ce?`${Xv}-${te}`:void 0,ref:ze},!It&&ae.createElement(e,{id:o,source:R,target:L,selected:g,animated:h,label:y,labelStyle:_,labelShowBg:S,labelBgStyle:T,labelBgPadding:w,labelBgBorderRadius:N,data:u,style:D,sourceX:z,sourceY:U,targetX:O,targetY:Y,sourcePosition:F,targetPosition:ie,sourceHandleId:W,targetHandleId:oe,markerStart:Dt,markerEnd:Be,pathOptions:he,interactionWidth:Te}),de&&ae.createElement(ae.Fragment,null,(de==="source"||de===!0)&&ae.createElement(fy,{position:F,centerX:z,centerY:U,radius:V,onMouseDown:ui,onMouseEnter:Tn,onMouseOut:dn,type:"source"}),(de==="target"||de===!0)&&ae.createElement(fy,{position:ie,centerX:O,centerY:Y,radius:V,onMouseDown:En,onMouseEnter:Tn,onMouseOut:dn,type:"target"})))};return t.displayName="EdgeWrapper",X.memo(t)};function mw(e){const t={default:ll(e.default||Ur),straight:ll(e.bezier||cd),step:ll(e.step||ud),smoothstep:ll(e.step||Fr),simplebezier:ll(e.simplebezier||rd)},o={},l=Object.keys(e).filter(a=>!["default","bezier"].includes(a)).reduce((a,u)=>(a[u]=ll(e[u]||Ur),a),o);return{...t,...l}}function dy(e,t,o=null){const l=((o==null?void 0:o.x)||0)+t.x,a=((o==null?void 0:o.y)||0)+t.y,u=(o==null?void 0:o.width)||t.width,c=(o==null?void 0:o.height)||t.height;switch(e){case ge.Top:return{x:l+u/2,y:a};case ge.Right:return{x:l+u,y:a+c/2};case ge.Bottom:return{x:l+u/2,y:a+c};case ge.Left:return{x:l,y:a+c/2}}}function py(e,t){return e?e.length===1||!t?e[0]:t&&e.find(o=>o.id===t)||null:null}const gw=(e,t,o,l,a,u)=>{const c=dy(o,e,t),p=dy(u,l,a);return{sourceX:c.x,sourceY:c.y,targetX:p.x,targetY:p.y}};function yw({sourcePos:e,targetPos:t,sourceWidth:o,sourceHeight:l,targetWidth:a,targetHeight:u,width:c,height:p,transform:g}){const h={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+o,t.x+a),y2:Math.max(e.y+l,t.y+u)};h.x===h.x2&&(h.x2+=1),h.y===h.y2&&(h.y2+=1);const y=ad({x:(0-g[0])/g[2],y:(0-g[1])/g[2],width:c/g[2],height:p/g[2]}),_=Math.max(0,Math.min(y.x2,h.x2)-Math.max(y.x,h.x)),S=Math.max(0,Math.min(y.y2,h.y2)-Math.max(y.y,h.y));return Math.ceil(_*S)>0}function hy(e){var l,a,u,c,p;const t=((l=e==null?void 0:e[tt])==null?void 0:l.handleBounds)||null,o=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.x)<"u"&&typeof((u=e==null?void 0:e.positionAbsolute)==null?void 0:u.y)<"u";return[{x:((c=e==null?void 0:e.positionAbsolute)==null?void 0:c.x)||0,y:((p=e==null?void 0:e.positionAbsolute)==null?void 0:p.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!o]}const vw=[{level:0,isMaxLevel:!0,edges:[]}];function _w(e,t,o=!1){let l=-1;const a=e.reduce((c,p)=>{var y,_;const g=un(p.zIndex);let h=g?p.zIndex:0;if(o){const S=t.get(p.target),T=t.get(p.source),w=p.selected||(S==null?void 0:S.selected)||(T==null?void 0:T.selected),N=Math.max(((y=T==null?void 0:T[tt])==null?void 0:y.z)||0,((_=S==null?void 0:S[tt])==null?void 0:_.z)||0,1e3);h=(g?p.zIndex:0)+(w?N:0)}return c[h]?c[h].push(p):c[h]=[p],l=h>l?h:l,c},{}),u=Object.entries(a).map(([c,p])=>{const g=+c;return{edges:p,level:g,isMaxLevel:g===l}});return u.length===0?vw:u}function Sw(e,t,o){const l=We(X.useCallback(a=>e?a.edges.filter(u=>{const c=t.get(u.source),p=t.get(u.target);return(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&(p==null?void 0:p.width)&&(p==null?void 0:p.height)&&yw({sourcePos:c.positionAbsolute||{x:0,y:0},targetPos:p.positionAbsolute||{x:0,y:0},sourceWidth:c.width,sourceHeight:c.height,targetWidth:p.width,targetHeight:p.height,width:a.width,height:a.height,transform:a.transform})}):a.edges,[e,t]));return _w(l,t,o)}const Ew=({color:e="none",strokeWidth:t=1})=>ae.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Tw=({color:e="none",strokeWidth:t=1})=>ae.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),my={[vl.Arrow]:Ew,[vl.ArrowClosed]:Tw};function Cw(e){const t=mt();return X.useMemo(()=>{var a,u;return Object.prototype.hasOwnProperty.call(my,e)?my[e]:((u=(a=t.getState()).onError)==null||u.call(a,"009",ii.error009(e)),null)},[e])}const xw=({id:e,type:t,color:o,width:l=12.5,height:a=12.5,markerUnits:u="strokeWidth",strokeWidth:c,orient:p="auto-start-reverse"})=>{const g=Cw(t);return g?ae.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${l}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:u,orient:p,refX:"0",refY:"0"},ae.createElement(g,{color:o,strokeWidth:c})):null},Aw=({defaultColor:e,rfId:t})=>o=>{const l=[];return o.edges.reduce((a,u)=>([u.markerStart,u.markerEnd].forEach(c=>{if(c&&typeof c=="object"){const p=qf(c,t);l.includes(p)||(a.push({id:p,color:c.color||e,...c}),l.push(p))}}),a),[]).sort((a,u)=>a.id.localeCompare(u.id))},s_=({defaultColor:e,rfId:t})=>{const o=We(X.useCallback(Aw({defaultColor:e,rfId:t}),[e,t]),(l,a)=>!(l.length!==a.length||l.some((u,c)=>u.id!==a[c].id)));return ae.createElement("defs",null,o.map(l=>ae.createElement(xw,{id:l.id,key:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient})))};s_.displayName="MarkerDefinitions";var Nw=X.memo(s_);const ww=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),a_=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:o,rfId:l,edgeTypes:a,noPanClassName:u,onEdgeContextMenu:c,onEdgeMouseEnter:p,onEdgeMouseMove:g,onEdgeMouseLeave:h,onEdgeClick:y,onEdgeDoubleClick:_,onReconnect:S,onReconnectStart:T,onReconnectEnd:w,reconnectRadius:N,children:D,disableKeyboardA11y:R})=>{const{edgesFocusable:L,edgesUpdatable:z,elementsSelectable:U,width:O,height:Y,connectionMode:F,nodeInternals:ie,onError:H}=We(ww,wt),K=Sw(t,ie,o);return O?ae.createElement(ae.Fragment,null,K.map(({level:W,edges:oe,isMaxLevel:ne})=>ae.createElement("svg",{key:W,style:{zIndex:W},width:O,height:Y,className:"react-flow__edges react-flow__container"},ne&&ae.createElement(Nw,{defaultColor:e,rfId:l}),ae.createElement("g",null,oe.map(M=>{const[Z,A,V]=hy(ie.get(M.source)),[B,q,j]=hy(ie.get(M.target));if(!V||!j)return null;let x=M.type||"default";a[x]||(H==null||H("011",ii.error011(x)),x="default");const k=a[x]||a.default,te=F===So.Strict?q.target:(q.target??[]).concat(q.source??[]),le=py(A.source,M.sourceHandle),ce=py(te,M.targetHandle),de=(le==null?void 0:le.position)||ge.Bottom,he=(ce==null?void 0:ce.position)||ge.Top,Te=!!(M.focusable||L&&typeof M.focusable>"u"),Se=M.reconnectable||M.updatable,ze=typeof S<"u"&&(Se||z&&typeof Se>"u");if(!le||!ce)return H==null||H("008",ii.error008(le,M)),null;const{sourceX:Tt,sourceY:Ct,targetX:It,targetY:lt}=gw(Z,le,de,B,ce,he);return ae.createElement(k,{key:M.id,id:M.id,className:bt([M.className,u]),type:x,data:M.data,selected:!!M.selected,animated:!!M.animated,hidden:!!M.hidden,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,style:M.style,source:M.source,target:M.target,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerEnd:M.markerEnd,markerStart:M.markerStart,sourceX:Tt,sourceY:Ct,targetX:It,targetY:lt,sourcePosition:de,targetPosition:he,elementsSelectable:U,onContextMenu:c,onMouseEnter:p,onMouseMove:g,onMouseLeave:h,onClick:y,onEdgeDoubleClick:_,onReconnect:S,onReconnectStart:T,onReconnectEnd:w,reconnectRadius:N,rfId:l,ariaLabel:M.ariaLabel,isFocusable:Te,isReconnectable:ze,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth,disableKeyboardA11y:R})})))),D):null};a_.displayName="EdgeRenderer";var Mw=X.memo(a_);const Rw=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function bw({children:e}){const t=We(Rw);return ae.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function Iw(e){const t=md(),o=X.useRef(!1);X.useEffect(()=>{!o.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),o.current=!0)},[e,t.viewportInitialized])}const Dw={[ge.Left]:ge.Right,[ge.Right]:ge.Left,[ge.Top]:ge.Bottom,[ge.Bottom]:ge.Top},r_=({nodeId:e,handleType:t,style:o,type:l=Bi.Bezier,CustomComponent:a,connectionStatus:u})=>{var Y,F,ie;const{fromNode:c,handleId:p,toX:g,toY:h,connectionMode:y}=We(X.useCallback(H=>({fromNode:H.nodeInternals.get(e),handleId:H.connectionHandleId,toX:(H.connectionPosition.x-H.transform[0])/H.transform[2],toY:(H.connectionPosition.y-H.transform[1])/H.transform[2],connectionMode:H.connectionMode}),[e]),wt),_=(Y=c==null?void 0:c[tt])==null?void 0:Y.handleBounds;let S=_==null?void 0:_[t];if(y===So.Loose&&(S=S||(_==null?void 0:_[t==="source"?"target":"source"])),!c||!S)return null;const T=p?S.find(H=>H.id===p):S[0],w=T?T.x+T.width/2:(c.width??0)/2,N=T?T.y+T.height/2:c.height??0,D=(((F=c.positionAbsolute)==null?void 0:F.x)??0)+w,R=(((ie=c.positionAbsolute)==null?void 0:ie.y)??0)+N,L=T==null?void 0:T.position,z=L?Dw[L]:null;if(!L||!z)return null;if(a)return ae.createElement(a,{connectionLineType:l,connectionLineStyle:o,fromNode:c,fromHandle:T,fromX:D,fromY:R,toX:g,toY:h,fromPosition:L,toPosition:z,connectionStatus:u});let U="";const O={sourceX:D,sourceY:R,sourcePosition:L,targetX:g,targetY:h,targetPosition:z};return l===Bi.Bezier?[U]=bv(O):l===Bi.Step?[U]=kf({...O,borderRadius:0}):l===Bi.SmoothStep?[U]=kf(O):l===Bi.SimpleBezier?[U]=Rv(O):U=`M${D},${R} ${g},${h}`,ae.createElement("path",{d:U,fill:"none",className:"react-flow__connection-path",style:o})};r_.displayName="ConnectionLine";const Uw=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function zw({containerStyle:e,style:t,type:o,component:l}){const{nodeId:a,handleType:u,nodesConnectable:c,width:p,height:g,connectionStatus:h}=We(Uw,wt);return!(a&&u&&p&&c)?null:ae.createElement("svg",{style:e,width:p,height:g,className:"react-flow__edges react-flow__connectionline react-flow__container"},ae.createElement("g",{className:bt(["react-flow__connection",h])},ae.createElement(r_,{nodeId:a,handleType:u,style:t,type:o,CustomComponent:l,connectionStatus:h})))}function gy(e,t){return X.useRef(null),mt(),X.useMemo(()=>t(e),[e])}const u_=({nodeTypes:e,edgeTypes:t,onMove:o,onMoveStart:l,onMoveEnd:a,onInit:u,onNodeClick:c,onEdgeClick:p,onNodeDoubleClick:g,onEdgeDoubleClick:h,onNodeMouseEnter:y,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:T,onSelectionContextMenu:w,onSelectionStart:N,onSelectionEnd:D,connectionLineType:R,connectionLineStyle:L,connectionLineComponent:z,connectionLineContainerStyle:U,selectionKeyCode:O,selectionOnDrag:Y,selectionMode:F,multiSelectionKeyCode:ie,panActivationKeyCode:H,zoomActivationKeyCode:K,deleteKeyCode:W,onlyRenderVisibleElements:oe,elementsSelectable:ne,selectNodesOnDrag:M,defaultViewport:Z,translateExtent:A,minZoom:V,maxZoom:B,preventScrolling:q,defaultMarkerColor:j,zoomOnScroll:x,zoomOnPinch:k,panOnScroll:te,panOnScrollSpeed:le,panOnScrollMode:ce,zoomOnDoubleClick:de,panOnDrag:he,onPaneClick:Te,onPaneMouseEnter:Se,onPaneMouseMove:ze,onPaneMouseLeave:Tt,onPaneScroll:Ct,onPaneContextMenu:It,onEdgeContextMenu:lt,onEdgeMouseEnter:Ke,onEdgeMouseMove:Dt,onEdgeMouseLeave:Be,onReconnect:ye,onReconnectStart:gt,onReconnectEnd:fn,reconnectRadius:Dn,noDragClassName:ai,noWheelClassName:ri,noPanClassName:Ze,elevateEdgesOnSelect:ui,disableKeyboardA11y:En,nodeOrigin:Tn,nodeExtent:dn,rfId:ci})=>{const fi=gy(e,rw),pt=gy(t,mw);return Iw(u),ae.createElement(sw,{onPaneClick:Te,onPaneMouseEnter:Se,onPaneMouseMove:ze,onPaneMouseLeave:Tt,onPaneContextMenu:It,onPaneScroll:Ct,deleteKeyCode:W,selectionKeyCode:O,selectionOnDrag:Y,selectionMode:F,onSelectionStart:N,onSelectionEnd:D,multiSelectionKeyCode:ie,panActivationKeyCode:H,zoomActivationKeyCode:K,elementsSelectable:ne,onMove:o,onMoveStart:l,onMoveEnd:a,zoomOnScroll:x,zoomOnPinch:k,zoomOnDoubleClick:de,panOnScroll:te,panOnScrollSpeed:le,panOnScrollMode:ce,panOnDrag:he,defaultViewport:Z,translateExtent:A,minZoom:V,maxZoom:B,onSelectionContextMenu:w,preventScrolling:q,noDragClassName:ai,noWheelClassName:ri,noPanClassName:Ze,disableKeyboardA11y:En},ae.createElement(bw,null,ae.createElement(Mw,{edgeTypes:pt,onEdgeClick:p,onEdgeDoubleClick:h,onlyRenderVisibleElements:oe,onEdgeContextMenu:lt,onEdgeMouseEnter:Ke,onEdgeMouseMove:Dt,onEdgeMouseLeave:Be,onReconnect:ye,onReconnectStart:gt,onReconnectEnd:fn,reconnectRadius:Dn,defaultMarkerColor:j,noPanClassName:Ze,elevateEdgesOnSelect:!!ui,disableKeyboardA11y:En,rfId:ci},ae.createElement(zw,{style:L,type:R,component:z,containerStyle:U})),ae.createElement("div",{className:"react-flow__edgelabel-renderer"}),ae.createElement(fw,{nodeTypes:fi,onNodeClick:c,onNodeDoubleClick:g,onNodeMouseEnter:y,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:T,selectNodesOnDrag:M,onlyRenderVisibleElements:oe,noPanClassName:Ze,noDragClassName:ai,disableKeyboardA11y:En,nodeOrigin:Tn,nodeExtent:dn,rfId:ci})))};u_.displayName="GraphView";var Lw=X.memo(u_);const Bf=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Gi={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Bf,nodeExtent:Bf,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:So.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:cN,isValidConnection:void 0},Hw=()=>CC((e,t)=>({...Gi,setNodes:o=>{const{nodeInternals:l,nodeOrigin:a,elevateNodesOnSelect:u}=t();e({nodeInternals:Cf(o,l,a,u)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:o=>{const{defaultEdgeOptions:l={}}=t();e({edges:o.map(a=>({...l,...a}))})},setDefaultNodesAndEdges:(o,l)=>{const a=typeof o<"u",u=typeof l<"u",c=a?Cf(o,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:c,edges:u?l:[],hasDefaultNodes:a,hasDefaultEdges:u})},updateNodeDimensions:o=>{const{onNodesChange:l,nodeInternals:a,fitViewOnInit:u,fitViewOnInitDone:c,fitViewOnInitOptions:p,domNode:g,nodeOrigin:h}=t(),y=g==null?void 0:g.querySelector(".react-flow__viewport");if(!y)return;const _=window.getComputedStyle(y),{m22:S}=new window.DOMMatrixReadOnly(_.transform),T=o.reduce((N,D)=>{const R=a.get(D.id);if(R!=null&&R.hidden)a.set(R.id,{...R,[tt]:{...R[tt],handleBounds:void 0}});else if(R){const L=ld(D.nodeElement);!!(L.width&&L.height&&(R.width!==L.width||R.height!==L.height||D.forceUpdate))&&(a.set(R.id,{...R,[tt]:{...R[tt],handleBounds:{source:uy(".source",D.nodeElement,S,h),target:uy(".target",D.nodeElement,S,h)}},...L}),N.push({id:R.id,type:"dimensions",dimensions:L}))}return N},[]);Kv(a,h);const w=c||u&&!c&&Zv(t,{initial:!0,...p});e({nodeInternals:new Map(a),fitViewOnInitDone:w}),(T==null?void 0:T.length)>0&&(l==null||l(T))},updateNodePositions:(o,l=!0,a=!1)=>{const{triggerNodeChanges:u}=t(),c=o.map(p=>{const g={id:p.id,type:"position",dragging:a};return l&&(g.positionAbsolute=p.positionAbsolute,g.position=p.position),g});u(c)},triggerNodeChanges:o=>{const{onNodesChange:l,nodeInternals:a,hasDefaultNodes:u,nodeOrigin:c,getNodes:p,elevateNodesOnSelect:g}=t();if(o!=null&&o.length){if(u){const h=Wv(o,p()),y=Cf(h,a,c,g);e({nodeInternals:y})}l==null||l(o)}},addSelectedNodes:o=>{const{multiSelectionActive:l,edges:a,getNodes:u}=t();let c,p=null;l?c=o.map(g=>Pi(g,!0)):(c=sl(u(),o),p=sl(a,[])),yr({changedNodes:c,changedEdges:p,get:t,set:e})},addSelectedEdges:o=>{const{multiSelectionActive:l,edges:a,getNodes:u}=t();let c,p=null;l?c=o.map(g=>Pi(g,!0)):(c=sl(a,o),p=sl(u(),[])),yr({changedNodes:p,changedEdges:c,get:t,set:e})},unselectNodesAndEdges:({nodes:o,edges:l}={})=>{const{edges:a,getNodes:u}=t(),c=o||u(),p=l||a,g=c.map(y=>(y.selected=!1,Pi(y.id,!1))),h=p.map(y=>Pi(y.id,!1));yr({changedNodes:g,changedEdges:h,get:t,set:e})},setMinZoom:o=>{const{d3Zoom:l,maxZoom:a}=t();l==null||l.scaleExtent([o,a]),e({minZoom:o})},setMaxZoom:o=>{const{d3Zoom:l,minZoom:a}=t();l==null||l.scaleExtent([a,o]),e({maxZoom:o})},setTranslateExtent:o=>{var l;(l=t().d3Zoom)==null||l.translateExtent(o),e({translateExtent:o})},resetSelectedElements:()=>{const{edges:o,getNodes:l}=t(),u=l().filter(p=>p.selected).map(p=>Pi(p.id,!1)),c=o.filter(p=>p.selected).map(p=>Pi(p.id,!1));yr({changedNodes:u,changedEdges:c,get:t,set:e})},setNodeExtent:o=>{const{nodeInternals:l}=t();l.forEach(a=>{a.positionAbsolute=sd(a.position,o)}),e({nodeExtent:o,nodeInternals:new Map(l)})},panBy:o=>{const{transform:l,width:a,height:u,d3Zoom:c,d3Selection:p,translateExtent:g}=t();if(!c||!p||!o.x&&!o.y)return!1;const h=Fi.translate(l[0]+o.x,l[1]+o.y).scale(l[2]),y=[[0,0],[a,u]],_=c==null?void 0:c.constrain()(h,y,g);return c.transform(p,_),l[0]!==_.x||l[1]!==_.y||l[2]!==_.k},cancelConnection:()=>e({connectionNodeId:Gi.connectionNodeId,connectionHandleId:Gi.connectionHandleId,connectionHandleType:Gi.connectionHandleType,connectionStatus:Gi.connectionStatus,connectionStartHandle:Gi.connectionStartHandle,connectionEndHandle:Gi.connectionEndHandle}),reset:()=>e({...Gi})}),Object.is),yd=({children:e})=>{const t=X.useRef(null);return t.current||(t.current=Hw()),ae.createElement(nN,{value:t.current},e)};yd.displayName="ReactFlowProvider";const c_=({children:e})=>X.useContext(Br)?ae.createElement(ae.Fragment,null,e):ae.createElement(yd,null,e);c_.displayName="ReactFlowWrapper";const kw={input:Bv,default:Vf,output:Ov,group:hd},qw={default:Ur,straight:cd,step:ud,smoothstep:Fr,simplebezier:rd},Gw=[0,0],Vw=[15,15],Pw={x:0,y:0,zoom:1},Bw={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},f_=X.forwardRef(({nodes:e,edges:t,defaultNodes:o,defaultEdges:l,className:a,nodeTypes:u=kw,edgeTypes:c=qw,onNodeClick:p,onEdgeClick:g,onInit:h,onMove:y,onMoveStart:_,onMoveEnd:S,onConnect:T,onConnectStart:w,onConnectEnd:N,onClickConnectStart:D,onClickConnectEnd:R,onNodeMouseEnter:L,onNodeMouseMove:z,onNodeMouseLeave:U,onNodeContextMenu:O,onNodeDoubleClick:Y,onNodeDragStart:F,onNodeDrag:ie,onNodeDragStop:H,onNodesDelete:K,onEdgesDelete:W,onSelectionChange:oe,onSelectionDragStart:ne,onSelectionDrag:M,onSelectionDragStop:Z,onSelectionContextMenu:A,onSelectionStart:V,onSelectionEnd:B,connectionMode:q=So.Strict,connectionLineType:j=Bi.Bezier,connectionLineStyle:x,connectionLineComponent:k,connectionLineContainerStyle:te,deleteKeyCode:le="Backspace",selectionKeyCode:ce="Shift",selectionOnDrag:de=!1,selectionMode:he=Ls.Full,panActivationKeyCode:Te="Space",multiSelectionKeyCode:Se=Dr()?"Meta":"Control",zoomActivationKeyCode:ze=Dr()?"Meta":"Control",snapToGrid:Tt=!1,snapGrid:Ct=Vw,onlyRenderVisibleElements:It=!1,selectNodesOnDrag:lt=!0,nodesDraggable:Ke,nodesConnectable:Dt,nodesFocusable:Be,nodeOrigin:ye=Gw,edgesFocusable:gt,edgesUpdatable:fn,elementsSelectable:Dn,defaultViewport:ai=Pw,minZoom:ri=.5,maxZoom:Ze=2,translateExtent:ui=Bf,preventScrolling:En=!0,nodeExtent:Tn,defaultMarkerColor:dn="#b1b1b7",zoomOnScroll:ci=!0,zoomOnPinch:fi=!0,panOnScroll:pt=!1,panOnScrollSpeed:Vt=.5,panOnScrollMode:Pt=yo.Free,zoomOnDoubleClick:nt=!0,panOnDrag:xt=!0,onPaneClick:Qe,onPaneMouseEnter:Zt,onPaneMouseMove:Ji,onPaneMouseLeave:Cl,onPaneScroll:Cn,onPaneContextMenu:di,children:Xi,onEdgeContextMenu:Mt,onEdgeDoubleClick:To,onEdgeMouseEnter:$i,onEdgeMouseMove:$r,onEdgeMouseLeave:Ps,onEdgeUpdate:xl,onEdgeUpdateStart:Ki,onEdgeUpdateEnd:Kr,onReconnect:Bs,onReconnectStart:Fs,onReconnectEnd:Os,reconnectRadius:Al=10,edgeUpdaterRadius:Nl=10,onNodesChange:Ys,onEdgesChange:Js,noDragClassName:xn="nodrag",noWheelClassName:ft="nowheel",noPanClassName:yt="nopan",fitView:pi=!1,fitViewOptions:wl,connectOnClick:Zr=!0,attributionPosition:Qr,proOptions:Xs,defaultEdgeOptions:Zi,elevateNodesOnSelect:Ml=!0,elevateEdgesOnSelect:hi=!1,disableKeyboardA11y:Un=!1,autoPanOnConnect:Qi=!0,autoPanOnNodeDrag:mi=!0,connectionRadius:st=20,isValidConnection:$s,onError:Ks,style:zn,id:Ln,nodeDragThreshold:Wr,...Zs},Qs)=>{const Rl=Ln||"1";return ae.createElement("div",{...Zs,style:{...zn,...Bw},ref:Qs,className:bt(["react-flow",a]),"data-testid":"rf__wrapper",id:Ln},ae.createElement(c_,null,ae.createElement(Lw,{onInit:h,onMove:y,onMoveStart:_,onMoveEnd:S,onNodeClick:p,onEdgeClick:g,onNodeMouseEnter:L,onNodeMouseMove:z,onNodeMouseLeave:U,onNodeContextMenu:O,onNodeDoubleClick:Y,nodeTypes:u,edgeTypes:c,connectionLineType:j,connectionLineStyle:x,connectionLineComponent:k,connectionLineContainerStyle:te,selectionKeyCode:ce,selectionOnDrag:de,selectionMode:he,deleteKeyCode:le,multiSelectionKeyCode:Se,panActivationKeyCode:Te,zoomActivationKeyCode:ze,onlyRenderVisibleElements:It,selectNodesOnDrag:lt,defaultViewport:ai,translateExtent:ui,minZoom:ri,maxZoom:Ze,preventScrolling:En,zoomOnScroll:ci,zoomOnPinch:fi,zoomOnDoubleClick:nt,panOnScroll:pt,panOnScrollSpeed:Vt,panOnScrollMode:Pt,panOnDrag:xt,onPaneClick:Qe,onPaneMouseEnter:Zt,onPaneMouseMove:Ji,onPaneMouseLeave:Cl,onPaneScroll:Cn,onPaneContextMenu:di,onSelectionContextMenu:A,onSelectionStart:V,onSelectionEnd:B,onEdgeContextMenu:Mt,onEdgeDoubleClick:To,onEdgeMouseEnter:$i,onEdgeMouseMove:$r,onEdgeMouseLeave:Ps,onReconnect:Bs??xl,onReconnectStart:Fs??Ki,onReconnectEnd:Os??Kr,reconnectRadius:Al??Nl,defaultMarkerColor:dn,noDragClassName:xn,noWheelClassName:ft,noPanClassName:yt,elevateEdgesOnSelect:hi,rfId:Rl,disableKeyboardA11y:Un,nodeOrigin:ye,nodeExtent:Tn}),ae.createElement(DN,{nodes:e,edges:t,defaultNodes:o,defaultEdges:l,onConnect:T,onConnectStart:w,onConnectEnd:N,onClickConnectStart:D,onClickConnectEnd:R,nodesDraggable:Ke,nodesConnectable:Dt,nodesFocusable:Be,edgesFocusable:gt,edgesUpdatable:fn,elementsSelectable:Dn,elevateNodesOnSelect:Ml,minZoom:ri,maxZoom:Ze,nodeExtent:Tn,onNodesChange:Ys,onEdgesChange:Js,snapToGrid:Tt,snapGrid:Ct,connectionMode:q,translateExtent:ui,connectOnClick:Zr,defaultEdgeOptions:Zi,fitView:pi,fitViewOptions:wl,onNodesDelete:K,onEdgesDelete:W,onNodeDragStart:F,onNodeDrag:ie,onNodeDragStop:H,onSelectionDrag:M,onSelectionDragStart:ne,onSelectionDragStop:Z,noPanClassName:yt,nodeOrigin:ye,rfId:Rl,autoPanOnConnect:Qi,autoPanOnNodeDrag:mi,onError:Ks,connectionRadius:st,isValidConnection:$s,nodeDragThreshold:Wr}),ae.createElement(bN,{onSelectionChange:oe}),Xi,ae.createElement(oN,{proOptions:Xs,position:Qr}),ae.createElement(kN,{rfId:Rl,disableKeyboardA11y:Un})))});f_.displayName="ReactFlow";function d_(e){return t=>{const[o,l]=X.useState(t),a=X.useCallback(u=>l(c=>e(u,c)),[]);return[o,l,a]}}const Fw=d_(Wv),Ow=d_(QN);function Yw(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ae.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Jw(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ae.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Xw(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ae.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function $w(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ae.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Kw(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ae.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ws=({children:e,className:t,...o})=>ae.createElement("button",{type:"button",className:bt(["react-flow__controls-button",t]),...o},e);ws.displayName="ControlButton";const Zw=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),p_=({style:e,showZoom:t=!0,showFitView:o=!0,showInteractive:l=!0,fitViewOptions:a,onZoomIn:u,onZoomOut:c,onFitView:p,onInteractiveChange:g,className:h,children:y,position:_="bottom-left"})=>{const S=mt(),[T,w]=X.useState(!1),{isInteractive:N,minZoomReached:D,maxZoomReached:R}=We(Zw,wt),{zoomIn:L,zoomOut:z,fitView:U}=md();if(X.useEffect(()=>{w(!0)},[]),!T)return null;const O=()=>{L(),u==null||u()},Y=()=>{z(),c==null||c()},F=()=>{U(a),p==null||p()},ie=()=>{S.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),g==null||g(!N)};return ae.createElement(Ms,{className:bt(["react-flow__controls",h]),position:_,style:e,"data-testid":"rf__controls"},t&&ae.createElement(ae.Fragment,null,ae.createElement(ws,{onClick:O,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:R},ae.createElement(Yw,null)),ae.createElement(ws,{onClick:Y,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:D},ae.createElement(Jw,null))),o&&ae.createElement(ws,{className:"react-flow__controls-fitview",onClick:F,title:"fit view","aria-label":"fit view"},ae.createElement(Xw,null)),l&&ae.createElement(ws,{className:"react-flow__controls-interactive",onClick:ie,title:"toggle interactivity","aria-label":"toggle interactivity"},N?ae.createElement(Kw,null):ae.createElement($w,null)),y)};p_.displayName="Controls";var Qw=X.memo(p_),vn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(vn||(vn={}));function Ww({color:e,dimensions:t,lineWidth:o}){return ae.createElement("path",{stroke:e,strokeWidth:o,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function jw({color:e,radius:t}){return ae.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const eM={[vn.Dots]:"#91919a",[vn.Lines]:"#eee",[vn.Cross]:"#e2e2e2"},tM={[vn.Dots]:1,[vn.Lines]:1,[vn.Cross]:6},nM=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function h_({id:e,variant:t=vn.Dots,gap:o=20,size:l,lineWidth:a=1,offset:u=2,color:c,style:p,className:g}){const h=X.useRef(null),{transform:y,patternId:_}=We(nM,wt),S=c||eM[t],T=l||tM[t],w=t===vn.Dots,N=t===vn.Cross,D=Array.isArray(o)?o:[o,o],R=[D[0]*y[2]||1,D[1]*y[2]||1],L=T*y[2],z=N?[L,L]:R,U=w?[L/u,L/u]:[z[0]/u,z[1]/u];return ae.createElement("svg",{className:bt(["react-flow__background",g]),style:{...p,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:h,"data-testid":"rf__background"},ae.createElement("pattern",{id:_+e,x:y[0]%R[0],y:y[1]%R[1],width:R[0],height:R[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${U[0]},-${U[1]})`},w?ae.createElement(jw,{color:S,radius:L/u}):ae.createElement(Ww,{dimensions:z,color:S,lineWidth:a})),ae.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${_+e})`}))}h_.displayName="Background";var iM=X.memo(h_);const oM=({type:e})=>{switch(e){case"view":return b.jsx(Cg,{className:"w-4 h-4"});case"database":return b.jsx(wT,{className:"w-4 h-4"});case"logic":return b.jsx(oC,{className:"w-4 h-4"});case"userAction":return b.jsx(YT,{className:"w-4 h-4"});default:return b.jsx(Cg,{className:"w-4 h-4"})}},lM=e=>{switch(e){case"view":return"border-blue-400 bg-blue-50 text-blue-900";case"database":return"border-emerald-400 bg-emerald-50 text-emerald-900";case"logic":return"border-amber-400 bg-amber-50 text-amber-900";case"userAction":return"border-purple-400 bg-purple-50 text-purple-900";default:return"border-slate-400 bg-slate-50"}},_r=X.memo(({data:e,selected:t})=>b.jsxs("div",{className:`
      relative min-w-[200px] max-w-[280px] rounded-lg border-2 shadow-sm transition-all
      ${lM(e.type)}
      ${t?"ring-2 ring-indigo-500 ring-offset-2":""}
      ${e.isNew?"animate-pulse ring-2 ring-green-400 ring-offset-1":""}
    `,children:[b.jsx(_l,{type:"target",position:ge.Top,className:"!bg-slate-400 !w-3 !h-3"}),b.jsxs("div",{className:"px-4 py-3 border-b border-black/5 flex items-center gap-2",children:[b.jsx(oM,{type:e.type}),b.jsx("span",{className:"font-bold text-sm uppercase tracking-wider opacity-80",children:e.type})]}),b.jsxs("div",{className:"p-4 bg-white/50 rounded-b-lg",children:[b.jsx("h3",{className:"font-bold text-lg mb-1",children:e.label}),b.jsx("p",{className:"text-xs opacity-75 leading-snug",children:e.details})]}),b.jsx(_l,{type:"source",position:ge.Bottom,className:"!bg-slate-400 !w-3 !h-3"})]})),m_=({message:e="AI is thinking..."})=>b.jsx("div",{className:"fixed inset-0 z-[100] bg-white/80 backdrop-blur-sm flex items-center justify-center animate-in fade-in duration-300",children:b.jsxs("div",{className:"flex flex-col items-center gap-6 p-8 rounded-2xl",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 bg-indigo-500 blur-2xl opacity-20 animate-pulse rounded-full"}),b.jsx("div",{className:"relative bg-white p-6 rounded-2xl shadow-xl border border-indigo-100 flex items-center justify-center",children:b.jsx(vT,{className:"w-16 h-16 text-indigo-600 animate-pulse"})}),b.jsx("div",{className:"absolute -top-3 -right-3 bg-indigo-600 text-white p-2 rounded-full animate-bounce shadow-lg",children:b.jsx(J0,{size:20,fill:"currentColor"})})]}),b.jsxs("div",{className:"text-center",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Generating"}),b.jsx("p",{className:"text-slate-500 font-medium animate-pulse",children:e})]})]})}),sM={view:_r,logic:_r,database:_r,userAction:_r},aM=({initialNodes:e,initialEdges:t,geminiService:o,onSave:l,onGraphUpdate:a})=>{const[u,c,p]=Fw(e),[g,h,y]=Ow(t),[_,S]=X.useState(""),[T,w]=X.useState(!1),[N,D]=X.useState(!1),[R,L]=X.useState("short"),[z,U]=X.useState(null),[O,Y]=X.useState(null),[F,ie]=X.useState(null);X.useEffect(()=>{a(u,g)},[u,g,a]);const H=X.useCallback(B=>h(q=>Iv({...B,markerEnd:{type:vl.ArrowClosed}},q)),[h]),K=X.useCallback(({nodes:B,edges:q})=>{B.length>0?U({id:B[0].id,type:"node"}):q.length>0?U({id:q[0].id,type:"edge"}):U(null)},[]),W=X.useCallback(()=>{z&&(z.type==="node"?(c(B=>B.filter(q=>q.id!==z.id)),U(null)):(h(B=>B.filter(q=>q.id!==z.id)),U(null)))},[z,c,h]),oe=(B,q)=>{Y(q)},ne=(B,q)=>{ie(q),U({id:q.id,type:"edge"})},M=(B,q)=>{O&&(c(j=>j.map(x=>x.id===O.id?{...x,data:{...x.data,label:B,details:q}}:x)),Y(null))},Z=B=>{F&&(h(q=>q.map(j=>j.id===F.id?{...j,label:B}:j)),ie(null))},A=B=>{const j={id:`manual-${Date.now()}`,type:B,position:{x:Math.random()*400+50,y:Math.random()*400+50},data:{label:"New Node",details:"Double click to edit",type:B}};c(x=>x.concat(j))},V=async()=>{if(_.trim()){w(!0);try{const B=await o.extendWorkflow(u,g,_),q=B.nodes.map(x=>({...x,position:{x:x.x,y:x.y},data:{...x,type:x.type||"logic",isNew:!0}})),j=B.edges.map(x=>({...x,markerEnd:{type:vl.ArrowClosed}}));c(x=>[...x,...q]),h(x=>[...x,...j]),S(""),setTimeout(()=>{c(x=>x.map(k=>({...k,data:{...k.data,isNew:!1}})))},3e3)}catch(B){console.error("Failed to extend workflow",B),alert("AI failed to generate changes. Try a simpler request.")}finally{w(!1)}}};return b.jsxs("div",{className:`
      border border-slate-200 bg-slate-50 relative overflow-hidden shadow-inner transition-all duration-300
      ${N?"fixed inset-0 z-50 rounded-none h-screen w-screen":"w-full h-[600px] rounded-xl"}
    `,children:[T&&b.jsx(m_,{message:"Updating Workflow..."}),b.jsxs(yd,{children:[b.jsxs(f_,{nodes:u,edges:g,onNodesChange:p,onEdgesChange:y,onConnect:H,nodeTypes:sM,onSelectionChange:K,onNodeDoubleClick:oe,onEdgeClick:ne,deleteKeyCode:["Backspace","Delete"],fitView:!0,attributionPosition:"bottom-right",children:[b.jsx(iM,{color:"#cbd5e1",gap:16}),b.jsx(Qw,{}),b.jsx(Ms,{position:"top-left",className:"flex flex-col gap-2",children:b.jsxs("div",{className:"bg-white p-2 rounded-lg shadow-lg border border-slate-200",children:[b.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Tools"}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[b.jsx("button",{onClick:()=>A("view"),className:"p-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 rounded border border-blue-200",children:"View"}),b.jsx("button",{onClick:()=>A("logic"),className:"p-2 text-xs bg-amber-50 hover:bg-amber-100 text-amber-700 rounded border border-amber-200",children:"Logic"}),b.jsx("button",{onClick:()=>A("database"),className:"p-2 text-xs bg-emerald-50 hover:bg-emerald-100 text-emerald-700 rounded border border-emerald-200",children:"Data"}),b.jsx("button",{onClick:()=>A("userAction"),className:"p-2 text-xs bg-purple-50 hover:bg-purple-100 text-purple-700 rounded border border-purple-200",children:"Action"})]}),z&&b.jsxs("button",{onClick:W,className:"w-full bg-red-50 hover:bg-red-100 text-red-600 text-xs font-bold py-2 rounded flex items-center justify-center gap-2 border border-red-200",children:[b.jsx(X0,{size:12})," Delete Selected"]})]})]})}),b.jsxs(Ms,{position:"top-right",className:"bg-white p-3 rounded-lg shadow-xl border border-slate-200 w-80",children:[b.jsxs("div",{className:"flex justify-between items-start mb-2",children:[b.jsxs("div",{className:"flex items-center gap-2 text-indigo-700 font-semibold",children:[b.jsx(aC,{size:16}),b.jsx("span",{children:"AI Assistant"})]}),b.jsx("button",{onClick:()=>D(!N),className:"text-slate-400 hover:text-slate-600 p-1",title:N?"Exit Full Screen":"Full Screen",children:N?b.jsx(FT,{size:16}):b.jsx(PT,{size:16})})]}),b.jsx("textarea",{value:_,onChange:B=>S(B.target.value),placeholder:"e.g., 'Add a user authentication step before the dashboard'",className:"w-full p-2 text-sm border border-slate-300 rounded focus:ring-2 focus:ring-indigo-500 outline-none mb-2 h-20 resize-none"}),b.jsxs("button",{onClick:V,disabled:T||!_,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white py-2 px-4 rounded text-sm font-medium flex items-center justify-center gap-2",children:[T?b.jsx(GT,{className:"animate-spin w-4 h-4"}):b.jsx(ZT,{className:"w-4 h-4"}),"Add to Workflow"]})]}),b.jsxs(Ms,{position:"bottom-center",className:"bg-white p-2 rounded-full shadow-xl border border-slate-200 mb-4 flex items-center gap-3",children:[b.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-slate-200",children:[b.jsx("span",{className:"text-xs font-semibold text-slate-500",children:"Summary:"}),b.jsxs("select",{value:R,onChange:B=>L(B.target.value),className:"text-sm bg-transparent outline-none font-medium text-slate-700",children:[b.jsx("option",{value:"short",children:"Short"}),b.jsx("option",{value:"detailed",children:"Detailed"})]})]}),b.jsxs("button",{onClick:()=>l(u,g,R),className:"bg-slate-800 hover:bg-slate-900 text-white px-6 py-2 rounded-full font-bold flex items-center gap-2 transition-transform hover:scale-105",children:[b.jsx(Y0,{size:16}),"Save & Generate"]})]})]}),O&&b.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center z-50 p-4",onClick:()=>Y(null),children:b.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl w-full max-w-sm",onClick:B=>B.stopPropagation(),children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit Component"}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Label"}),b.jsx("input",{type:"text",defaultValue:O.data.label,id:"edit-node-label",className:"w-full border border-slate-300 rounded p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Details"}),b.jsx("textarea",{defaultValue:O.data.details,id:"edit-node-details",className:"w-full border border-slate-300 rounded p-2 h-24 focus:ring-2 focus:ring-indigo-500 outline-none resize-none"})]}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:()=>Y(null),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded",children:"Cancel"}),b.jsx("button",{onClick:()=>{const B=document.getElementById("edit-node-label").value,q=document.getElementById("edit-node-details").value;M(B,q)},className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save"})]})]})}),F&&b.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center z-50 p-4",onClick:()=>ie(null),children:b.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-2xl w-full max-w-sm",onClick:B=>B.stopPropagation(),children:[b.jsx("h3",{className:"text-lg font-bold mb-4",children:"Edit Connection"}),b.jsxs("div",{className:"mb-6",children:[b.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Label"}),b.jsx("input",{type:"text",defaultValue:F.label,id:"edit-edge-label",className:"w-full border border-slate-300 rounded p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),b.jsxs("div",{className:"flex justify-end gap-2",children:[b.jsx("button",{onClick:()=>ie(null),className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded",children:"Cancel"}),b.jsx("button",{onClick:()=>{const B=document.getElementById("edit-edge-label").value;Z(B)},className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"Save"})]})]})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rM,uM;function cM(){return{geminiUrl:rM,vertexUrl:uM}}function fM(e,t,o,l){var a,u;if(!(e!=null&&e.baseUrl)){const c=cM();return t?(a=c.vertexUrl)!==null&&a!==void 0?a:o:(u=c.geminiUrl)!==null&&u!==void 0?u:l}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class li{}function fe(e,t){const o=/\{([^}]+)\}/g;return e.replace(o,(l,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const u=t[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(e,t,o){for(let u=0;u<t.length-1;u++){const c=t[u];if(c.endsWith("[]")){const p=c.slice(0,-2);if(!(p in e))if(Array.isArray(o))e[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(e[p])){const g=e[p];if(Array.isArray(o))for(let h=0;h<g.length;h++){const y=g[h];d(y,t.slice(u+1),o[h])}else for(const h of g)d(h,t.slice(u+1),o)}return}else if(c.endsWith("[0]")){const p=c.slice(0,-3);p in e||(e[p]=[{}]);const g=e[p];d(g[0],t.slice(u+1),o);return}(!e[c]||typeof e[c]!="object")&&(e[c]={}),e=e[c]}const l=t[t.length-1],a=e[l];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(e,o):e[l]=o}function f(e,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let l=0;l<t.length;l++){if(typeof e!="object"||e===null)return o;const a=t[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in e){const c=e[u];return Array.isArray(c)?c.map(p=>f(p,t.slice(l+1),o)):o}else return o}else e=e[a]}return e}catch(l){if(l instanceof TypeError)return o;throw l}}function dM(e,t){for(const[o,l]of Object.entries(t)){const a=o.split("."),u=l.split("."),c=new Set;let p=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){p=g;break}if(p!==-1&&u.length>p)for(let g=p;g<u.length;g++){const h=u[g];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&c.add(h)}Ff(e,a,u,0,c)}}function Ff(e,t,o,l,a){if(l>=t.length||typeof e!="object"||e===null)return;const u=t[l];if(u.endsWith("[]")){const c=u.slice(0,-2),p=e;if(c in p&&Array.isArray(p[c]))for(const g of p[c])Ff(g,t,o,l+1,a)}else if(u==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const c=e,p=Object.keys(c).filter(h=>!h.startsWith("_")&&!a.has(h)),g={};for(const h of p)g[h]=c[h];for(const[h,y]of Object.entries(g)){const _=[];for(const S of o.slice(l))S==="*"?_.push(h):_.push(S);d(c,_,y)}for(const h of p)delete c[h]}}else{const c=e;u in c&&Ff(c[u],t,o,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vd(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pM(e){const t={},o=f(e,["operationName"]);o!=null&&d(t,["operationName"],o);const l=f(e,["resourceName"]);return l!=null&&d(t,["_url","resourceName"],l),t}function hM(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["response","generateVideoResponse"]);return c!=null&&d(t,["response"],gM(c)),t}function mM(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["response"]);return c!=null&&d(t,["response"],yM(c)),t}function gM(e){const t={},o=f(e,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>vM(c))),d(t,["generatedVideos"],u)}const l=f(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function yM(e){const t={},o=f(e,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>_M(c))),d(t,["generatedVideos"],u)}const l=f(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function vM(e){const t={},o=f(e,["video"]);return o!=null&&d(t,["video"],AM(o)),t}function _M(e){const t={},o=f(e,["_self"]);return o!=null&&d(t,["video"],NM(o)),t}function SM(e){const t={},o=f(e,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function EM(e){const t={},o=f(e,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function TM(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["response"]);return c!=null&&d(t,["response"],CM(c)),t}function CM(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["parent"]);l!=null&&d(t,["parent"],l);const a=f(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function g_(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["response"]);return c!=null&&d(t,["response"],xM(c)),t}function xM(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["parent"]);l!=null&&d(t,["parent"],l);const a=f(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function AM(e){const t={},o=f(e,["uri"]);o!=null&&d(t,["uri"],o);const l=f(e,["encodedVideo"]);l!=null&&d(t,["videoBytes"],vd(l));const a=f(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function NM(e){const t={},o=f(e,["gcsUri"]);o!=null&&d(t,["uri"],o);const l=f(e,["bytesBase64Encoded"]);l!=null&&d(t,["videoBytes"],vd(l));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yy;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yy||(yy={}));var vy;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(vy||(vy={}));var _y;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(_y||(_y={}));var Oe;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Oe||(Oe={}));var Sy;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Sy||(Sy={}));var Ey;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ey||(Ey={}));var Ty;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(Ty||(Ty={}));var Cy;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Cy||(Cy={}));var xy;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(xy||(xy={}));var Ay;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Ay||(Ay={}));var Ny;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Ny||(Ny={}));var wy;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(wy||(wy={}));var My;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(My||(My={}));var Ry;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Ry||(Ry={}));var by;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(by||(by={}));var Iy;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Iy||(Iy={}));var Dy;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Dy||(Dy={}));var Uy;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Uy||(Uy={}));var zy;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(zy||(zy={}));var zr;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(zr||(zr={}));var Ly;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ly||(Ly={}));var Hy;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Hy||(Hy={}));var ky;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ky||(ky={}));var Of;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Of||(Of={}));var qy;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(qy||(qy={}));var Gy;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Gy||(Gy={}));var Vy;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Vy||(Vy={}));var Py;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Py||(Py={}));var By;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(By||(By={}));var Fy;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Fy||(Fy={}));var Oy;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Oy||(Oy={}));var Yy;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Yy||(Yy={}));var Jy;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Jy||(Jy={}));var Xy;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Xy||(Xy={}));var $y;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($y||($y={}));var Ky;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ky||(Ky={}));var Zy;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Zy||(Zy={}));var Qy;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qy||(Qy={}));var Wy;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(Wy||(Wy={}));var jy;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(jy||(jy={}));var e0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(e0||(e0={}));var t0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(t0||(t0={}));var n0;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(n0||(n0={}));var i0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(i0||(i0={}));var o0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(o0||(o0={}));var l0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(l0||(l0={}));var s0;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(s0||(s0={}));var a0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(a0||(a0={}));var r0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(r0||(r0={}));var u0;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(u0||(u0={}));var c0;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(c0||(c0={}));var f0;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(f0||(f0={}));var d0;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(d0||(d0={}));var p0;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(p0||(p0={}));var al;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(al||(al={}));class Yf{constructor(t){const o={};for(const l of t.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class xs{get text(){var t,o,l,a,u,c,p,g;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const _=[];for(const S of(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[T,w]of Object.entries(S))T!=="text"&&T!=="thought"&&T!=="thoughtSignature"&&(w!==null||w!==void 0)&&_.push(T);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,h+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var t,o,l,a,u,c,p,g;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const _ of(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[S,T]of Object.entries(_))S!=="inlineData"&&(T!==null||T!==void 0)&&y.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,l,a,u,c,p,g;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,l,a,u,c,p,g,h;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,l,a,u,c,p,g,h;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(p=(c=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(h=y==null?void 0:y[0])===null||h===void 0?void 0:h.output}}class h0{}class m0{}class wM{}class MM{}class RM{}class bM{}class g0{}class y0{}class v0{}class IM{}class Lr{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new Lr;let a;const u=t;return o?a=mM(u):a=hM(u),Object.assign(l,a),l}}class _0{}class S0{}class E0{}class DM{}class UM{}class zM{}class _d{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new _d,u=TM(t);return Object.assign(l,u),l}}class LM{}class HM{}class kM{}class T0{}class qM{get text(){var t,o,l;let a="",u=!1;const c=[];for(const p of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[g,h]of Object.entries(p))g!=="text"&&g!=="thought"&&h!==null&&c.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,a+=p.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var t,o,l;let a="";const u=[];for(const c of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,g]of Object.entries(c))p!=="inlineData"&&g!==null&&u.push(p);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class GM{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sd{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new Sd,u=g_(t);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function y_(e,t){const o=Ue(e,t);return o?o.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${o}`:o.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${o}`:o:""}function v_(e){return Array.isArray(e)?e.map(t=>Hr(t)):[Hr(e)]}function Hr(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function __(e){const t=Hr(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function S_(e){const t=Hr(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function C0(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function E_(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>C0(t)):[C0(e)]}function Jf(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function x0(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function A0(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Nt(e){if(e==null)throw new Error("ContentUnion is required");return Jf(e)?e:{role:"user",parts:E_(e)}}function Ed(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const l=Nt(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(e.isVertexAI()){const o=Nt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>Nt(o)):[Nt(t)]}function cn(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(x0(e)||A0(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(e)]}const t=[],o=[],l=Jf(e[0]);for(const a of e){const u=Jf(a);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(a);else{if(x0(a)||A0(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return l||t.push({role:"user",parts:E_(o)}),t}function VM(e,t){e.includes("null")&&(t.nullable=!0);const o=e.filter(l=>l!=="null");if(o.length===1)t.type=Object.values(Oe).includes(o[0].toUpperCase())?o[0].toUpperCase():Oe.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of o)t.anyOf.push({type:Object.values(Oe).includes(l.toUpperCase())?l.toUpperCase():Oe.TYPE_UNSPECIFIED})}}function dl(e){const t={},o=["items"],l=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=e.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,e=u[1]):u[1].type==="null"&&(t.nullable=!0,e=u[0])),e.type instanceof Array&&VM(e.type,t);for(const[c,p]of Object.entries(e))if(p!=null)if(c=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;t.type=Object.values(Oe).includes(p.toUpperCase())?p.toUpperCase():Oe.TYPE_UNSPECIFIED}else if(o.includes(c))t[c]=dl(p);else if(l.includes(c)){const g=[];for(const h of p){if(h.type=="null"){t.nullable=!0;continue}g.push(dl(h))}t[c]=g}else if(a.includes(c)){const g={};for(const[h,y]of Object.entries(p))g[h]=dl(y);t[c]=g}else{if(c==="additionalProperties")continue;t[c]=p}return t}function Td(e){return dl(e)}function Cd(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function xd(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Sl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=dl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=dl(t.response));return e}function El(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function PM(e,t,o,l=1){const a=!t.startsWith(`${o}/`)&&t.split("/").length===l;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${o}/${t}`:t:a?`${o}/${t}`:t}function si(e,t){if(typeof t!="string")throw new Error("name must be a string");return PM(e,t,"cachedContents")}function T_(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Yi(e){return vd(e)}function BM(e){return e!=null&&typeof e=="object"&&"name"in e}function FM(e){return e!=null&&typeof e=="object"&&"video"in e}function OM(e){return e!=null&&typeof e=="object"&&"uri"in e}function C_(e){var t;let o;if(BM(e)&&(o=e.name),!(OM(e)&&(o=e.uri,o===void 0))&&!(FM(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function x_(e,t){let o;return e.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function A_(e){for(const t of["models","tunedModels","publisherModels"])if(YM(e,t))return e[t];return[]}function YM(e,t){return e!==null&&typeof e=="object"&&t in e}function JM(e,t={}){const o=e,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function XM(e,t={}){const o=[],l=new Set;for(const a of e){const u=a.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const c=JM(a,t);c.functionDeclarations&&o.push(...c.functionDeclarations)}return{functionDeclarations:o}}function N_(e,t){let o;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function $M(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function w_(e){if(typeof e!="object"||e===null)return{};const t=e,o=t.inlinedResponses;if(typeof o!="object"||o===null)return e;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let u=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){u=!0;break}}return u&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Tl(e,t){const o=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function M_(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KM(e){const t={},o=f(e,["responsesFile"]);o!=null&&d(t,["fileName"],o);const l=f(e,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>RR(c))),d(t,["inlinedResponses"],u)}const a=f(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["inlinedEmbedContentResponses"],u)}return t}function ZM(e){const t={},o=f(e,["predictionsFormat"]);o!=null&&d(t,["format"],o);const l=f(e,["gcsDestination","outputUriPrefix"]);l!=null&&d(t,["gcsUri"],l);const a=f(e,["bigqueryDestination","outputUri"]);return a!=null&&d(t,["bigqueryUri"],a),t}function QM(e){const t={},o=f(e,["format"]);o!=null&&d(t,["predictionsFormat"],o);const l=f(e,["gcsUri"]);l!=null&&d(t,["gcsDestination","outputUriPrefix"],l);const a=f(e,["bigqueryUri"]);if(a!=null&&d(t,["bigqueryDestination","outputUri"],a),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function xr(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata","displayName"]);l!=null&&d(t,["displayName"],l);const a=f(e,["metadata","state"]);a!=null&&d(t,["state"],M_(a));const u=f(e,["metadata","createTime"]);u!=null&&d(t,["createTime"],u);const c=f(e,["metadata","endTime"]);c!=null&&d(t,["endTime"],c);const p=f(e,["metadata","updateTime"]);p!=null&&d(t,["updateTime"],p);const g=f(e,["metadata","model"]);g!=null&&d(t,["model"],g);const h=f(e,["metadata","output"]);return h!=null&&d(t,["dest"],KM(w_(h))),t}function Xf(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["displayName"]);l!=null&&d(t,["displayName"],l);const a=f(e,["state"]);a!=null&&d(t,["state"],M_(a));const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["createTime"]);c!=null&&d(t,["createTime"],c);const p=f(e,["startTime"]);p!=null&&d(t,["startTime"],p);const g=f(e,["endTime"]);g!=null&&d(t,["endTime"],g);const h=f(e,["updateTime"]);h!=null&&d(t,["updateTime"],h);const y=f(e,["model"]);y!=null&&d(t,["model"],y);const _=f(e,["inputConfig"]);_!=null&&d(t,["src"],WM(_));const S=f(e,["outputConfig"]);S!=null&&d(t,["dest"],ZM(w_(S)));const T=f(e,["completionStats"]);return T!=null&&d(t,["completionStats"],T),t}function WM(e){const t={},o=f(e,["instancesFormat"]);o!=null&&d(t,["format"],o);const l=f(e,["gcsSource","uris"]);l!=null&&d(t,["gcsUri"],l);const a=f(e,["bigquerySource","inputUri"]);return a!=null&&d(t,["bigqueryUri"],a),t}function jM(e,t){const o={};if(f(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=f(t,["fileName"]);l!=null&&d(o,["fileName"],l);const a=f(t,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>MR(e,c))),d(o,["requests","requests"],u)}return o}function eR(e){const t={},o=f(e,["format"]);o!=null&&d(t,["instancesFormat"],o);const l=f(e,["gcsUri"]);l!=null&&d(t,["gcsSource","uris"],l);const a=f(e,["bigqueryUri"]);if(a!=null&&d(t,["bigquerySource","inputUri"],a),f(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function tR(e){const t={},o=f(e,["data"]);if(o!=null&&d(t,["data"],o),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function nR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],Tl(e,l)),o}function iR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],Tl(e,l)),o}function oR(e){const t={},o=f(e,["content"]);o!=null&&d(t,["content"],o);const l=f(e,["citationMetadata"]);l!=null&&d(t,["citationMetadata"],lR(l));const a=f(e,["tokenCount"]);a!=null&&d(t,["tokenCount"],a);const u=f(e,["finishReason"]);u!=null&&d(t,["finishReason"],u);const c=f(e,["avgLogprobs"]);c!=null&&d(t,["avgLogprobs"],c);const p=f(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const g=f(e,["index"]);g!=null&&d(t,["index"],g);const h=f(e,["logprobsResult"]);h!=null&&d(t,["logprobsResult"],h);const y=f(e,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(T=>T)),d(t,["safetyRatings"],S)}const _=f(e,["urlContextMetadata"]);return _!=null&&d(t,["urlContextMetadata"],_),t}function lR(e){const t={},o=f(e,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["citations"],l)}return t}function R_(e){const t={},o=f(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>HR(u))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function sR(e,t){const o={},l=f(e,["displayName"]);if(t!==void 0&&l!=null&&d(t,["batch","displayName"],l),f(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function aR(e,t){const o={},l=f(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const a=f(e,["dest"]);return t!==void 0&&a!=null&&d(t,["outputConfig"],QM($M(a))),o}function N0(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["src"]);a!=null&&d(o,["batch","inputConfig"],jM(e,N_(e,a)));const u=f(t,["config"]);return u!=null&&sR(u,o),o}function rR(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["model"],Ue(e,l));const a=f(t,["src"]);a!=null&&d(o,["inputConfig"],eR(N_(e,a)));const u=f(t,["config"]);return u!=null&&aR(u,o),o}function uR(e,t){const o={},l=f(e,["displayName"]);return t!==void 0&&l!=null&&d(t,["batch","displayName"],l),o}function cR(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["src"]);a!=null&&d(o,["batch","inputConfig"],yR(e,a));const u=f(t,["config"]);return u!=null&&uR(u,o),o}function fR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],Tl(e,l)),o}function dR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],Tl(e,l)),o}function pR(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);return u!=null&&d(t,["error"],u),t}function hR(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);return u!=null&&d(t,["error"],u),t}function mR(e,t){const o={},l=f(t,["contents"]);if(l!=null){let u=Ed(e,l);Array.isArray(u)&&(u=u.map(c=>c)),d(o,["requests[]","request","content"],u)}const a=f(t,["config"]);return a!=null&&(d(o,["_self"],gR(a,o)),dM(o,{"requests[].*":"requests[].request.*"})),o}function gR(e,t){const o={},l=f(e,["taskType"]);t!==void 0&&l!=null&&d(t,["requests[]","taskType"],l);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["requests[]","title"],a);const u=f(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&d(t,["requests[]","outputDimensionality"],u),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function yR(e,t){const o={},l=f(t,["fileName"]);l!=null&&d(o,["file_name"],l);const a=f(t,["inlinedRequests"]);return a!=null&&d(o,["requests"],mR(e,a)),o}function vR(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function _R(e){const t={},o=f(e,["id"]);o!=null&&d(t,["id"],o);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function SR(e){const t={},o=f(e,["mode"]);o!=null&&d(t,["mode"],o);const l=f(e,["allowedFunctionNames"]);if(l!=null&&d(t,["allowedFunctionNames"],l),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function ER(e,t,o){const l={},a=f(t,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],R_(Nt(a)));const u=f(t,["temperature"]);u!=null&&d(l,["temperature"],u);const c=f(t,["topP"]);c!=null&&d(l,["topP"],c);const p=f(t,["topK"]);p!=null&&d(l,["topK"],p);const g=f(t,["candidateCount"]);g!=null&&d(l,["candidateCount"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const y=f(t,["stopSequences"]);y!=null&&d(l,["stopSequences"],y);const _=f(t,["responseLogprobs"]);_!=null&&d(l,["responseLogprobs"],_);const S=f(t,["logprobs"]);S!=null&&d(l,["logprobs"],S);const T=f(t,["presencePenalty"]);T!=null&&d(l,["presencePenalty"],T);const w=f(t,["frequencyPenalty"]);w!=null&&d(l,["frequencyPenalty"],w);const N=f(t,["seed"]);N!=null&&d(l,["seed"],N);const D=f(t,["responseMimeType"]);D!=null&&d(l,["responseMimeType"],D);const R=f(t,["responseSchema"]);R!=null&&d(l,["responseSchema"],Td(R));const L=f(t,["responseJsonSchema"]);if(L!=null&&d(l,["responseJsonSchema"],L),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=f(t,["safetySettings"]);if(o!==void 0&&z!=null){let oe=z;Array.isArray(oe)&&(oe=oe.map(ne=>kR(ne))),d(o,["safetySettings"],oe)}const U=f(t,["tools"]);if(o!==void 0&&U!=null){let oe=El(U);Array.isArray(oe)&&(oe=oe.map(ne=>GR(Sl(ne)))),d(o,["tools"],oe)}const O=f(t,["toolConfig"]);if(o!==void 0&&O!=null&&d(o,["toolConfig"],qR(O)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=f(t,["cachedContent"]);o!==void 0&&Y!=null&&d(o,["cachedContent"],si(e,Y));const F=f(t,["responseModalities"]);F!=null&&d(l,["responseModalities"],F);const ie=f(t,["mediaResolution"]);ie!=null&&d(l,["mediaResolution"],ie);const H=f(t,["speechConfig"]);if(H!=null&&d(l,["speechConfig"],Cd(H)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=f(t,["thinkingConfig"]);K!=null&&d(l,["thinkingConfig"],K);const W=f(t,["imageConfig"]);return W!=null&&d(l,["imageConfig"],wR(W)),l}function TR(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(h=>oR(h))),d(t,["candidates"],g)}const a=f(e,["modelVersion"]);a!=null&&d(t,["modelVersion"],a);const u=f(e,["promptFeedback"]);u!=null&&d(t,["promptFeedback"],u);const c=f(e,["responseId"]);c!=null&&d(t,["responseId"],c);const p=f(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function CR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],Tl(e,l)),o}function xR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],Tl(e,l)),o}function AR(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function NR(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function wR(e){const t={},o=f(e,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const l=f(e,["imageSize"]);if(l!=null&&d(t,["imageSize"],l),f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function MR(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["request","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let p=cn(a);Array.isArray(p)&&(p=p.map(g=>R_(g))),d(o,["request","contents"],p)}const u=f(t,["metadata"]);u!=null&&d(o,["metadata"],u);const c=f(t,["config"]);return c!=null&&d(o,["request","generationConfig"],ER(e,c,f(o,["request"],{}))),o}function RR(e){const t={},o=f(e,["response"]);o!=null&&d(t,["response"],TR(o));const l=f(e,["error"]);return l!=null&&d(t,["error"],l),t}function bR(e,t){const o={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);if(t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),f(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function IR(e,t){const o={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const u=f(e,["filter"]);return t!==void 0&&u!=null&&d(t,["_query","filter"],u),o}function DR(e){const t={},o=f(e,["config"]);return o!=null&&bR(o,t),t}function UR(e){const t={},o=f(e,["config"]);return o!=null&&IR(o,t),t}function zR(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>xr(c))),d(t,["batchJobs"],u)}return t}function LR(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>Xf(c))),d(t,["batchJobs"],u)}return t}function HR(e){const t={},o=f(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=f(e,["fileData"]);u!=null&&d(t,["fileData"],vR(u));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],_R(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],tR(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const _=f(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=f(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function kR(e){const t={},o=f(e,["category"]);if(o!=null&&d(t,["category"],o),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=f(e,["threshold"]);return l!=null&&d(t,["threshold"],l),t}function qR(e){const t={},o=f(e,["functionCallingConfig"]);o!=null&&d(t,["functionCallingConfig"],SR(o));const l=f(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],l),t}function GR(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(_=>_)),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=f(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=f(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=f(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const c=f(e,["codeExecution"]);if(c!=null&&d(t,["codeExecution"],c),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],AR(p));const g=f(e,["googleSearch"]);g!=null&&d(t,["googleSearch"],NR(g));const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var oi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(oi||(oi={}));class Eo{constructor(t,o,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,l,a)}init(t,o,l){var a,u;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!l||Object.keys(l).length===0?c={config:{}}:typeof l=="object"?c=Object.assign({},l):c=l,c.config&&(c.config.pageToken=o.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(u=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VR extends li{constructor(t){super(),this.apiClient=t,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Eo(oi.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}createInlinedGenerateContentRequest(t){const o=N0(this.apiClient,t),l=o._url,a=fe("{model}:batchGenerateContent",l),p=o.batch.inputConfig.requests,g=p.requests,h=[];for(const y of g){const _=Object.assign({},y);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const T=_.request;T.systemInstruction=S,_.request=T}h.push(_)}return p.requests=h,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const l=o?Object.assign({},o):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const u=this.getGcsUri(t),c=this.getBigqueryUri(t);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${a}`;else if(c)l.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=rR(this.apiClient,t);return p=fe("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Xf(y))}else{const h=N0(this.apiClient,t);return p=fe("{model}:batchGenerateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>xr(y))}}async createEmbeddingsInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=cR(this.apiClient,t);return u=fe("{model}:asyncBatchEmbedContent",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>xr(g))}}async get(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=xR(this.apiClient,t);return p=fe("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Xf(y))}else{const h=CR(this.apiClient,t);return p=fe("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>xr(y))}}async cancel(t){var o,l,a,u;let c="",p={};if(this.apiClient.isVertexAI()){const g=iR(this.apiClient,t);c=fe("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const g=nR(this.apiClient,t);c=fe("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=UR(t);return p=fe("batchPredictionJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=LR(y),S=new T0;return Object.assign(S,_),S})}else{const h=DR(t);return p=fe("batches",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=zR(y),S=new T0;return Object.assign(S,_),S})}}async delete(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=dR(this.apiClient,t);return p=fe("batchPredictionJobs/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>hR(y))}else{const h=fR(this.apiClient,t);return p=fe("batches/{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>pR(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PR(e){const t={},o=f(e,["data"]);if(o!=null&&d(t,["data"],o),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function w0(e){const t={},o=f(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>cb(u))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function BR(e,t){const o={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const u=f(e,["displayName"]);t!==void 0&&u!=null&&d(t,["displayName"],u);const c=f(e,["contents"]);if(t!==void 0&&c!=null){let y=cn(c);Array.isArray(y)&&(y=y.map(_=>w0(_))),d(t,["contents"],y)}const p=f(e,["systemInstruction"]);t!==void 0&&p!=null&&d(t,["systemInstruction"],w0(Nt(p)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>db(_))),d(t,["tools"],y)}const h=f(e,["toolConfig"]);if(t!==void 0&&h!=null&&d(t,["toolConfig"],fb(h)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function FR(e,t){const o={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const u=f(e,["displayName"]);t!==void 0&&u!=null&&d(t,["displayName"],u);const c=f(e,["contents"]);if(t!==void 0&&c!=null){let _=cn(c);Array.isArray(_)&&(_=_.map(S=>S)),d(t,["contents"],_)}const p=f(e,["systemInstruction"]);t!==void 0&&p!=null&&d(t,["systemInstruction"],Nt(p));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>pb(S))),d(t,["tools"],_)}const h=f(e,["toolConfig"]);t!==void 0&&h!=null&&d(t,["toolConfig"],h);const y=f(e,["kmsKeyName"]);return t!==void 0&&y!=null&&d(t,["encryption_spec","kmsKeyName"],y),o}function OR(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["model"],y_(e,l));const a=f(t,["config"]);return a!=null&&BR(a,o),o}function YR(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["model"],y_(e,l));const a=f(t,["config"]);return a!=null&&FR(a,o),o}function JR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],si(e,l)),o}function XR(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],si(e,l)),o}function $R(e){const t={},o=f(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function KR(e){const t={},o=f(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function ZR(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function QR(e){const t={},o=f(e,["id"]);o!=null&&d(t,["id"],o);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function WR(e){const t={},o=f(e,["mode"]);o!=null&&d(t,["mode"],o);const l=f(e,["allowedFunctionNames"]);if(l!=null&&d(t,["allowedFunctionNames"],l),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function jR(e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(e,["description"]);o!=null&&d(t,["description"],o);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const u=f(e,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const c=f(e,["response"]);c!=null&&d(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&d(t,["responseJsonSchema"],p),t}function eb(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],si(e,l)),o}function tb(e,t){const o={},l=f(t,["name"]);return l!=null&&d(o,["_url","name"],si(e,l)),o}function nb(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function ib(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function ob(e,t){const o={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function lb(e,t){const o={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function sb(e){const t={},o=f(e,["config"]);return o!=null&&ob(o,t),t}function ab(e){const t={},o=f(e,["config"]);return o!=null&&lb(o,t),t}function rb(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["cachedContents"],u)}return t}function ub(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["cachedContents"],u)}return t}function cb(e){const t={},o=f(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=f(e,["fileData"]);u!=null&&d(t,["fileData"],ZR(u));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],QR(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],PR(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const _=f(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=f(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function fb(e){const t={},o=f(e,["functionCallingConfig"]);o!=null&&d(t,["functionCallingConfig"],WR(o));const l=f(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],l),t}function db(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(_=>_)),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=f(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=f(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=f(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const c=f(e,["codeExecution"]);if(c!=null&&d(t,["codeExecution"],c),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],nb(p));const g=f(e,["googleSearch"]);g!=null&&d(t,["googleSearch"],ib(g));const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}function pb(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>jR(S))),d(t,["functionDeclarations"],_)}const l=f(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const a=f(e,["googleSearchRetrieval"]);a!=null&&d(t,["googleSearchRetrieval"],a);const u=f(e,["computerUse"]);if(u!=null&&d(t,["computerUse"],u),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(e,["codeExecution"]);c!=null&&d(t,["codeExecution"],c);const p=f(e,["enterpriseWebSearch"]);p!=null&&d(t,["enterpriseWebSearch"],p);const g=f(e,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const h=f(e,["googleSearch"]);h!=null&&d(t,["googleSearch"],h);const y=f(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function hb(e,t){const o={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),o}function mb(e,t){const o={},l=f(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),o}function gb(e,t){const o={},l=f(t,["name"]);l!=null&&d(o,["_url","name"],si(e,l));const a=f(t,["config"]);return a!=null&&hb(a,o),o}function yb(e,t){const o={},l=f(t,["name"]);l!=null&&d(o,["_url","name"],si(e,l));const a=f(t,["config"]);return a!=null&&mb(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vb extends li{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Eo(oi.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=YR(this.apiClient,t);return p=fe("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=OR(this.apiClient,t);return p=fe("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async get(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=tb(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=eb(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async delete(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=XR(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=KR(y),S=new S0;return Object.assign(S,_),S})}else{const h=JR(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=$R(y),S=new S0;return Object.assign(S,_),S})}}async update(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=yb(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>y)}else{const h=gb(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>y)}}async listInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=ab(t);return p=fe("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=ub(y),S=new E0;return Object.assign(S,_),S})}else{const h=sb(t);return p=fe("cachedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=rb(y),S=new E0;return Object.assign(S,_),S})}}}function M0(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],l=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xe(e){return this instanceof Xe?(this.v=e,this):new Xe(e)}function pl(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(e,t||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(T){return function(w){return Promise.resolve(w).then(T,_)}}function p(T,w){l[T]&&(a[T]=function(N){return new Promise(function(D,R){u.push([T,N,D,R])>1||g(T,N)})},w&&(a[T]=w(a[T])))}function g(T,w){try{h(l[T](w))}catch(N){S(u[0][3],N)}}function h(T){T.value instanceof Xe?Promise.resolve(T.value.v).then(y,_):S(u[0][2],T)}function y(T){g("next",T)}function _(T){g("throw",T)}function S(T,w){T(w),u.shift(),u.length&&g(u[0][0],u[0][1])}}function Rs(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],o;return t?t.call(e):(e=typeof M0=="function"?M0(e):e[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(u){o[u]=e[u]&&function(c){return new Promise(function(p,g){c=e[u](c),a(p,g,c.done,c.value)})}}function a(u,c,p,g){Promise.resolve(g).then(function(h){u({value:h,done:p})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _b(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const o=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:b_(o)}function b_(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Sb(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function R0(e){if(e===void 0||e.length===0)return[];const t=[],o=e.length;let l=0;for(;l<o;)if(e[l].role==="user")t.push(e[l]),l++;else{const a=[];let u=!0;for(;l<o&&e[l].role==="model";)a.push(e[l]),u&&!b_(e[l])&&(u=!1),l++;u?t.push(...a):t.pop()}return t}class Eb{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new Tb(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Tb{constructor(t,o,l,a={},u=[]){this.apiClient=t,this.modelsModule=o,this.model=l,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),Sb(u)}async sendMessage(t){var o;await this.sendPromise;const l=Nt(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,c,p;const g=await a,h=(c=(u=g.candidates)===null||u===void 0?void 0:u[0])===null||c===void 0?void 0:c.content,y=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];y!=null&&(S=(p=y.slice(_))!==null&&p!==void 0?p:[]);const T=h?[h]:[];this.recordHistory(l,T,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var o;await this.sendPromise;const l=Nt(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,l)}getHistory(t=!1){const o=t?R0(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){var l,a;return pl(this,arguments,function*(){var c,p,g,h;const y=[];try{for(var _=!0,S=Rs(t),T;T=yield Xe(S.next()),c=T.done,!c;_=!0){h=T.value,_=!1;const w=h;if(_b(w)){const N=(a=(l=w.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content;N!==void 0&&y.push(N)}yield yield Xe(w)}}catch(w){p={error:w}}finally{try{!_&&!c&&(g=S.return)&&(yield Xe(g.call(S)))}finally{if(p)throw p.error}}this.recordHistory(o,y)})}recordHistory(t,o,l){let a=[];o.length>0&&o.every(u=>u.role!==void 0)?a=o:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...R0(l)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Or extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Or.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cb(e){const t={},o=f(e,["file"]);return o!=null&&d(t,["file"],o),t}function xb(e){const t={},o=f(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function Ab(e){const t={},o=f(e,["name"]);return o!=null&&d(t,["_url","file"],C_(o)),t}function Nb(e){const t={},o=f(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function wb(e){const t={},o=f(e,["name"]);return o!=null&&d(t,["_url","file"],C_(o)),t}function Mb(e,t){const o={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function Rb(e){const t={},o=f(e,["config"]);return o!=null&&Mb(o,t),t}function bb(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["files"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ib extends li{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Eo(oi.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Rb(t);return u=fe("files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=bb(g),y=new LM;return Object.assign(y,h),y})}}async createInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Cb(t);return u=fe("upload/v1beta/files",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=xb(g),y=new HM;return Object.assign(y,h),y})}}async get(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=wb(t);return u=fe("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Ab(t);return u=fe("files/{file}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=Nb(g),y=new kM;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ar(e){const t={},o=f(e,["data"]);if(o!=null&&d(t,["data"],o),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Db(e){const t={},o=f(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>$b(u))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function Ub(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function zb(e){const t={},o=f(e,["id"]);o!=null&&d(t,["id"],o);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Lb(e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(e,["description"]);o!=null&&d(t,["description"],o);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const u=f(e,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const c=f(e,["response"]);c!=null&&d(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&d(t,["responseJsonSchema"],p),t}function Hb(e){const t={},o=f(e,["modelSelectionConfig"]);o!=null&&d(t,["modelConfig"],o);const l=f(e,["responseJsonSchema"]);l!=null&&d(t,["responseJsonSchema"],l);const a=f(e,["audioTimestamp"]);a!=null&&d(t,["audioTimestamp"],a);const u=f(e,["candidateCount"]);u!=null&&d(t,["candidateCount"],u);const c=f(e,["enableAffectiveDialog"]);c!=null&&d(t,["enableAffectiveDialog"],c);const p=f(e,["frequencyPenalty"]);p!=null&&d(t,["frequencyPenalty"],p);const g=f(e,["logprobs"]);g!=null&&d(t,["logprobs"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(t,["maxOutputTokens"],h);const y=f(e,["mediaResolution"]);y!=null&&d(t,["mediaResolution"],y);const _=f(e,["presencePenalty"]);_!=null&&d(t,["presencePenalty"],_);const S=f(e,["responseLogprobs"]);S!=null&&d(t,["responseLogprobs"],S);const T=f(e,["responseMimeType"]);T!=null&&d(t,["responseMimeType"],T);const w=f(e,["responseModalities"]);w!=null&&d(t,["responseModalities"],w);const N=f(e,["responseSchema"]);N!=null&&d(t,["responseSchema"],N);const D=f(e,["routingConfig"]);D!=null&&d(t,["routingConfig"],D);const R=f(e,["seed"]);R!=null&&d(t,["seed"],R);const L=f(e,["speechConfig"]);L!=null&&d(t,["speechConfig"],I_(L));const z=f(e,["stopSequences"]);z!=null&&d(t,["stopSequences"],z);const U=f(e,["temperature"]);U!=null&&d(t,["temperature"],U);const O=f(e,["thinkingConfig"]);O!=null&&d(t,["thinkingConfig"],O);const Y=f(e,["topK"]);Y!=null&&d(t,["topK"],Y);const F=f(e,["topP"]);if(F!=null&&d(t,["topP"],F),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function kb(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function qb(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function Gb(e,t){const o={},l=f(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const u=f(e,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const c=f(e,["topP"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topP"],c);const p=f(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const _=f(e,["speechConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","speechConfig"],xd(_));const S=f(e,["thinkingConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","thinkingConfig"],S);const T=f(e,["enableAffectiveDialog"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],T);const w=f(e,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],Db(Nt(w)));const N=f(e,["tools"]);if(t!==void 0&&N!=null){let Y=El(N);Array.isArray(Y)&&(Y=Y.map(F=>Zb(Sl(F)))),d(t,["setup","tools"],Y)}const D=f(e,["sessionResumption"]);t!==void 0&&D!=null&&d(t,["setup","sessionResumption"],Kb(D));const R=f(e,["inputAudioTranscription"]);t!==void 0&&R!=null&&d(t,["setup","inputAudioTranscription"],R);const L=f(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&d(t,["setup","outputAudioTranscription"],L);const z=f(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&d(t,["setup","realtimeInputConfig"],z);const U=f(e,["contextWindowCompression"]);t!==void 0&&U!=null&&d(t,["setup","contextWindowCompression"],U);const O=f(e,["proactivity"]);return t!==void 0&&O!=null&&d(t,["setup","proactivity"],O),o}function Vb(e,t){const o={},l=f(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],Hb(l));const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const u=f(e,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const c=f(e,["topP"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topP"],c);const p=f(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const _=f(e,["speechConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","speechConfig"],I_(xd(_)));const S=f(e,["thinkingConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","thinkingConfig"],S);const T=f(e,["enableAffectiveDialog"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],T);const w=f(e,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],Nt(w));const N=f(e,["tools"]);if(t!==void 0&&N!=null){let Y=El(N);Array.isArray(Y)&&(Y=Y.map(F=>Qb(Sl(F)))),d(t,["setup","tools"],Y)}const D=f(e,["sessionResumption"]);t!==void 0&&D!=null&&d(t,["setup","sessionResumption"],D);const R=f(e,["inputAudioTranscription"]);t!==void 0&&R!=null&&d(t,["setup","inputAudioTranscription"],R);const L=f(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&d(t,["setup","outputAudioTranscription"],L);const z=f(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&d(t,["setup","realtimeInputConfig"],z);const U=f(e,["contextWindowCompression"]);t!==void 0&&U!=null&&d(t,["setup","contextWindowCompression"],U);const O=f(e,["proactivity"]);return t!==void 0&&O!=null&&d(t,["setup","proactivity"],O),o}function Pb(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["setup","model"],Ue(e,l));const a=f(t,["config"]);return a!=null&&d(o,["config"],Gb(a,o)),o}function Bb(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["setup","model"],Ue(e,l));const a=f(t,["config"]);return a!=null&&d(o,["config"],Vb(a,o)),o}function Fb(e){const t={},o=f(e,["musicGenerationConfig"]);return o!=null&&d(t,["musicGenerationConfig"],o),t}function Ob(e){const t={},o=f(e,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["weightedPrompts"],l)}return t}function Yb(e){const t={},o=f(e,["media"]);if(o!=null){let h=v_(o);Array.isArray(h)&&(h=h.map(y=>Ar(y))),d(t,["mediaChunks"],h)}const l=f(e,["audio"]);l!=null&&d(t,["audio"],Ar(S_(l)));const a=f(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const u=f(e,["video"]);u!=null&&d(t,["video"],Ar(__(u)));const c=f(e,["text"]);c!=null&&d(t,["text"],c);const p=f(e,["activityStart"]);p!=null&&d(t,["activityStart"],p);const g=f(e,["activityEnd"]);return g!=null&&d(t,["activityEnd"],g),t}function Jb(e){const t={},o=f(e,["media"]);if(o!=null){let h=v_(o);Array.isArray(h)&&(h=h.map(y=>y)),d(t,["mediaChunks"],h)}const l=f(e,["audio"]);l!=null&&d(t,["audio"],S_(l));const a=f(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const u=f(e,["video"]);u!=null&&d(t,["video"],__(u));const c=f(e,["text"]);c!=null&&d(t,["text"],c);const p=f(e,["activityStart"]);p!=null&&d(t,["activityStart"],p);const g=f(e,["activityEnd"]);return g!=null&&d(t,["activityEnd"],g),t}function Xb(e){const t={},o=f(e,["setupComplete"]);o!=null&&d(t,["setupComplete"],o);const l=f(e,["serverContent"]);l!=null&&d(t,["serverContent"],l);const a=f(e,["toolCall"]);a!=null&&d(t,["toolCall"],a);const u=f(e,["toolCallCancellation"]);u!=null&&d(t,["toolCallCancellation"],u);const c=f(e,["usageMetadata"]);c!=null&&d(t,["usageMetadata"],Wb(c));const p=f(e,["goAway"]);p!=null&&d(t,["goAway"],p);const g=f(e,["sessionResumptionUpdate"]);return g!=null&&d(t,["sessionResumptionUpdate"],g),t}function $b(e){const t={},o=f(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=f(e,["fileData"]);u!=null&&d(t,["fileData"],Ub(u));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],zb(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],Ar(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const _=f(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=f(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function Kb(e){const t={},o=f(e,["handle"]);if(o!=null&&d(t,["handle"],o),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function I_(e){const t={},o=f(e,["languageCode"]);o!=null&&d(t,["languageCode"],o);const l=f(e,["voiceConfig"]);if(l!=null&&d(t,["voiceConfig"],l),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function Zb(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(_=>_)),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=f(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=f(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=f(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const c=f(e,["codeExecution"]);if(c!=null&&d(t,["codeExecution"],c),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],kb(p));const g=f(e,["googleSearch"]);g!=null&&d(t,["googleSearch"],qb(g));const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}function Qb(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>Lb(S))),d(t,["functionDeclarations"],_)}const l=f(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const a=f(e,["googleSearchRetrieval"]);a!=null&&d(t,["googleSearchRetrieval"],a);const u=f(e,["computerUse"]);if(u!=null&&d(t,["computerUse"],u),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(e,["codeExecution"]);c!=null&&d(t,["codeExecution"],c);const p=f(e,["enterpriseWebSearch"]);p!=null&&d(t,["enterpriseWebSearch"],p);const g=f(e,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const h=f(e,["googleSearch"]);h!=null&&d(t,["googleSearch"],h);const y=f(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function Wb(e){const t={},o=f(e,["promptTokenCount"]);o!=null&&d(t,["promptTokenCount"],o);const l=f(e,["cachedContentTokenCount"]);l!=null&&d(t,["cachedContentTokenCount"],l);const a=f(e,["candidatesTokenCount"]);a!=null&&d(t,["responseTokenCount"],a);const u=f(e,["toolUsePromptTokenCount"]);u!=null&&d(t,["toolUsePromptTokenCount"],u);const c=f(e,["thoughtsTokenCount"]);c!=null&&d(t,["thoughtsTokenCount"],c);const p=f(e,["totalTokenCount"]);p!=null&&d(t,["totalTokenCount"],p);const g=f(e,["promptTokensDetails"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(w=>w)),d(t,["promptTokensDetails"],T)}const h=f(e,["cacheTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(w=>w)),d(t,["cacheTokensDetails"],T)}const y=f(e,["candidatesTokensDetails"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(w=>w)),d(t,["responseTokensDetails"],T)}const _=f(e,["toolUsePromptTokensDetails"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(w=>w)),d(t,["toolUsePromptTokensDetails"],T)}const S=f(e,["trafficType"]);return S!=null&&d(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(e){const t={},o=f(e,["data"]);if(o!=null&&d(t,["data"],o),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function e2(e){const t={},o=f(e,["content"]);o!=null&&d(t,["content"],o);const l=f(e,["citationMetadata"]);l!=null&&d(t,["citationMetadata"],t2(l));const a=f(e,["tokenCount"]);a!=null&&d(t,["tokenCount"],a);const u=f(e,["finishReason"]);u!=null&&d(t,["finishReason"],u);const c=f(e,["avgLogprobs"]);c!=null&&d(t,["avgLogprobs"],c);const p=f(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const g=f(e,["index"]);g!=null&&d(t,["index"],g);const h=f(e,["logprobsResult"]);h!=null&&d(t,["logprobsResult"],h);const y=f(e,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(T=>T)),d(t,["safetyRatings"],S)}const _=f(e,["urlContextMetadata"]);return _!=null&&d(t,["urlContextMetadata"],_),t}function t2(e){const t={},o=f(e,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["citations"],l)}return t}function n2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let u=cn(a);Array.isArray(u)&&(u=u.map(c=>c)),d(o,["contents"],u)}return o}function i2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(t,["tokensInfo"],a)}return t}function o2(e){const t={},o=f(e,["values"]);o!=null&&d(t,["values"],o);const l=f(e,["statistics"]);return l!=null&&d(t,["statistics"],l2(l)),t}function l2(e){const t={},o=f(e,["truncated"]);o!=null&&d(t,["truncated"],o);const l=f(e,["token_count"]);return l!=null&&d(t,["tokenCount"],l),t}function Yr(e){const t={},o=f(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>hI(u))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function s2(e){const t={},o=f(e,["controlType"]);o!=null&&d(t,["controlType"],o);const l=f(e,["enableControlImageComputation"]);return l!=null&&d(t,["computeControl"],l),t}function a2(e){const t={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function r2(e,t){const o={},l=f(e,["systemInstruction"]);t!==void 0&&l!=null&&d(t,["systemInstruction"],Nt(l));const a=f(e,["tools"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>H_(p))),d(t,["tools"],c)}const u=f(e,["generationConfig"]);return t!==void 0&&u!=null&&d(t,["generationConfig"],j2(u)),o}function u2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(p=>Yr(p))),d(o,["contents"],c)}const u=f(t,["config"]);return u!=null&&a2(u),o}function c2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(p=>p)),d(o,["contents"],c)}const u=f(t,["config"]);return u!=null&&r2(u,o),o}function f2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["totalTokens"]);l!=null&&d(t,["totalTokens"],l);const a=f(e,["cachedContentTokenCount"]);return a!=null&&d(t,["cachedContentTokenCount"],a),t}function d2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["totalTokens"]);return l!=null&&d(t,["totalTokens"],l),t}function p2(e,t){const o={},l=f(t,["model"]);return l!=null&&d(o,["_url","name"],Ue(e,l)),o}function h2(e,t){const o={},l=f(t,["model"]);return l!=null&&d(o,["_url","name"],Ue(e,l)),o}function m2(e){const t={},o=f(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function g2(e){const t={},o=f(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function y2(e,t){const o={},l=f(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const u=f(e,["numberOfImages"]);t!==void 0&&u!=null&&d(t,["parameters","sampleCount"],u);const c=f(e,["aspectRatio"]);t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c);const p=f(e,["guidanceScale"]);t!==void 0&&p!=null&&d(t,["parameters","guidanceScale"],p);const g=f(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const h=f(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&d(t,["parameters","safetySetting"],h);const y=f(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const _=f(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&d(t,["parameters","includeSafetyAttributes"],_);const S=f(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const T=f(e,["language"]);t!==void 0&&T!=null&&d(t,["parameters","language"],T);const w=f(e,["outputMimeType"]);t!==void 0&&w!=null&&d(t,["parameters","outputOptions","mimeType"],w);const N=f(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const D=f(e,["addWatermark"]);t!==void 0&&D!=null&&d(t,["parameters","addWatermark"],D);const R=f(e,["labels"]);t!==void 0&&R!=null&&d(t,["labels"],R);const L=f(e,["editMode"]);t!==void 0&&L!=null&&d(t,["parameters","editMode"],L);const z=f(e,["baseSteps"]);return t!==void 0&&z!=null&&d(t,["parameters","editConfig","baseSteps"],z),o}function v2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=f(t,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>SI(g))),d(o,["instances[0]","referenceImages"],p)}const c=f(t,["config"]);return c!=null&&y2(c,o),o}function _2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Jr(u))),d(t,["generatedImages"],a)}return t}function S2(e,t){const o={},l=f(e,["taskType"]);t!==void 0&&l!=null&&d(t,["requests[]","taskType"],l);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["requests[]","title"],a);const u=f(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&d(t,["requests[]","outputDimensionality"],u),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function E2(e,t){const o={},l=f(e,["taskType"]);t!==void 0&&l!=null&&d(t,["instances[]","task_type"],l);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["instances[]","title"],a);const u=f(e,["outputDimensionality"]);t!==void 0&&u!=null&&d(t,["parameters","outputDimensionality"],u);const c=f(e,["mimeType"]);t!==void 0&&c!=null&&d(t,["instances[]","mimeType"],c);const p=f(e,["autoTruncate"]);return t!==void 0&&p!=null&&d(t,["parameters","autoTruncate"],p),o}function T2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let p=Ed(e,a);Array.isArray(p)&&(p=p.map(g=>g)),d(o,["requests[]","content"],p)}const u=f(t,["config"]);u!=null&&S2(u,o);const c=f(t,["model"]);return c!==void 0&&d(o,["requests[]","model"],Ue(e,c)),o}function C2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let c=Ed(e,a);Array.isArray(c)&&(c=c.map(p=>p)),d(o,["instances[]","content"],c)}const u=f(t,["config"]);return u!=null&&E2(u,o),o}function x2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["embeddings"],u)}const a=f(e,["metadata"]);return a!=null&&d(t,["metadata"],a),t}function A2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>o2(c))),d(t,["embeddings"],u)}const a=f(e,["metadata"]);return a!=null&&d(t,["metadata"],a),t}function N2(e){const t={},o=f(e,["endpoint"]);o!=null&&d(t,["name"],o);const l=f(e,["deployedModelId"]);return l!=null&&d(t,["deployedModelId"],l),t}function w2(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function M2(e){const t={},o=f(e,["id"]);o!=null&&d(t,["id"],o);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function R2(e){const t={},o=f(e,["mode"]);o!=null&&d(t,["mode"],o);const l=f(e,["allowedFunctionNames"]);if(l!=null&&d(t,["allowedFunctionNames"],l),f(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function b2(e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=f(e,["description"]);o!=null&&d(t,["description"],o);const l=f(e,["name"]);l!=null&&d(t,["name"],l);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const u=f(e,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const c=f(e,["response"]);c!=null&&d(t,["response"],c);const p=f(e,["responseJsonSchema"]);return p!=null&&d(t,["responseJsonSchema"],p),t}function I2(e,t,o){const l={},a=f(t,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],Yr(Nt(a)));const u=f(t,["temperature"]);u!=null&&d(l,["temperature"],u);const c=f(t,["topP"]);c!=null&&d(l,["topP"],c);const p=f(t,["topK"]);p!=null&&d(l,["topK"],p);const g=f(t,["candidateCount"]);g!=null&&d(l,["candidateCount"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const y=f(t,["stopSequences"]);y!=null&&d(l,["stopSequences"],y);const _=f(t,["responseLogprobs"]);_!=null&&d(l,["responseLogprobs"],_);const S=f(t,["logprobs"]);S!=null&&d(l,["logprobs"],S);const T=f(t,["presencePenalty"]);T!=null&&d(l,["presencePenalty"],T);const w=f(t,["frequencyPenalty"]);w!=null&&d(l,["frequencyPenalty"],w);const N=f(t,["seed"]);N!=null&&d(l,["seed"],N);const D=f(t,["responseMimeType"]);D!=null&&d(l,["responseMimeType"],D);const R=f(t,["responseSchema"]);R!=null&&d(l,["responseSchema"],Td(R));const L=f(t,["responseJsonSchema"]);if(L!=null&&d(l,["responseJsonSchema"],L),f(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=f(t,["safetySettings"]);if(o!==void 0&&z!=null){let oe=z;Array.isArray(oe)&&(oe=oe.map(ne=>EI(ne))),d(o,["safetySettings"],oe)}const U=f(t,["tools"]);if(o!==void 0&&U!=null){let oe=El(U);Array.isArray(oe)&&(oe=oe.map(ne=>MI(Sl(ne)))),d(o,["tools"],oe)}const O=f(t,["toolConfig"]);if(o!==void 0&&O!=null&&d(o,["toolConfig"],wI(O)),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=f(t,["cachedContent"]);o!==void 0&&Y!=null&&d(o,["cachedContent"],si(e,Y));const F=f(t,["responseModalities"]);F!=null&&d(l,["responseModalities"],F);const ie=f(t,["mediaResolution"]);ie!=null&&d(l,["mediaResolution"],ie);const H=f(t,["speechConfig"]);if(H!=null&&d(l,["speechConfig"],Cd(H)),f(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=f(t,["thinkingConfig"]);K!=null&&d(l,["thinkingConfig"],K);const W=f(t,["imageConfig"]);return W!=null&&d(l,["imageConfig"],oI(W)),l}function D2(e,t,o){const l={},a=f(t,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],Nt(a));const u=f(t,["temperature"]);u!=null&&d(l,["temperature"],u);const c=f(t,["topP"]);c!=null&&d(l,["topP"],c);const p=f(t,["topK"]);p!=null&&d(l,["topK"],p);const g=f(t,["candidateCount"]);g!=null&&d(l,["candidateCount"],g);const h=f(t,["maxOutputTokens"]);h!=null&&d(l,["maxOutputTokens"],h);const y=f(t,["stopSequences"]);y!=null&&d(l,["stopSequences"],y);const _=f(t,["responseLogprobs"]);_!=null&&d(l,["responseLogprobs"],_);const S=f(t,["logprobs"]);S!=null&&d(l,["logprobs"],S);const T=f(t,["presencePenalty"]);T!=null&&d(l,["presencePenalty"],T);const w=f(t,["frequencyPenalty"]);w!=null&&d(l,["frequencyPenalty"],w);const N=f(t,["seed"]);N!=null&&d(l,["seed"],N);const D=f(t,["responseMimeType"]);D!=null&&d(l,["responseMimeType"],D);const R=f(t,["responseSchema"]);R!=null&&d(l,["responseSchema"],Td(R));const L=f(t,["responseJsonSchema"]);L!=null&&d(l,["responseJsonSchema"],L);const z=f(t,["routingConfig"]);z!=null&&d(l,["routingConfig"],z);const U=f(t,["modelSelectionConfig"]);U!=null&&d(l,["modelConfig"],U);const O=f(t,["safetySettings"]);if(o!==void 0&&O!=null){let A=O;Array.isArray(A)&&(A=A.map(V=>V)),d(o,["safetySettings"],A)}const Y=f(t,["tools"]);if(o!==void 0&&Y!=null){let A=El(Y);Array.isArray(A)&&(A=A.map(V=>H_(Sl(V)))),d(o,["tools"],A)}const F=f(t,["toolConfig"]);o!==void 0&&F!=null&&d(o,["toolConfig"],F);const ie=f(t,["labels"]);o!==void 0&&ie!=null&&d(o,["labels"],ie);const H=f(t,["cachedContent"]);o!==void 0&&H!=null&&d(o,["cachedContent"],si(e,H));const K=f(t,["responseModalities"]);K!=null&&d(l,["responseModalities"],K);const W=f(t,["mediaResolution"]);W!=null&&d(l,["mediaResolution"],W);const oe=f(t,["speechConfig"]);oe!=null&&d(l,["speechConfig"],L_(Cd(oe)));const ne=f(t,["audioTimestamp"]);ne!=null&&d(l,["audioTimestamp"],ne);const M=f(t,["thinkingConfig"]);M!=null&&d(l,["thinkingConfig"],M);const Z=f(t,["imageConfig"]);return Z!=null&&d(l,["imageConfig"],lI(Z)),l}function b0(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(p=>Yr(p))),d(o,["contents"],c)}const u=f(t,["config"]);return u!=null&&d(o,["generationConfig"],I2(e,u,o)),o}function I0(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["contents"]);if(a!=null){let c=cn(a);Array.isArray(c)&&(c=c.map(p=>p)),d(o,["contents"],c)}const u=f(t,["config"]);return u!=null&&d(o,["generationConfig"],D2(e,u,o)),o}function D0(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["candidates"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(h=>e2(h))),d(t,["candidates"],g)}const a=f(e,["modelVersion"]);a!=null&&d(t,["modelVersion"],a);const u=f(e,["promptFeedback"]);u!=null&&d(t,["promptFeedback"],u);const c=f(e,["responseId"]);c!=null&&d(t,["responseId"],c);const p=f(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function U0(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["candidates"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>y)),d(t,["candidates"],h)}const a=f(e,["createTime"]);a!=null&&d(t,["createTime"],a);const u=f(e,["modelVersion"]);u!=null&&d(t,["modelVersion"],u);const c=f(e,["promptFeedback"]);c!=null&&d(t,["promptFeedback"],c);const p=f(e,["responseId"]);p!=null&&d(t,["responseId"],p);const g=f(e,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function U2(e,t){const o={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=f(e,["numberOfImages"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&d(t,["parameters","aspectRatio"],a);const u=f(e,["guidanceScale"]);if(t!==void 0&&u!=null&&d(t,["parameters","guidanceScale"],u),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(e,["safetyFilterLevel"]);t!==void 0&&c!=null&&d(t,["parameters","safetySetting"],c);const p=f(e,["personGeneration"]);t!==void 0&&p!=null&&d(t,["parameters","personGeneration"],p);const g=f(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&d(t,["parameters","includeSafetyAttributes"],g);const h=f(e,["includeRaiReason"]);t!==void 0&&h!=null&&d(t,["parameters","includeRaiReason"],h);const y=f(e,["language"]);t!==void 0&&y!=null&&d(t,["parameters","language"],y);const _=f(e,["outputMimeType"]);t!==void 0&&_!=null&&d(t,["parameters","outputOptions","mimeType"],_);const S=f(e,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&d(t,["parameters","outputOptions","compressionQuality"],S),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=f(e,["imageSize"]);if(t!==void 0&&T!=null&&d(t,["parameters","sampleImageSize"],T),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function z2(e,t){const o={},l=f(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const u=f(e,["numberOfImages"]);t!==void 0&&u!=null&&d(t,["parameters","sampleCount"],u);const c=f(e,["aspectRatio"]);t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c);const p=f(e,["guidanceScale"]);t!==void 0&&p!=null&&d(t,["parameters","guidanceScale"],p);const g=f(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const h=f(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&d(t,["parameters","safetySetting"],h);const y=f(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const _=f(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&d(t,["parameters","includeSafetyAttributes"],_);const S=f(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const T=f(e,["language"]);t!==void 0&&T!=null&&d(t,["parameters","language"],T);const w=f(e,["outputMimeType"]);t!==void 0&&w!=null&&d(t,["parameters","outputOptions","mimeType"],w);const N=f(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const D=f(e,["addWatermark"]);t!==void 0&&D!=null&&d(t,["parameters","addWatermark"],D);const R=f(e,["labels"]);t!==void 0&&R!=null&&d(t,["labels"],R);const L=f(e,["imageSize"]);t!==void 0&&L!=null&&d(t,["parameters","sampleImageSize"],L);const z=f(e,["enhancePrompt"]);return t!==void 0&&z!=null&&d(t,["parameters","enhancePrompt"],z),o}function L2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=f(t,["config"]);return u!=null&&U2(u,o),o}function H2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=f(t,["config"]);return u!=null&&z2(u,o),o}function k2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>K2(c))),d(t,["generatedImages"],u)}const a=f(e,["positivePromptSafetyAttributes"]);return a!=null&&d(t,["positivePromptSafetyAttributes"],U_(a)),t}function q2(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>Jr(c))),d(t,["generatedImages"],u)}const a=f(e,["positivePromptSafetyAttributes"]);return a!=null&&d(t,["positivePromptSafetyAttributes"],z_(a)),t}function G2(e,t){const o={},l=f(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(e,["durationSeconds"]);if(t!==void 0&&a!=null&&d(t,["parameters","durationSeconds"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=f(e,["aspectRatio"]);t!==void 0&&u!=null&&d(t,["parameters","aspectRatio"],u);const c=f(e,["resolution"]);t!==void 0&&c!=null&&d(t,["parameters","resolution"],c);const p=f(e,["personGeneration"]);if(t!==void 0&&p!=null&&d(t,["parameters","personGeneration"],p),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=f(e,["negativePrompt"]);t!==void 0&&g!=null&&d(t,["parameters","negativePrompt"],g);const h=f(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&d(t,["parameters","enhancePrompt"],h),f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=f(e,["lastFrame"]);t!==void 0&&y!=null&&d(t,["instances[0]","lastFrame"],Xr(y));const _=f(e,["referenceImages"]);if(t!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(T=>PI(T))),d(t,["instances[0]","referenceImages"],S)}if(f(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function V2(e,t){const o={},l=f(e,["numberOfVideos"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&d(t,["parameters","storageUri"],a);const u=f(e,["fps"]);t!==void 0&&u!=null&&d(t,["parameters","fps"],u);const c=f(e,["durationSeconds"]);t!==void 0&&c!=null&&d(t,["parameters","durationSeconds"],c);const p=f(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const g=f(e,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const h=f(e,["resolution"]);t!==void 0&&h!=null&&d(t,["parameters","resolution"],h);const y=f(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const _=f(e,["pubsubTopic"]);t!==void 0&&_!=null&&d(t,["parameters","pubsubTopic"],_);const S=f(e,["negativePrompt"]);t!==void 0&&S!=null&&d(t,["parameters","negativePrompt"],S);const T=f(e,["enhancePrompt"]);t!==void 0&&T!=null&&d(t,["parameters","enhancePrompt"],T);const w=f(e,["generateAudio"]);t!==void 0&&w!=null&&d(t,["parameters","generateAudio"],w);const N=f(e,["lastFrame"]);t!==void 0&&N!=null&&d(t,["instances[0]","lastFrame"],Sn(N));const D=f(e,["referenceImages"]);if(t!==void 0&&D!=null){let z=D;Array.isArray(z)&&(z=z.map(U=>BI(U))),d(t,["instances[0]","referenceImages"],z)}const R=f(e,["mask"]);t!==void 0&&R!=null&&d(t,["instances[0]","mask"],VI(R));const L=f(e,["compressionQuality"]);return t!==void 0&&L!=null&&d(t,["parameters","compressionQuality"],L),o}function P2(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["response","generateVideoResponse"]);return c!=null&&d(t,["response"],Y2(c)),t}function B2(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["response"]);return c!=null&&d(t,["response"],J2(c)),t}function F2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=f(t,["image"]);u!=null&&d(o,["instances[0]","image"],Xr(u));const c=f(t,["video"]);c!=null&&d(o,["instances[0]","video"],k_(c));const p=f(t,["source"]);p!=null&&X2(p,o);const g=f(t,["config"]);return g!=null&&G2(g,o),o}function O2(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=f(t,["image"]);u!=null&&d(o,["instances[0]","image"],Sn(u));const c=f(t,["video"]);c!=null&&d(o,["instances[0]","video"],q_(c));const p=f(t,["source"]);p!=null&&$2(p,o);const g=f(t,["config"]);return g!=null&&V2(g,o),o}function Y2(e){const t={},o=f(e,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>Q2(c))),d(t,["generatedVideos"],u)}const l=f(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function J2(e){const t={},o=f(e,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>W2(c))),d(t,["generatedVideos"],u)}const l=f(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function X2(e,t){const o={},l=f(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=f(e,["image"]);t!==void 0&&a!=null&&d(t,["instances[0]","image"],Xr(a));const u=f(e,["video"]);return t!==void 0&&u!=null&&d(t,["instances[0]","video"],k_(u)),o}function $2(e,t){const o={},l=f(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=f(e,["image"]);t!==void 0&&a!=null&&d(t,["instances[0]","image"],Sn(a));const u=f(e,["video"]);return t!==void 0&&u!=null&&d(t,["instances[0]","video"],q_(u)),o}function K2(e){const t={},o=f(e,["_self"]);o!=null&&d(t,["image"],sI(o));const l=f(e,["raiFilteredReason"]);l!=null&&d(t,["raiFilteredReason"],l);const a=f(e,["_self"]);return a!=null&&d(t,["safetyAttributes"],U_(a)),t}function Jr(e){const t={},o=f(e,["_self"]);o!=null&&d(t,["image"],D_(o));const l=f(e,["raiFilteredReason"]);l!=null&&d(t,["raiFilteredReason"],l);const a=f(e,["_self"]);a!=null&&d(t,["safetyAttributes"],z_(a));const u=f(e,["prompt"]);return u!=null&&d(t,["enhancedPrompt"],u),t}function Z2(e){const t={},o=f(e,["_self"]);o!=null&&d(t,["mask"],D_(o));const l=f(e,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(t,["labels"],a)}return t}function Q2(e){const t={},o=f(e,["video"]);return o!=null&&d(t,["video"],qI(o)),t}function W2(e){const t={},o=f(e,["_self"]);return o!=null&&d(t,["video"],GI(o)),t}function j2(e){const t={},o=f(e,["modelSelectionConfig"]);o!=null&&d(t,["modelConfig"],o);const l=f(e,["responseJsonSchema"]);l!=null&&d(t,["responseJsonSchema"],l);const a=f(e,["audioTimestamp"]);a!=null&&d(t,["audioTimestamp"],a);const u=f(e,["candidateCount"]);u!=null&&d(t,["candidateCount"],u);const c=f(e,["enableAffectiveDialog"]);c!=null&&d(t,["enableAffectiveDialog"],c);const p=f(e,["frequencyPenalty"]);p!=null&&d(t,["frequencyPenalty"],p);const g=f(e,["logprobs"]);g!=null&&d(t,["logprobs"],g);const h=f(e,["maxOutputTokens"]);h!=null&&d(t,["maxOutputTokens"],h);const y=f(e,["mediaResolution"]);y!=null&&d(t,["mediaResolution"],y);const _=f(e,["presencePenalty"]);_!=null&&d(t,["presencePenalty"],_);const S=f(e,["responseLogprobs"]);S!=null&&d(t,["responseLogprobs"],S);const T=f(e,["responseMimeType"]);T!=null&&d(t,["responseMimeType"],T);const w=f(e,["responseModalities"]);w!=null&&d(t,["responseModalities"],w);const N=f(e,["responseSchema"]);N!=null&&d(t,["responseSchema"],N);const D=f(e,["routingConfig"]);D!=null&&d(t,["routingConfig"],D);const R=f(e,["seed"]);R!=null&&d(t,["seed"],R);const L=f(e,["speechConfig"]);L!=null&&d(t,["speechConfig"],L_(L));const z=f(e,["stopSequences"]);z!=null&&d(t,["stopSequences"],z);const U=f(e,["temperature"]);U!=null&&d(t,["temperature"],U);const O=f(e,["thinkingConfig"]);O!=null&&d(t,["thinkingConfig"],O);const Y=f(e,["topK"]);Y!=null&&d(t,["topK"],Y);const F=f(e,["topP"]);if(F!=null&&d(t,["topP"],F),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function eI(e,t){const o={},l=f(t,["model"]);return l!=null&&d(o,["_url","name"],Ue(e,l)),o}function tI(e,t){const o={},l=f(t,["model"]);return l!=null&&d(o,["_url","name"],Ue(e,l)),o}function nI(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function iI(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function oI(e){const t={},o=f(e,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const l=f(e,["imageSize"]);if(l!=null&&d(t,["imageSize"],l),f(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function lI(e){const t={},o=f(e,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const l=f(e,["imageSize"]);l!=null&&d(t,["imageSize"],l);const a=f(e,["outputMimeType"]);a!=null&&d(t,["imageOutputOptions","mimeType"],a);const u=f(e,["outputCompressionQuality"]);return u!=null&&d(t,["imageOutputOptions","compressionQuality"],u),t}function sI(e){const t={},o=f(e,["bytesBase64Encoded"]);o!=null&&d(t,["imageBytes"],Yi(o));const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function D_(e){const t={},o=f(e,["gcsUri"]);o!=null&&d(t,["gcsUri"],o);const l=f(e,["bytesBase64Encoded"]);l!=null&&d(t,["imageBytes"],Yi(l));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function Xr(e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=f(e,["imageBytes"]);o!=null&&d(t,["bytesBase64Encoded"],Yi(o));const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Sn(e){const t={},o=f(e,["gcsUri"]);o!=null&&d(t,["gcsUri"],o);const l=f(e,["imageBytes"]);l!=null&&d(t,["bytesBase64Encoded"],Yi(l));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function aI(e,t,o){const l={},a=f(t,["pageSize"]);o!==void 0&&a!=null&&d(o,["_query","pageSize"],a);const u=f(t,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const c=f(t,["filter"]);o!==void 0&&c!=null&&d(o,["_query","filter"],c);const p=f(t,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],x_(e,p)),l}function rI(e,t,o){const l={},a=f(t,["pageSize"]);o!==void 0&&a!=null&&d(o,["_query","pageSize"],a);const u=f(t,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const c=f(t,["filter"]);o!==void 0&&c!=null&&d(o,["_query","filter"],c);const p=f(t,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],x_(e,p)),l}function uI(e,t){const o={},l=f(t,["config"]);return l!=null&&aI(e,l,o),o}function cI(e,t){const o={},l=f(t,["config"]);return l!=null&&rI(e,l,o),o}function fI(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["_self"]);if(a!=null){let u=A_(a);Array.isArray(u)&&(u=u.map(c=>$f(c))),d(t,["models"],u)}return t}function dI(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["_self"]);if(a!=null){let u=A_(a);Array.isArray(u)&&(u=u.map(c=>Kf(c))),d(t,["models"],u)}return t}function pI(e){const t={},o=f(e,["maskMode"]);o!=null&&d(t,["maskMode"],o);const l=f(e,["segmentationClasses"]);l!=null&&d(t,["maskClasses"],l);const a=f(e,["maskDilation"]);return a!=null&&d(t,["dilation"],a),t}function $f(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["displayName"]);l!=null&&d(t,["displayName"],l);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const u=f(e,["version"]);u!=null&&d(t,["version"],u);const c=f(e,["_self"]);c!=null&&d(t,["tunedModelInfo"],RI(c));const p=f(e,["inputTokenLimit"]);p!=null&&d(t,["inputTokenLimit"],p);const g=f(e,["outputTokenLimit"]);g!=null&&d(t,["outputTokenLimit"],g);const h=f(e,["supportedGenerationMethods"]);h!=null&&d(t,["supportedActions"],h);const y=f(e,["temperature"]);y!=null&&d(t,["temperature"],y);const _=f(e,["maxTemperature"]);_!=null&&d(t,["maxTemperature"],_);const S=f(e,["topP"]);S!=null&&d(t,["topP"],S);const T=f(e,["topK"]);T!=null&&d(t,["topK"],T);const w=f(e,["thinking"]);return w!=null&&d(t,["thinking"],w),t}function Kf(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["displayName"]);l!=null&&d(t,["displayName"],l);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const u=f(e,["versionId"]);u!=null&&d(t,["version"],u);const c=f(e,["deployedModels"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>N2(S))),d(t,["endpoints"],_)}const p=f(e,["labels"]);p!=null&&d(t,["labels"],p);const g=f(e,["_self"]);g!=null&&d(t,["tunedModelInfo"],bI(g));const h=f(e,["defaultCheckpointId"]);h!=null&&d(t,["defaultCheckpointId"],h);const y=f(e,["checkpoints"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>S)),d(t,["checkpoints"],_)}return t}function hI(e){const t={},o=f(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=f(e,["fileData"]);u!=null&&d(t,["fileData"],w2(u));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],M2(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],jb(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const _=f(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=f(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function mI(e){const t={},o=f(e,["productImage"]);return o!=null&&d(t,["image"],Sn(o)),t}function gI(e,t){const o={},l=f(e,["numberOfImages"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const a=f(e,["baseSteps"]);t!==void 0&&a!=null&&d(t,["parameters","baseSteps"],a);const u=f(e,["outputGcsUri"]);t!==void 0&&u!=null&&d(t,["parameters","storageUri"],u);const c=f(e,["seed"]);t!==void 0&&c!=null&&d(t,["parameters","seed"],c);const p=f(e,["safetyFilterLevel"]);t!==void 0&&p!=null&&d(t,["parameters","safetySetting"],p);const g=f(e,["personGeneration"]);t!==void 0&&g!=null&&d(t,["parameters","personGeneration"],g);const h=f(e,["addWatermark"]);t!==void 0&&h!=null&&d(t,["parameters","addWatermark"],h);const y=f(e,["outputMimeType"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","mimeType"],y);const _=f(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&d(t,["parameters","outputOptions","compressionQuality"],_);const S=f(e,["enhancePrompt"]);t!==void 0&&S!=null&&d(t,["parameters","enhancePrompt"],S);const T=f(e,["labels"]);return t!==void 0&&T!=null&&d(t,["labels"],T),o}function yI(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["source"]);a!=null&&_I(a,o);const u=f(t,["config"]);return u!=null&&gI(u,o),o}function vI(e){const t={},o=f(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Jr(a))),d(t,["generatedImages"],l)}return t}function _I(e,t){const o={},l=f(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=f(e,["personImage"]);t!==void 0&&a!=null&&d(t,["instances[0]","personImage","image"],Sn(a));const u=f(e,["productImages"]);if(t!==void 0&&u!=null){let c=u;Array.isArray(c)&&(c=c.map(p=>mI(p))),d(t,["instances[0]","productImages"],c)}return o}function SI(e){const t={},o=f(e,["referenceImage"]);o!=null&&d(t,["referenceImage"],Sn(o));const l=f(e,["referenceId"]);l!=null&&d(t,["referenceId"],l);const a=f(e,["referenceType"]);a!=null&&d(t,["referenceType"],a);const u=f(e,["maskImageConfig"]);u!=null&&d(t,["maskImageConfig"],pI(u));const c=f(e,["controlImageConfig"]);c!=null&&d(t,["controlImageConfig"],s2(c));const p=f(e,["styleImageConfig"]);p!=null&&d(t,["styleImageConfig"],p);const g=f(e,["subjectImageConfig"]);return g!=null&&d(t,["subjectImageConfig"],g),t}function U_(e){const t={},o=f(e,["safetyAttributes","categories"]);o!=null&&d(t,["categories"],o);const l=f(e,["safetyAttributes","scores"]);l!=null&&d(t,["scores"],l);const a=f(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function z_(e){const t={},o=f(e,["safetyAttributes","categories"]);o!=null&&d(t,["categories"],o);const l=f(e,["safetyAttributes","scores"]);l!=null&&d(t,["scores"],l);const a=f(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function EI(e){const t={},o=f(e,["category"]);if(o!=null&&d(t,["category"],o),f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=f(e,["threshold"]);return l!=null&&d(t,["threshold"],l),t}function TI(e){const t={},o=f(e,["image"]);return o!=null&&d(t,["image"],Sn(o)),t}function CI(e,t){const o={},l=f(e,["mode"]);t!==void 0&&l!=null&&d(t,["parameters","mode"],l);const a=f(e,["maxPredictions"]);t!==void 0&&a!=null&&d(t,["parameters","maxPredictions"],a);const u=f(e,["confidenceThreshold"]);t!==void 0&&u!=null&&d(t,["parameters","confidenceThreshold"],u);const c=f(e,["maskDilation"]);t!==void 0&&c!=null&&d(t,["parameters","maskDilation"],c);const p=f(e,["binaryColorThreshold"]);t!==void 0&&p!=null&&d(t,["parameters","binaryColorThreshold"],p);const g=f(e,["labels"]);return t!==void 0&&g!=null&&d(t,["labels"],g),o}function xI(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["source"]);a!=null&&NI(a,o);const u=f(t,["config"]);return u!=null&&CI(u,o),o}function AI(e){const t={},o=f(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Z2(a))),d(t,["generatedMasks"],l)}return t}function NI(e,t){const o={},l=f(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=f(e,["image"]);t!==void 0&&a!=null&&d(t,["instances[0]","image"],Sn(a));const u=f(e,["scribbleImage"]);return t!==void 0&&u!=null&&d(t,["instances[0]","scribble"],TI(u)),o}function L_(e){const t={},o=f(e,["languageCode"]);o!=null&&d(t,["languageCode"],o);const l=f(e,["voiceConfig"]);if(l!=null&&d(t,["voiceConfig"],l),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function wI(e){const t={},o=f(e,["functionCallingConfig"]);o!=null&&d(t,["functionCallingConfig"],R2(o));const l=f(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],l),t}function MI(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(_=>_)),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=f(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=f(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=f(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const c=f(e,["codeExecution"]);if(c!=null&&d(t,["codeExecution"],c),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],nI(p));const g=f(e,["googleSearch"]);g!=null&&d(t,["googleSearch"],iI(g));const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}function H_(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>b2(S))),d(t,["functionDeclarations"],_)}const l=f(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const a=f(e,["googleSearchRetrieval"]);a!=null&&d(t,["googleSearchRetrieval"],a);const u=f(e,["computerUse"]);if(u!=null&&d(t,["computerUse"],u),f(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(e,["codeExecution"]);c!=null&&d(t,["codeExecution"],c);const p=f(e,["enterpriseWebSearch"]);p!=null&&d(t,["enterpriseWebSearch"],p);const g=f(e,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const h=f(e,["googleSearch"]);h!=null&&d(t,["googleSearch"],h);const y=f(e,["urlContext"]);return y!=null&&d(t,["urlContext"],y),t}function RI(e){const t={},o=f(e,["baseModel"]);o!=null&&d(t,["baseModel"],o);const l=f(e,["createTime"]);l!=null&&d(t,["createTime"],l);const a=f(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function bI(e){const t={},o=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(t,["baseModel"],o);const l=f(e,["createTime"]);l!=null&&d(t,["createTime"],l);const a=f(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function II(e,t){const o={},l=f(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const a=f(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const u=f(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&d(t,["defaultCheckpointId"],u),o}function DI(e,t){const o={},l=f(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const a=f(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const u=f(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&d(t,["defaultCheckpointId"],u),o}function UI(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","name"],Ue(e,l));const a=f(t,["config"]);return a!=null&&II(a,o),o}function zI(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["config"]);return a!=null&&DI(a,o),o}function LI(e,t){const o={},l=f(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const a=f(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&d(t,["parameters","safetySetting"],a);const u=f(e,["personGeneration"]);t!==void 0&&u!=null&&d(t,["parameters","personGeneration"],u);const c=f(e,["includeRaiReason"]);t!==void 0&&c!=null&&d(t,["parameters","includeRaiReason"],c);const p=f(e,["outputMimeType"]);t!==void 0&&p!=null&&d(t,["parameters","outputOptions","mimeType"],p);const g=f(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&d(t,["parameters","outputOptions","compressionQuality"],g);const h=f(e,["enhanceInputImage"]);t!==void 0&&h!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],h);const y=f(e,["imagePreservationFactor"]);t!==void 0&&y!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],y);const _=f(e,["labels"]);t!==void 0&&_!=null&&d(t,["labels"],_);const S=f(e,["numberOfImages"]);t!==void 0&&S!=null&&d(t,["parameters","sampleCount"],S);const T=f(e,["mode"]);return t!==void 0&&T!=null&&d(t,["parameters","mode"],T),o}function HI(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["_url","model"],Ue(e,l));const a=f(t,["image"]);a!=null&&d(o,["instances[0]","image"],Sn(a));const u=f(t,["upscaleFactor"]);u!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],u);const c=f(t,["config"]);return c!=null&&LI(c,o),o}function kI(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Jr(u))),d(t,["generatedImages"],a)}return t}function qI(e){const t={},o=f(e,["uri"]);o!=null&&d(t,["uri"],o);const l=f(e,["encodedVideo"]);l!=null&&d(t,["videoBytes"],Yi(l));const a=f(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function GI(e){const t={},o=f(e,["gcsUri"]);o!=null&&d(t,["uri"],o);const l=f(e,["bytesBase64Encoded"]);l!=null&&d(t,["videoBytes"],Yi(l));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function VI(e){const t={},o=f(e,["image"]);o!=null&&d(t,["_self"],Sn(o));const l=f(e,["maskMode"]);return l!=null&&d(t,["maskMode"],l),t}function PI(e){const t={},o=f(e,["image"]);o!=null&&d(t,["image"],Xr(o));const l=f(e,["referenceType"]);return l!=null&&d(t,["referenceType"],l),t}function BI(e){const t={},o=f(e,["image"]);o!=null&&d(t,["image"],Sn(o));const l=f(e,["referenceType"]);return l!=null&&d(t,["referenceType"],l),t}function k_(e){const t={},o=f(e,["uri"]);o!=null&&d(t,["uri"],o);const l=f(e,["videoBytes"]);l!=null&&d(t,["encodedVideo"],Yi(l));const a=f(e,["mimeType"]);return a!=null&&d(t,["encoding"],a),t}function q_(e){const t={},o=f(e,["uri"]);o!=null&&d(t,["gcsUri"],o);const l=f(e,["videoBytes"]);l!=null&&d(t,["bytesBase64Encoded"],Yi(l));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FI="Content-Type",OI="X-Server-Timeout",YI="User-Agent",Zf="x-goog-api-client",JI="1.30.0",XI=`google-genai-sdk/${JI}`,$I="v1beta1",KI="v1beta",z0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class ZI{constructor(t){var o,l;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:$I,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:KI,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,l){const a=[this.getRequestUrlInternal(o)];return l&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,l);if(t.queryParams)for(const[c,p]of Object.entries(t.queryParams))a.searchParams.append(c,String(p));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),t.abortSignal),this.unaryApiCall(a,u,t.httpMethod)}patchHttpOptions(t,o){const l=JSON.parse(JSON.stringify(t));for(const[a,u]of Object.entries(o))typeof u=="object"?l[a]=Object.assign(Object.assign({},l[a]),u):u!==void 0&&(l[a]=u);return l}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),t.abortSignal),this.streamApiCall(a,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,l,a){if(o&&o.timeout||a){const u=new AbortController,c=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>u.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),t.signal=c}return o&&o.extraBody!==null&&QI(t,o.extraBody),t.headers=await this.getHeadersInternal(o,l),t}async unaryApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await L0(a),new Yf(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await L0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){var o;return pl(this,arguments,function*(){const a=(o=t==null?void 0:t.body)===null||o===void 0?void 0:o.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";for(;;){const{done:p,value:g}=yield Xe(a.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=u.decode(g,{stream:!0});try{const _=JSON.parse(h);if("error"in _){const S=JSON.parse(JSON.stringify(_.error)),T=S.status,w=S.code,N=`got status: ${T}. ${JSON.stringify(_)}`;if(w>=400&&w<600)throw new Or({message:N,status:w})}}catch(_){if(_.name==="ApiError")throw _}c+=h;let y=c.match(z0);for(;y;){const _=y[1];try{const S=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Xe(new Yf(S)),c=c.slice(y[0].length),y=c.match(z0)}catch(S){throw new Error(`exception parsing stream chunk ${_}. ${S}`)}}}}finally{a.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const t={},o=XI+" "+this.clientOptions.userAgentExtra;return t[YI]=o,t[Zf]=o,t[FI]="application/json",t}async getHeadersInternal(t,o){const l=new Headers;if(t&&t.headers){for(const[a,u]of Object.entries(t.headers))l.append(a,u);t.timeout&&t.timeout>0&&l.append(OI,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(t){var o;let l="";return typeof t=="string"&&(l=t.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(t,o){var l;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,c=await u.stat(t);a.sizeBytes=String(c.size);const p=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:c.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const g={file:a},h=this.getFileName(t),y=fe("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(y,a.sizeBytes,a.mimeType,h,g,o==null?void 0:o.httpOptions);return u.upload(t,_,this)}async uploadFileToFileSearchStore(t,o,l){var a;const u=this.clientOptions.uploader,c=await u.stat(o),p=String(c.size),g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,y=this.getFileName(o),_={};l!=null&&l.customMetadata&&(_.customMetadata=l.customMetadata),l!=null&&l.chunkingConfig&&(_.chunkingConfig=l.chunkingConfig);const S=await this.fetchUploadUrl(h,p,g,y,_,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,l,a,u,c){var p;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const h=await this.request({path:t,body:JSON.stringify(u),httpMethod:"POST",httpOptions:g});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(p=h==null?void 0:h.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function L0(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const o=e.status;let l;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?l=await e.json():l={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(l);throw o>=400&&o<600?new Or({message:a,status:o}):new Error(a)}}function QI(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof e.body=="string"&&e.body.length>0)try{const u=JSON.parse(e.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,c){const p=Object.assign({},u);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const h=c[g],y=p[g];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?p[g]=l(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),p[g]=h)}return p}const a=l(o,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WI="mcp_used/unknown";let jI=!1;function G_(e){for(const t of e)if(eD(t)||typeof t=="object"&&"inputSchema"in t)return!0;return jI}function V_(e){var t;const o=(t=e[Zf])!==null&&t!==void 0?t:"";e[Zf]=(o+` ${WI}`).trimStart()}function eD(e){return e!==null&&typeof e=="object"&&e instanceof Ad}function tD(e,t=100){return pl(this,arguments,function*(){let l,a=0;for(;a<t;){const u=yield Xe(e.listTools({cursor:l}));for(const c of u.tools)yield yield Xe(c),a++;if(!u.nextCursor)break;l=u.nextCursor}})}class Ad{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Ad(t,o)}async initialize(){var t,o,l,a;if(this.mcpTools.length>0)return;const u={},c=[];for(const y of this.mcpClients)try{for(var p=!0,g=(o=void 0,Rs(tD(y))),h;h=await g.next(),t=h.done,!t;p=!0){a=h.value,p=!1;const _=a;c.push(_);const S=_.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=y}}catch(_){o={error:_}}finally{try{!p&&!t&&(l=g.return)&&await l.call(g)}finally{if(o)throw o.error}}this.mcpTools=c,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),XM(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const c=await a.callTool({name:l.name,arguments:l.args},void 0,u);o.push({functionResponse:{name:l.name,response:c.isError?{error:c}:c}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nD(e,t,o){const l=new GM;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(l,a),t(l)}class iD{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l}async connect(t){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),c=sD(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let h=()=>{};const y=new Promise(z=>{h=z}),_=t.callbacks,S=function(){h({})},T=this.apiClient,w={onopen:S,onmessage:z=>{nD(T,_.onmessage,z)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(z){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function(z){}},N=this.webSocketFactory.create(g,lD(c),w);N.connect(),await y;const L={setup:{model:Ue(this.apiClient,t.model)}};return N.send(JSON.stringify(L)),new oD(N,this.apiClient)}}class oD{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=Ob(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=Fb(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(al.PLAY)}pause(){this.sendPlaybackControl(al.PAUSE)}stop(){this.sendPlaybackControl(al.STOP)}resetContext(){this.sendPlaybackControl(al.RESET_CONTEXT)}close(){this.conn.close()}}function lD(e){const t={};return e.forEach((o,l)=>{t[l]=o}),t}function sD(e){const t=new Headers;for(const[o,l]of Object.entries(e))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rD(e,t,o){const l=new qM;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const u=JSON.parse(a);if(e.isVertexAI()){const c=Xb(u);Object.assign(l,c)}else Object.assign(l,u);t(l)}class uD{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l,this.music=new iD(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,l,a,u,c,p;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&G_(t.config.tools)&&V_(_);const S=pD(_);if(this.apiClient.isVertexAI())y=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y);else{const H=this.apiClient.getApiKey();let K="BidiGenerateContent",W="key";H!=null&&H.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",W="access_token"),y=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${K}?${W}=${H}`}let T=()=>{};const w=new Promise(H=>{T=H}),N=t.callbacks,D=function(){var H;(H=N==null?void 0:N.onopen)===null||H===void 0||H.call(N),T({})},R=this.apiClient,L={onopen:D,onmessage:H=>{rD(R,N.onmessage,H)},onerror:(o=N==null?void 0:N.onerror)!==null&&o!==void 0?o:function(H){},onclose:(l=N==null?void 0:N.onclose)!==null&&l!==void 0?l:function(H){}},z=this.webSocketFactory.create(y,dD(S),L);z.connect(),await w;let U=Ue(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&U.startsWith("publishers/")){const H=this.apiClient.getProject(),K=this.apiClient.getLocation();U=`projects/${H}/locations/${K}/`+U}let O={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[zr.AUDIO]}:t.config.responseModalities=[zr.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(p=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[],F=[];for(const H of Y)if(this.isCallableTool(H)){const K=H;F.push(await K.tool())}else F.push(H);F.length>0&&(t.config.tools=F);const ie={model:U,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?O=Bb(this.apiClient,ie):O=Pb(this.apiClient,ie),delete O.config,z.send(JSON.stringify(O)),new fD(z,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const cD={turnComplete:!0};class fD{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=cn(o.turns),t.isVertexAI()||(l=l.map(a=>Yr(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(aD)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},cD),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Jb(t)}:o={realtimeInput:Yb(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function dD(e){const t={};return e.forEach((o,l)=>{t[l]=o}),t}function pD(e){const t=new Headers;for(const[o,l]of Object.entries(e))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H0=10;function k0(e){var t,o,l;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const c of(o=e==null?void 0:e.tools)!==null&&o!==void 0?o:[])if(hl(c)){a=!0;break}if(!a)return!0;const u=(l=e==null?void 0:e.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function hl(e){return"callTool"in e&&typeof e.callTool=="function"}function hD(e){var t,o,l;return(l=(o=(t=e.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(a=>hl(a)))!==null&&l!==void 0?l:!1}function q0(e){var t;const o=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((l,a)=>{if(hl(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(a)}),o}function G0(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mD extends li{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var l,a,u,c,p;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!hD(o)||k0(o.config))return await this.generateContentInternal(g);const h=q0(o);if(h.length>0){const N=h.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let y,_;const S=cn(g.contents),T=(u=(a=(l=g.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:H0;let w=0;for(;w<T&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const N=y.candidates[0].content,D=[];for(const R of(p=(c=o.config)===null||c===void 0?void 0:c.tools)!==null&&p!==void 0?p:[])if(hl(R)){const z=await R.callTool(y.functionCalls);D.push(...z)}w++,_={role:"user",parts:D},g.contents=cn(g.contents),g.contents.push(N),g.contents.push(_),G0(g.config)&&(S.push(N),S.push(_))}return G0(g.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async o=>{var l,a,u,c,p;if(this.maybeMoveToResponseJsonSchem(o),k0(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const g=q0(o);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(u=(a=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,y=(p=(c=o==null?void 0:o.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var a;let u;const c=[];if(l!=null&&l.generatedImages)for(const g of l.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=g==null?void 0:g.safetyAttributes:c.push(g);let p;return u?p={generatedImages:c,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:c,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async o=>{var l;const c={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((l=c.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Eo(oi.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(c),c)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var l,a,u,c,p,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((c=(u=o.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.uri&&(!((g=(p=o.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,l,a;const u=(o=t.config)===null||o===void 0?void 0:o.tools;if(!u)return t;const c=await Promise.all(u.map(async g=>hl(g)?await g.tool():g)),p={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:c})};if(p.config.tools=c,t.config&&t.config.tools&&G_(t.config.tools)){const g=(a=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),V_(h),p.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return p}async initAfcToolsMap(t){var o,l,a;const u=new Map;for(const c of(l=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(hl(c)){const p=c,g=await p.tool();for(const h of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!h.name)throw new Error("Function declaration name is required.");if(u.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);u.set(h.name,p)}}return u}async processAfcStream(t){var o,l,a;const u=(a=(l=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:H0;let c=!1,p=0;const g=await this.initAfcToolsMap(t);return(function(h,y,_){var S,T;return pl(this,arguments,function*(){for(var w,N,D,R;p<u;){c&&(p++,c=!1);const O=yield Xe(h.processParamsMaybeAddMcpUsage(_)),Y=yield Xe(h.generateContentStreamInternal(O)),F=[],ie=[];try{for(var L=!0,z=(N=void 0,Rs(Y)),U;U=yield Xe(z.next()),w=U.done,!w;L=!0){R=U.value,L=!1;const H=R;if(yield yield Xe(H),H.candidates&&(!((S=H.candidates[0])===null||S===void 0)&&S.content)){ie.push(H.candidates[0].content);for(const K of(T=H.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(p<u&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(K.functionCall.name)){const W=yield Xe(y.get(K.functionCall.name).callTool([K.functionCall]));F.push(...W)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(H){N={error:H}}finally{try{!L&&!w&&(D=z.return)&&(yield Xe(D.call(z)))}finally{if(N)throw N.error}}if(F.length>0){c=!0;const H=new xs;H.candidates=[{content:{role:"user",parts:F}}],yield yield Xe(H);const K=[];K.push(...ie),K.push({role:"user",parts:F});const W=cn(_.contents).concat(K);_.contents=W}else break}})})(this,g,t)}async generateContentInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=I0(this.apiClient,t);return p=fe("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=U0(y),S=new xs;return Object.assign(S,_),S})}else{const h=b0(this.apiClient,t);return p=fe("{model}:generateContent",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=D0(y),S=new xs;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=I0(this.apiClient,t);return p=fe("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(_){return pl(this,arguments,function*(){var S,T,w,N;try{for(var D=!0,R=Rs(_),L;L=yield Xe(R.next()),S=L.done,!S;D=!0){N=L.value,D=!1;const z=N,U=U0(yield Xe(z.json()));U.sdkHttpResponse={headers:z.headers};const O=new xs;Object.assign(O,U),yield yield Xe(O)}}catch(z){T={error:z}}finally{try{!D&&!S&&(w=R.return)&&(yield Xe(w.call(R)))}finally{if(T)throw T.error}}})})}else{const h=b0(this.apiClient,t);return p=fe("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),c.then(function(_){return pl(this,arguments,function*(){var S,T,w,N;try{for(var D=!0,R=Rs(_),L;L=yield Xe(R.next()),S=L.done,!S;D=!0){N=L.value,D=!1;const z=N,U=D0(yield Xe(z.json()));U.sdkHttpResponse={headers:z.headers};const O=new xs;Object.assign(O,U),yield yield Xe(O)}}catch(z){T={error:z}}finally{try{!D&&!S&&(w=R.return)&&(yield Xe(w.call(R)))}finally{if(T)throw T.error}}})})}}async embedContent(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=C2(this.apiClient,t);return p=fe("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=A2(y),S=new h0;return Object.assign(S,_),S})}else{const h=T2(this.apiClient,t);return p=fe("{model}:batchEmbedContents",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=x2(y),S=new h0;return Object.assign(S,_),S})}}async generateImagesInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=H2(this.apiClient,t);return p=fe("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=q2(y),S=new m0;return Object.assign(S,_),S})}else{const h=L2(this.apiClient,t);return p=fe("{model}:predict",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=k2(y),S=new m0;return Object.assign(S,_),S})}}async editImageInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=v2(this.apiClient,t);return u=fe("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=_2(g),y=new wM;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=HI(this.apiClient,t);return u=fe("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=kI(g),y=new MM;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=yI(this.apiClient,t);return u=fe("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=vI(g),y=new RM;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=xI(this.apiClient,t);return u=fe("{model}:predict",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=AI(g),y=new bM;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=tI(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Kf(y))}else{const h=eI(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}}async listInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=cI(this.apiClient,t);return p=fe("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=dI(y),S=new g0;return Object.assign(S,_),S})}else{const h=uI(this.apiClient,t);return p=fe("{models_url}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=fI(y),S=new g0;return Object.assign(S,_),S})}}async update(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=zI(this.apiClient,t);return p=fe("{model}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>Kf(y))}else{const h=UI(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>$f(y))}}async delete(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=h2(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=g2(y),S=new y0;return Object.assign(S,_),S})}else{const h=p2(this.apiClient,t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=m2(y),S=new y0;return Object.assign(S,_),S})}}async countTokens(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=c2(this.apiClient,t);return p=fe("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=d2(y),S=new v0;return Object.assign(S,_),S})}else{const h=u2(this.apiClient,t);return p=fe("{model}:countTokens",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=f2(y),S=new v0;return Object.assign(S,_),S})}}async computeTokens(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=n2(this.apiClient,t);return u=fe("{model}:computeTokens",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const h=i2(g),y=new IM;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=O2(this.apiClient,t);return p=fe("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c.then(y=>{const _=B2(y),S=new Lr;return Object.assign(S,_),S})}else{const h=F2(this.apiClient,t);return p=fe("{model}:predictLongRunning",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c.then(y=>{const _=P2(y),S=new Lr;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gD extends li{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=EM(t);return p=fe("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),c}else{const h=SM(t);return p=fe("{operationName}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json()),c}}async fetchPredictVideosOperationInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=pM(t);return u=fe("{resourceName}:fetchPredictOperation",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yD(e){const t={},o=f(e,["data"]);if(o!=null&&d(t,["data"],o),f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function vD(e){const t={},o=f(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>wD(u))),d(t,["parts"],a)}const l=f(e,["role"]);return l!=null&&d(t,["role"],l),t}function _D(e,t,o){const l={},a=f(t,["expireTime"]);o!==void 0&&a!=null&&d(o,["expireTime"],a);const u=f(t,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const c=f(t,["uses"]);o!==void 0&&c!=null&&d(o,["uses"],c);const p=f(t,["liveConnectConstraints"]);o!==void 0&&p!=null&&d(o,["bidiGenerateContentSetup"],ND(e,p));const g=f(t,["lockAdditionalFields"]);return o!==void 0&&g!=null&&d(o,["fieldMask"],g),l}function SD(e,t){const o={},l=f(t,["config"]);return l!=null&&d(o,["config"],_D(e,l,o)),o}function ED(e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=f(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function TD(e){const t={},o=f(e,["id"]);o!=null&&d(t,["id"],o);const l=f(e,["args"]);l!=null&&d(t,["args"],l);const a=f(e,["name"]);if(a!=null&&d(t,["name"],a),f(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function CD(e){const t={};if(f(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=f(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function xD(e){const t={};if(f(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=f(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function AD(e,t){const o={},l=f(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const u=f(e,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const c=f(e,["topP"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","topP"],c);const p=f(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const h=f(e,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","seed"],y);const _=f(e,["speechConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","speechConfig"],xd(_));const S=f(e,["thinkingConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","thinkingConfig"],S);const T=f(e,["enableAffectiveDialog"]);t!==void 0&&T!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],T);const w=f(e,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],vD(Nt(w)));const N=f(e,["tools"]);if(t!==void 0&&N!=null){let Y=El(N);Array.isArray(Y)&&(Y=Y.map(F=>RD(Sl(F)))),d(t,["setup","tools"],Y)}const D=f(e,["sessionResumption"]);t!==void 0&&D!=null&&d(t,["setup","sessionResumption"],MD(D));const R=f(e,["inputAudioTranscription"]);t!==void 0&&R!=null&&d(t,["setup","inputAudioTranscription"],R);const L=f(e,["outputAudioTranscription"]);t!==void 0&&L!=null&&d(t,["setup","outputAudioTranscription"],L);const z=f(e,["realtimeInputConfig"]);t!==void 0&&z!=null&&d(t,["setup","realtimeInputConfig"],z);const U=f(e,["contextWindowCompression"]);t!==void 0&&U!=null&&d(t,["setup","contextWindowCompression"],U);const O=f(e,["proactivity"]);return t!==void 0&&O!=null&&d(t,["setup","proactivity"],O),o}function ND(e,t){const o={},l=f(t,["model"]);l!=null&&d(o,["setup","model"],Ue(e,l));const a=f(t,["config"]);return a!=null&&d(o,["config"],AD(a,o)),o}function wD(e){const t={},o=f(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=f(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=f(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=f(e,["fileData"]);u!=null&&d(t,["fileData"],ED(u));const c=f(e,["functionCall"]);c!=null&&d(t,["functionCall"],TD(c));const p=f(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const g=f(e,["inlineData"]);g!=null&&d(t,["inlineData"],yD(g));const h=f(e,["text"]);h!=null&&d(t,["text"],h);const y=f(e,["thought"]);y!=null&&d(t,["thought"],y);const _=f(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=f(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function MD(e){const t={},o=f(e,["handle"]);if(o!=null&&d(t,["handle"],o),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function RD(e){const t={},o=f(e,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(_=>_)),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=f(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=f(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=f(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const c=f(e,["codeExecution"]);if(c!=null&&d(t,["codeExecution"],c),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=f(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],CD(p));const g=f(e,["googleSearch"]);g!=null&&d(t,["googleSearch"],xD(g));const h=f(e,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bD(e){const t=[];for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(u=>`${o}.${u}`);t.push(...a)}else t.push(o)}return t.join(",")}function ID(e,t){let o=null;const l=e.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(e.bidiGenerateContentSetup=u,o=u):delete e.bidiGenerateContentSetup}else l!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(o){const u=bD(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?e.fieldMask=u:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(h=>c.includes(h)?`generationConfig.${h}`:h));const g=[];u&&g.push(u),p.length>0&&g.push(...p),g.length>0?e.fieldMask=g.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class DD extends li{constructor(t){super(),this.apiClient=t}async create(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=SD(this.apiClient,t);u=fe("auth_tokens",p._url),c=p._query,delete p.config,delete p._url,delete p._query;const g=ID(p,t.config);return a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),a.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UD(e,t){const o={},l=f(e,["displayName"]);return t!==void 0&&l!=null&&d(t,["displayName"],l),o}function zD(e){const t={},o=f(e,["config"]);return o!=null&&UD(o,t),t}function LD(e,t){const o={},l=f(e,["force"]);return t!==void 0&&l!=null&&d(t,["_query","force"],l),o}function HD(e){const t={},o=f(e,["name"]);o!=null&&d(t,["_url","name"],o);const l=f(e,["config"]);return l!=null&&LD(l,t),t}function kD(e){const t={},o=f(e,["name"]);return o!=null&&d(t,["_url","name"],o),t}function qD(e,t){const o={},l=f(e,["customMetadata"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["customMetadata"],u)}const a=f(e,["chunkingConfig"]);return t!==void 0&&a!=null&&d(t,["chunkingConfig"],a),o}function GD(e){const t={},o=f(e,["name"]);o!=null&&d(t,["name"],o);const l=f(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const u=f(e,["error"]);u!=null&&d(t,["error"],u);const c=f(e,["response"]);return c!=null&&d(t,["response"],PD(c)),t}function VD(e){const t={},o=f(e,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const l=f(e,["fileName"]);l!=null&&d(t,["fileName"],l);const a=f(e,["config"]);return a!=null&&qD(a,t),t}function PD(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["parent"]);l!=null&&d(t,["parent"],l);const a=f(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function BD(e,t){const o={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function FD(e){const t={},o=f(e,["config"]);return o!=null&&BD(o,t),t}function OD(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["fileSearchStores"],u)}return t}function YD(e,t){const o={},l=f(e,["mimeType"]);t!==void 0&&l!=null&&d(t,["mimeType"],l);const a=f(e,["displayName"]);t!==void 0&&a!=null&&d(t,["displayName"],a);const u=f(e,["customMetadata"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>g)),d(t,["customMetadata"],p)}const c=f(e,["chunkingConfig"]);return t!==void 0&&c!=null&&d(t,["chunkingConfig"],c),o}function JD(e){const t={},o=f(e,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const l=f(e,["config"]);return l!=null&&YD(l,t),t}function XD(e){const t={},o=f(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $D(e,t){const o={},l=f(e,["force"]);return t!==void 0&&l!=null&&d(t,["_query","force"],l),o}function KD(e){const t={},o=f(e,["name"]);o!=null&&d(t,["_url","name"],o);const l=f(e,["config"]);return l!=null&&$D(l,t),t}function ZD(e){const t={},o=f(e,["name"]);return o!=null&&d(t,["_url","name"],o),t}function QD(e,t){const o={},l=f(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function WD(e){const t={},o=f(e,["parent"]);o!=null&&d(t,["_url","parent"],o);const l=f(e,["config"]);return l!=null&&QD(l,t),t}function jD(e){const t={},o=f(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=f(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=f(e,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(c=>c)),d(t,["documents"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eU extends li{constructor(t){super(),this.apiClient=t,this.list=async o=>new Eo(oi.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ZD(t);return u=fe("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(t){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=KD(t);a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=WD(t);return u=fe("{parent}/documents",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=jD(g),y=new DM;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tU extends li{constructor(t,o=new eU(t)){super(),this.apiClient=t,this.documents=o,this.list=async(l={})=>new Eo(oi.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=zD(t);return u=fe("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=kD(t);return u=fe("{name}",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(t){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=HD(t);a=fe("{name}",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=FD(t);return u=fe("fileSearchStores",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=OD(g),y=new UM;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JD(t);return u=fe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=XD(g),y=new zM;return Object.assign(y,h),y})}}async importFile(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=VD(t);return u=fe("{file_search_store_name}:importFile",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),a.then(g=>{const h=GD(g),y=new _d;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nU(e,t){const o={},l=f(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function iU(e,t){const o={},l=f(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function oU(e,t,o){const l={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=f(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&d(t,["displayName"],a),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=f(e,["epochCount"]);t!==void 0&&u!=null&&d(t,["tuningTask","hyperparameters","epochCount"],u);const c=f(e,["learningRateMultiplier"]);if(c!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=f(e,["batchSize"]);t!==void 0&&p!=null&&d(t,["tuningTask","hyperparameters","batchSize"],p);const g=f(e,["learningRate"]);if(t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","learningRate"],g),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function lU(e,t,o){const l={};let a=f(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&d(t,["supervisedTuningSpec"],V0(T))}else if(a==="PREFERENCE_TUNING"){const T=f(e,["validationDataset"]);t!==void 0&&T!=null&&d(t,["preferenceOptimizationSpec"],V0(T))}const u=f(e,["tunedModelDisplayName"]);t!==void 0&&u!=null&&d(t,["tunedModelDisplayName"],u);const c=f(e,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);let p=f(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],T)}else if(p==="PREFERENCE_TUNING"){const T=f(e,["epochCount"]);t!==void 0&&T!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],T)}let g=f(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],T)}else if(g==="PREFERENCE_TUNING"){const T=f(e,["learningRateMultiplier"]);t!==void 0&&T!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],T)}let h=f(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],T)}else if(h==="PREFERENCE_TUNING"){const T=f(e,["exportLastCheckpointOnly"]);t!==void 0&&T!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],T)}let y=f(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],T)}else if(y==="PREFERENCE_TUNING"){const T=f(e,["adapterSize"]);t!==void 0&&T!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],T)}if(f(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=f(e,["labels"]);t!==void 0&&_!=null&&d(t,["labels"],_);const S=f(e,["beta"]);return t!==void 0&&S!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),l}function sU(e,t){const o={},l=f(e,["baseModel"]);l!=null&&d(o,["baseModel"],l);const a=f(e,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=f(e,["trainingDataset"]);u!=null&&yU(u);const c=f(e,["config"]);return c!=null&&oU(c,o),o}function aU(e,t){const o={},l=f(e,["baseModel"]);l!=null&&d(o,["baseModel"],l);const a=f(e,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=f(e,["trainingDataset"]);u!=null&&vU(u,o,t);const c=f(e,["config"]);return c!=null&&lU(c,o,t),o}function rU(e,t){const o={},l=f(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function uU(e,t){const o={},l=f(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function cU(e,t,o){const l={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const u=f(e,["pageToken"]);t!==void 0&&u!=null&&d(t,["_query","pageToken"],u);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),l}function fU(e,t,o){const l={},a=f(e,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const u=f(e,["pageToken"]);t!==void 0&&u!=null&&d(t,["_query","pageToken"],u);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),l}function dU(e,t){const o={},l=f(e,["config"]);return l!=null&&cU(l,o),o}function pU(e,t){const o={},l=f(e,["config"]);return l!=null&&fU(l,o),o}function hU(e,t){const o={},l=f(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=f(e,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=f(e,["tunedModels"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(p=>P_(p))),d(o,["tuningJobs"],c)}return o}function mU(e,t){const o={},l=f(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=f(e,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=f(e,["tuningJobs"]);if(u!=null){let c=u;Array.isArray(c)&&(c=c.map(p=>Qf(p))),d(o,["tuningJobs"],c)}return o}function gU(e,t){const o={},l=f(e,["name"]);l!=null&&d(o,["model"],l);const a=f(e,["name"]);return a!=null&&d(o,["endpoint"],a),o}function yU(e,t){const o={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=f(e,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(o,["examples","examples"],a)}return o}function vU(e,t,o){const l={};let a=f(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=f(e,["gcsUri"]);t!==void 0&&c!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let u=f(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(u==="PREFERENCE_TUNING"){const c=f(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function P_(e,t){const o={},l=f(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=f(e,["name"]);a!=null&&d(o,["name"],a);const u=f(e,["state"]);u!=null&&d(o,["state"],T_(u));const c=f(e,["createTime"]);c!=null&&d(o,["createTime"],c);const p=f(e,["tuningTask","startTime"]);p!=null&&d(o,["startTime"],p);const g=f(e,["tuningTask","completeTime"]);g!=null&&d(o,["endTime"],g);const h=f(e,["updateTime"]);h!=null&&d(o,["updateTime"],h);const y=f(e,["description"]);y!=null&&d(o,["description"],y);const _=f(e,["baseModel"]);_!=null&&d(o,["baseModel"],_);const S=f(e,["_self"]);return S!=null&&d(o,["tunedModel"],gU(S)),o}function Qf(e,t){const o={},l=f(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=f(e,["name"]);a!=null&&d(o,["name"],a);const u=f(e,["state"]);u!=null&&d(o,["state"],T_(u));const c=f(e,["createTime"]);c!=null&&d(o,["createTime"],c);const p=f(e,["startTime"]);p!=null&&d(o,["startTime"],p);const g=f(e,["endTime"]);g!=null&&d(o,["endTime"],g);const h=f(e,["updateTime"]);h!=null&&d(o,["updateTime"],h);const y=f(e,["error"]);y!=null&&d(o,["error"],y);const _=f(e,["description"]);_!=null&&d(o,["description"],_);const S=f(e,["baseModel"]);S!=null&&d(o,["baseModel"],S);const T=f(e,["tunedModel"]);T!=null&&d(o,["tunedModel"],T);const w=f(e,["preTunedModel"]);w!=null&&d(o,["preTunedModel"],w);const N=f(e,["supervisedTuningSpec"]);N!=null&&d(o,["supervisedTuningSpec"],N);const D=f(e,["preferenceOptimizationSpec"]);D!=null&&d(o,["preferenceOptimizationSpec"],D);const R=f(e,["tuningDataStats"]);R!=null&&d(o,["tuningDataStats"],R);const L=f(e,["encryptionSpec"]);L!=null&&d(o,["encryptionSpec"],L);const z=f(e,["partnerModelTuningSpec"]);z!=null&&d(o,["partnerModelTuningSpec"],z);const U=f(e,["customBaseModel"]);U!=null&&d(o,["customBaseModel"],U);const O=f(e,["experiment"]);O!=null&&d(o,["experiment"],O);const Y=f(e,["labels"]);Y!=null&&d(o,["labels"],Y);const F=f(e,["outputUri"]);F!=null&&d(o,["outputUri"],F);const ie=f(e,["pipelineJob"]);ie!=null&&d(o,["pipelineJob"],ie);const H=f(e,["serviceAccount"]);H!=null&&d(o,["serviceAccount"],H);const K=f(e,["tunedModelDisplayName"]);K!=null&&d(o,["tunedModelDisplayName"],K);const W=f(e,["veoTuningSpec"]);return W!=null&&d(o,["veoTuningSpec"],W),o}function _U(e,t){const o={},l=f(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=f(e,["name"]);a!=null&&d(o,["name"],a);const u=f(e,["metadata"]);u!=null&&d(o,["metadata"],u);const c=f(e,["done"]);c!=null&&d(o,["done"],c);const p=f(e,["error"]);return p!=null&&d(o,["error"],p),o}function V0(e,t){const o={},l=f(e,["gcsUri"]);l!=null&&d(o,["validationDatasetUri"],l);const a=f(e,["vertexDatasetResource"]);return a!=null&&d(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SU extends li{constructor(t){super(),this.apiClient=t,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Eo(oi.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),u=await this.tuneMldevInternal(a);let c="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?c=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(c=u.name.split("/operations/")[0]),{name:c,state:Of.JOB_STATE_QUEUED}}}}async getInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=uU(t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>Qf(y))}else{const h=rU(t);return p=fe("{name}",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>P_(y))}}async listInternal(t){var o,l,a,u;let c,p="",g={};if(this.apiClient.isVertexAI()){const h=pU(t);return p=fe("tuningJobs",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=mU(y),S=new _0;return Object.assign(S,_),S})}else{const h=dU(t);return p=fe("tunedModels",h._url),g=h._query,delete h._url,delete h._query,c=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),c.then(y=>{const _=hU(y),S=new _0;return Object.assign(S,_),S})}}async cancel(t){var o,l,a,u;let c="",p={};if(this.apiClient.isVertexAI()){const g=iU(t);c=fe("{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const g=nU(t);c=fe("{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async tuneInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const p=aU(t,t);return u=fe("tuningJobs",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>Qf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,l;let a,u="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sU(t);return u=fe("tunedModels",p._url),c=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>_U(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EU{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const TU=1024*1024*8,CU=3,xU=1e3,AU=2,kr="x-goog-upload-status";async function NU(e,t,o){var l;const a=await B_(e,t,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[kr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function wU(e,t,o){var l;const a=await B_(e,t,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[kr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=g_(u),p=new Sd;return Object.assign(p,c),p}async function B_(e,t,o){var l,a;let u=0,c=0,p=new Yf(new Response),g="upload";for(u=e.size;c<u;){const h=Math.min(TU,u-c),y=e.slice(c,c+h);c+h>=u&&(g+=", finalize");let _=0,S=xU;for(;_<CU&&(p=await o.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(h)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[kr]));)_++,await RU(S),S=S*AU;if(c+=h,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[kr])!=="active")break;if(u<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function MU(e){return{size:e.size,type:e.type}}function RU(e){return new Promise(t=>setTimeout(t,e))}class bU{async upload(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await NU(t,o,l)}async uploadToFileSearchStore(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await wU(t,o,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await MU(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IU{create(t,o,l){return new DU(t,o,l)}}class DU{constructor(t,o,l){this.url=t,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P0="x-goog-api-key";class UU{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(P0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(P0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zU="gl-node/";class LU{constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const l=fM(t.httpOptions,t.vertexai,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion;const a=new UU(this.apiKey);this.apiClient=new ZI({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:zU+"web",uploader:new bU,downloader:new EU}),this.models=new mD(this.apiClient),this.live=new uD(this.apiClient,a,new IU),this.batches=new VR(this.apiClient),this.chats=new Eb(this.models,this.apiClient),this.caches=new vb(this.apiClient),this.files=new Ib(this.apiClient),this.operations=new gD(this.apiClient),this.authTokens=new DD(this.apiClient),this.tunings=new SU(this.apiClient),this.fileSearchStores=new tU(this.apiClient)}}const HU={type:Oe.ARRAY,items:{type:Oe.OBJECT,properties:{title:{type:Oe.STRING},description:{type:Oe.STRING}},required:["title","description"]}},B0={type:Oe.OBJECT,properties:{nodes:{type:Oe.ARRAY,items:{type:Oe.OBJECT,properties:{id:{type:Oe.STRING},type:{type:Oe.STRING,enum:["view","logic","database","userAction"]},label:{type:Oe.STRING},details:{type:Oe.STRING},x:{type:Oe.NUMBER,description:"X coordinate on a grid (0, 300, 600...)"},y:{type:Oe.NUMBER,description:"Y coordinate on a grid (0, 200, 400...)"}},required:["id","type","label","details","x","y"]}},edges:{type:Oe.ARRAY,items:{type:Oe.OBJECT,properties:{id:{type:Oe.STRING},source:{type:Oe.STRING},target:{type:Oe.STRING},label:{type:Oe.STRING}},required:["id","source","target"]}}},required:["nodes","edges"]};class kU{constructor(t,o,l){this.ai=null,this.apiKey=t,this.modelName=o,this.provider=l,this.provider==="gemini"&&(this.ai=new LU({apiKey:t}))}async callOpenAI(t,o,l=!1){const a=[{role:"system",content:t},{role:"user",content:o}],u={model:this.modelName,messages:a};l&&(u.response_format={type:"json_object"});const c=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify(u)});if(!c.ok){const h=await c.text();throw new Error(`OpenAI API Error: ${h}`)}const g=(await c.json()).choices[0].message.content;if(l)try{return JSON.parse(g)}catch{throw console.error("Failed to parse OpenAI JSON",g),new Error("Invalid JSON response from OpenAI")}return g}async generateFeatures(t,o,l){let a="Focus on standard, essential features for this type of app.";o==="creative"&&(a="Think outside the box. Suggest unique, innovative, and differentiating features that make this app stand out.");let u="Create a balanced set of features for a standard release.";l==="mvp"?u="Strictly focus on a Minimum Viable Product (MVP). List ONLY the absolute critical core features required to validate the idea. Keep it lean and simple.":l==="complete"&&(u="Design a complete, production-ready product. Include comprehensive features, including user settings, administration, edge-case handling, and advanced functionality.");const c=`Generate a list of feature cards for a web/mobile application based on this idea: "${t}". 
    
    Style: ${a}
    Scope: ${u}

    Focus on interactive and functional features.`;if(this.provider==="gemini"){if(!this.ai)throw new Error("AI not initialized");const g=(await this.ai.models.generateContent({model:this.modelName,contents:c+" Return a JSON array.",config:{responseMimeType:"application/json",responseSchema:HU,systemInstruction:"You are an expert product manager."}})).text;return g?JSON.parse(g):[]}else{const p=c+`
        Return a JSON object with a key "features" which is an array of objects.
        Each object must have "title" and "description" fields.
        Example: { "features": [{ "title": "Login", "description": "..." }] }
        `;return(await this.callOpenAI("You are an expert product manager. Output valid JSON.",p,!0)).features||[]}}async generateWorkflow(t,o,l,a){const u=o.map(h=>`${h.title}: ${h.description}`).join(`
`);let c="Create a clear, high-level workflow.";l==="complex"&&(c="Create a comprehensive, detailed workflow.");let p="Include all types of nodes: views, logic, database, user actions.";a==="frontend-only"?p="Focus strictly on Views and Client-side Logic. Do NOT include Database nodes. Simulate backend calls with Logic nodes.":a==="backend-focus"&&(p="Focus heavily on Logic, API endpoints, and Database interactions. Minimize Views, only showing key entry points.");const g=`Create a node-based workflow for an app with these features:
    Idea: ${t}
    Features:
    ${u}
    
    Goal: ${c} Design a logical flow of the application.
    Scope: ${p}

    Return a JSON structure with 'nodes' and 'edges'. 
    Nodes must have x,y coordinates spaced out logically (approx 250-300px gap) to form a visual flow.
    Node types: 'view' (UI screens), 'logic' (functions/api calls), 'database' (storage), 'userAction' (clicks).
    
    Structure:
    {
      "nodes": [{ "id": "1", "type": "view", "label": "Home", "details": "...", "x": 0, "y": 0 }],
      "edges": [{ "id": "e1", "source": "1", "target": "2", "label": "Click" }]
    }
    `;if(this.provider==="gemini"){if(!this.ai)throw new Error("AI not initialized");const y=(await this.ai.models.generateContent({model:this.modelName,contents:g,config:{responseMimeType:"application/json",responseSchema:B0,systemInstruction:"You are a software architect specializing in React Flow diagrams."}})).text;if(!y)throw new Error("No content generated");return JSON.parse(y)}else return await this.callOpenAI("You are a software architect specializing in React Flow diagrams. Output valid JSON.",g,!0)}async extendWorkflow(t,o,l){const u=`
    Existing Workflow JSON: ${JSON.stringify({nodes:t,edges:o})}
    
    User Request: "Add a feature: ${l}"
    
    Generate ONLY the NEW nodes and NEW edges required to implement this feature into the existing workflow.
    - Connect new nodes to relevant existing nodes by ID.
    - Do NOT return the old nodes/edges, only the new ones.
    - Ensure new nodes have distinct IDs (e.g., prefix with 'new-').
    - Place new nodes at x,y coordinates that don't overlap heavily with existing ones.
    
    Return JSON format: { "nodes": [...], "edges": [...] }
    `;if(this.provider==="gemini"){if(!this.ai)throw new Error("AI not initialized");const p=(await this.ai.models.generateContent({model:this.modelName,contents:u,config:{responseMimeType:"application/json",responseSchema:B0}})).text;if(!p)throw new Error("No content generated");return JSON.parse(p)}else return await this.callOpenAI("You are a software architect. Output valid JSON.",u,!0)}async generateDescription(t,o,l,a){const u=JSON.stringify({nodes:o.map(g=>({label:g.data.label,type:g.data.type,details:g.data.details})),edges:l.length});let c="Write a concise 1-paragraph summary abstract.";a==="detailed"&&(c="Write a comprehensive technical document including architecture overview, user flow breakdown, and data handling details. Use Markdown formatting with headers.");const p=`Based on the following workflow design, write a professional technical explanation for the application "${t}".
    
    Workflow Summary: ${u}
    
    Instruction: ${c}
    
    Include:
    1. Summary of the architecture.
    2. Key interactions described in the diagram.
    `;if(this.provider==="gemini"){if(!this.ai)throw new Error("AI not initialized");return(await this.ai.models.generateContent({model:this.modelName,contents:p})).text||"Could not generate description."}else return await this.callOpenAI("You are a technical writer.",p,!1)}}const qU=()=>{const[e,t]=X.useState({step:"setup",apiKey:"",provider:"gemini",model:"",idea:"",features:[],graph:{nodes:[],edges:[],isGenerated:!1,version:0},config:{featureStyle:"standard",workflowComplexity:"simple",workflowType:"full-stack",summaryLength:"short",productScope:"mvp"}}),[o,l]=X.useState(!1),[a,u]=X.useState("AI is thinking..."),[c,p]=X.useState(""),[g,h]=X.useState(""),y=X.useMemo(()=>e.apiKey?new kU(e.apiKey,e.model,e.provider):null,[e.apiKey,e.model,e.provider]),_=(H,K)=>{t(W=>({...W,config:{...W.config,[H]:K}}))},S=H=>{t(K=>({...K,step:H}))},T=H=>{const K=H.target.value;t(W=>({...W,model:K}))},w=(H,K,W)=>{t(oe=>({...oe,apiKey:H,model:K,provider:W,step:"ideation"}))},N=async()=>{if(!(!y||!e.idea.trim())){l(!0),u("Brainstorming features...");try{const K=(await y.generateFeatures(e.idea,e.config.featureStyle,e.config.productScope)).map((W,oe)=>({...W,id:`f-${oe}`,selected:!0}));t(W=>({...W,features:K,step:"features"}))}catch(H){alert("Failed to generate features. Please check your API key."),console.error(H)}finally{l(!1)}}},D=H=>{t(K=>({...K,features:K.features.map(W=>W.id===H?{...W,selected:!W.selected}:W)}))},R=(H,K,W)=>{t(oe=>({...oe,features:oe.features.map(ne=>ne.id===H?{...ne,title:K,description:W}:ne)}))},L=H=>{t(K=>({...K,features:K.features.filter(W=>W.id!==H)}))},z=()=>{if(!g.trim())return;const H={id:`custom-${Date.now()}`,title:g,description:"User defined feature",selected:!0};t(K=>({...K,features:[...K.features,H]})),h("")},U=async()=>{if(!y)return;const H=e.features.filter(K=>K.selected);if(H.length===0){alert("Please select at least one feature.");return}l(!0),u("Architecting workflow diagram...");try{const K=await y.generateWorkflow(e.idea,H,e.config.workflowComplexity,e.config.workflowType),W=K.nodes.map(ne=>({id:ne.id,type:ne.type,position:{x:ne.x,y:ne.y},data:{label:ne.label,details:ne.details,type:ne.type}})),oe=K.edges.map(ne=>({id:ne.id,source:ne.source,target:ne.target,label:ne.label,animated:!0}));t(ne=>({...ne,graph:{nodes:W,edges:oe,isGenerated:!0,version:ne.graph.version+1},step:"workflow"}))}catch(K){console.error(K),alert("Failed to generate diagram.")}finally{l(!1)}},O=(H,K)=>{t(W=>({...W,graph:{...W.graph,nodes:H,edges:K}}))},Y=async(H,K,W)=>{if(y){l(!0),u("Writing technical documentation..."),_("summaryLength",W);try{const oe=await y.generateDescription(e.idea,H,K,W);p(oe),t(ne=>({...ne,step:"summary"}))}catch(oe){console.error(oe),p("Failed to generate description."),t(ne=>({...ne,step:"summary"}))}finally{l(!1)}}},F=()=>{t(H=>({...H,step:"ideation",features:[],graph:{nodes:[],edges:[],isGenerated:!1,version:0},idea:""})),p("")},ie=({label:H,targetStep:K,currentStep:W})=>{const oe=["setup","ideation","features","workflow","summary"],ne=oe.indexOf(K),M=oe.indexOf(W),Z=ne<M,A=ne===M;return b.jsx("button",{onClick:()=>Z&&S(K),disabled:!Z&&!A,className:`flex items-center text-sm font-medium transition-colors 
          ${A?"text-indigo-600":Z?"text-slate-600 hover:text-indigo-600 hover:underline":"text-slate-300"}
        `,children:H})};return b.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans selection:bg-indigo-100 flex flex-col",children:[o&&b.jsx(m_,{message:a}),e.step==="setup"&&b.jsx(cC,{onComplete:w}),b.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-40",children:b.jsxs("div",{className:"max-w-6xl mx-auto px-4 h-16 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"bg-indigo-600 text-white p-1.5 rounded-lg",children:b.jsx(gT,{size:20})}),b.jsxs("h1",{className:"font-bold text-xl tracking-tight hidden sm:block",children:["AppArchitect ",b.jsx("span",{className:"text-indigo-600",children:"AI"})]})]}),e.step!=="setup"&&b.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[b.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),b.jsx(ie,{label:"Idea",targetStep:"ideation",currentStep:e.step}),b.jsx(pf,{size:14,className:"text-slate-300"}),b.jsx(ie,{label:"Features",targetStep:"features",currentStep:e.step}),b.jsx(pf,{size:14,className:"text-slate-300"}),b.jsx(ie,{label:"Workflow",targetStep:"workflow",currentStep:e.step}),b.jsx(pf,{size:14,className:"text-slate-300"}),b.jsx(ie,{label:"Summary",targetStep:"summary",currentStep:e.step})]})]}),e.step!=="setup"&&b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"hidden sm:inline font-semibold text-slate-400",children:e.provider==="gemini"?"Gemini":"OpenAI"}),b.jsxs("select",{value:e.model,onChange:T,className:"bg-slate-100 border-none rounded text-xs font-mono text-indigo-700 py-1 px-2 cursor-pointer hover:bg-slate-200 transition-colors max-w-[150px] truncate",children:[b.jsx("option",{value:e.model,children:e.model}),e.provider==="gemini"?b.jsxs(b.Fragment,{children:[b.jsx("option",{value:rn.GEMINI_FLASH,children:"Gemini Flash"}),b.jsx("option",{value:rn.GEMINI_3_PRO,children:"Gemini 3 Pro"})]}):b.jsxs(b.Fragment,{children:[b.jsx("option",{value:rn.GPT_4O,children:"GPT-4o"}),b.jsx("option",{value:rn.GPT_35_TURBO,children:"GPT-3.5"})]})]})]}),b.jsxs("button",{onClick:F,className:"flex items-center gap-1 hover:text-red-500 transition-colors",children:[b.jsx(WT,{size:14})," ",b.jsx("span",{className:"hidden sm:inline",children:"Restart"})]})]})]})}),b.jsxs("main",{className:"flex-1 max-w-6xl mx-auto px-4 py-8 w-full",children:[e.step==="ideation"&&b.jsx("div",{className:"max-w-2xl mx-auto mt-8 text-center animate-in fade-in slide-in-from-bottom-4 duration-500",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-200",children:[b.jsx("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(kT,{size:24})}),b.jsx("h2",{className:"text-3xl font-bold mb-4",children:"What do you want to build?"}),b.jsx("p",{className:"text-slate-500 mb-8",children:"Describe your app idea in a sentence or two."}),b.jsxs("div",{className:"mb-6 flex flex-wrap justify-center gap-4",children:[b.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Creativity"}),b.jsxs("div",{className:"inline-flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[b.jsx("button",{onClick:()=>_("featureStyle","standard"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e.config.featureStyle==="standard"?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Standard"}),b.jsx("button",{onClick:()=>_("featureStyle","creative"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${e.config.featureStyle==="creative"?"bg-white text-pink-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Wild"})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-2",children:[b.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Scope"}),b.jsxs("div",{className:"inline-flex bg-slate-100 p-1 rounded-lg border border-slate-200",children:[b.jsxs("button",{onClick:()=>_("productScope","mvp"),title:"Minimum Viable Product (Prototype)",className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-1 ${e.config.productScope==="mvp"?"bg-white text-emerald-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(nC,{size:14})," MVP"]}),b.jsxs("button",{onClick:()=>_("productScope","complete"),title:"Complete Production Product",className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all flex items-center gap-1 ${e.config.productScope==="complete"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[b.jsx(LT,{size:14})," Full"]})]})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"text",value:e.idea,onChange:H=>t(K=>({...K,idea:H.target.value})),placeholder:"e.g., A fitness tracker for dogs with social features...",className:"w-full p-4 pr-14 text-lg border-2 border-slate-200 rounded-xl focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all",onKeyDown:H=>H.key==="Enter"&&N()}),b.jsx("button",{onClick:N,disabled:o||!e.idea,className:"absolute right-2 top-2 bottom-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white px-4 rounded-lg transition-colors flex items-center",children:b.jsx(Tg,{})})]})]})}),e.step==="features"&&b.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-6 gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Core Features"}),b.jsxs("p",{className:"text-slate-500",children:["Select and refine the features. ",b.jsx("span",{className:"hidden sm:inline",children:"Click edit icon to modify text."})]})]}),b.jsxs("div",{className:"bg-white p-3 rounded-xl border border-slate-200 shadow-sm flex flex-col sm:flex-row gap-4 items-center",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Components"}),b.jsxs("select",{value:e.config.workflowType,onChange:H=>_("workflowType",H.target.value),className:"text-sm bg-slate-50 border border-slate-200 rounded px-2 py-1 outline-none focus:border-indigo-500",children:[b.jsx("option",{value:"full-stack",children:"Full Stack (View + API + DB)"}),b.jsx("option",{value:"frontend-only",children:"Frontend Only"}),b.jsx("option",{value:"backend-focus",children:"Backend Focus"})]})]}),b.jsx("div",{className:"h-8 w-px bg-slate-200 hidden sm:block"}),b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Complexity"}),b.jsxs("select",{value:e.config.workflowComplexity,onChange:H=>_("workflowComplexity",H.target.value),className:"text-sm bg-slate-50 border border-slate-200 rounded px-2 py-1 outline-none focus:border-indigo-500",children:[b.jsx("option",{value:"simple",children:"Simple Flow"}),b.jsx("option",{value:"complex",children:"Complex Flow"})]})]}),b.jsx("div",{className:"h-8 w-px bg-slate-200 hidden sm:block"}),b.jsxs("button",{onClick:()=>U(),disabled:o,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2.5 rounded-lg font-semibold flex items-center justify-center gap-2 shadow-lg shadow-indigo-200 transition-all hover:-translate-y-0.5",children:[b.jsx(J0,{size:18}),"Generate Workflow"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:[e.features.map(H=>b.jsx(fC,{feature:H,onToggle:D,onEdit:R,onDelete:H.id.startsWith("custom")?L:void 0,custom:H.id.startsWith("custom")},H.id)),b.jsxs("div",{className:"p-5 rounded-xl border-2 border-dashed border-slate-300 bg-slate-50 flex flex-col justify-center gap-3",children:[b.jsx("h3",{className:"font-bold text-slate-500",children:"Add Custom Feature"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("input",{type:"text",value:g,onChange:H=>h(H.target.value),placeholder:"Feature name...",className:"flex-1 px-3 py-2 text-sm border border-slate-300 rounded focus:border-indigo-500 outline-none",onKeyDown:H=>H.key==="Enter"&&z()}),b.jsx("button",{onClick:z,className:"bg-slate-200 hover:bg-slate-300 text-slate-700 p-2 rounded transition-colors",children:b.jsx(Tg,{size:16})})]})]})]})]}),e.step==="workflow"&&y&&b.jsxs("div",{className:"animate-in fade-in duration-500 h-full flex flex-col",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("h2",{className:"text-2xl font-bold",children:"Interactive Workflow"}),b.jsx("p",{className:"text-slate-500 text-sm",children:"Drag nodes, connect handles, or ask AI to expand the system."})]}),b.jsx("div",{className:"flex-1",children:b.jsx(aM,{initialNodes:e.graph.nodes,initialEdges:e.graph.edges,geminiService:y,onGraphUpdate:O,onSave:Y},`workflow-${e.graph.version}`)})]}),e.step==="summary"&&b.jsx("div",{className:"max-w-3xl mx-auto animate-in zoom-in-95 duration-500",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200",children:[b.jsxs("div",{className:"bg-slate-900 text-white p-8",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-400",children:[b.jsx(RT,{className:"w-6 h-6"}),b.jsx("span",{className:"font-bold uppercase tracking-wider text-sm",children:"Architecture Brief"})]}),b.jsx("h2",{className:"text-3xl font-bold mb-2",children:e.idea}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[b.jsxs("span",{className:"capitalize",children:[e.config.workflowComplexity," Diagram"]}),b.jsx("span",{children:""}),b.jsx("span",{className:"capitalize",children:e.config.workflowType})]})]}),b.jsx("div",{className:"p-8 prose prose-slate max-w-none",children:b.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-slate-700",children:c})}),b.jsxs("div",{className:"bg-slate-50 p-6 border-t border-slate-200 flex justify-end gap-3",children:[b.jsx("button",{onClick:()=>S("workflow"),className:"text-slate-600 font-semibold px-4 py-2 hover:bg-slate-200 rounded-lg transition-colors",children:"Back to Editor"}),b.jsx("button",{className:"bg-indigo-600 text-white font-bold px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"Export PDF (Demo)"})]})]})})]})]})},F_=document.getElementById("root");if(!F_)throw new Error("Could not find root element to mount to");const GU=sT.createRoot(F_);GU.render(b.jsx(ae.StrictMode,{children:b.jsx(qU,{})}));
